
gcpGoogle Cloud"8.12.1*çƒ
a
blockchainnodeengineBlockchainNodes8gcp:blockchainnodeengine/blockchainNodes:BlockchainNodesœoA representation of a blockchain node.


To get more information about BlockchainNodes, see:

* [API documentation](https://cloud.google.com/blockchain-node-engine/docs/reference/rest/v1/projects.locations.blockchainNodes)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/blockchain-node-engine)

## Example Usage

### Blockchain Nodes Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const defaultNode = new gcp.blockchainnodeengine.BlockchainNodes("default_node", {
    location: "us-central1",
    blockchainType: "ETHEREUM",
    blockchainNodeId: "blockchain_basic_node",
    ethereumDetails: {
        apiEnableAdmin: true,
        apiEnableDebug: true,
        validatorConfig: {
            mevRelayUrls: [
                "https://mev1.example.org/",
                "https://mev2.example.org/",
            ],
        },
        nodeType: "ARCHIVE",
        consensusClient: "LIGHTHOUSE",
        executionClient: "ERIGON",
        network: "MAINNET",
    },
    labels: {
        environment: "dev",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default_node = gcp.blockchainnodeengine.BlockchainNodes("default_node",
    location="us-central1",
    blockchain_type="ETHEREUM",
    blockchain_node_id="blockchain_basic_node",
    ethereum_details={
        "api_enable_admin": True,
        "api_enable_debug": True,
        "validator_config": {
            "mev_relay_urls": [
                "https://mev1.example.org/",
                "https://mev2.example.org/",
            ],
        },
        "node_type": "ARCHIVE",
        "consensus_client": "LIGHTHOUSE",
        "execution_client": "ERIGON",
        "network": "MAINNET",
    },
    labels={
        "environment": "dev",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var defaultNode = new Gcp.BlockchainNodeEngine.BlockchainNodes("default_node", new()
    {
        Location = "us-central1",
        BlockchainType = "ETHEREUM",
        BlockchainNodeId = "blockchain_basic_node",
        EthereumDetails = new Gcp.BlockchainNodeEngine.Inputs.BlockchainNodesEthereumDetailsArgs
        {
            ApiEnableAdmin = true,
            ApiEnableDebug = true,
            ValidatorConfig = new Gcp.BlockchainNodeEngine.Inputs.BlockchainNodesEthereumDetailsValidatorConfigArgs
            {
                MevRelayUrls = new[]
                {
                    "https://mev1.example.org/",
                    "https://mev2.example.org/",
                },
            },
            NodeType = "ARCHIVE",
            ConsensusClient = "LIGHTHOUSE",
            ExecutionClient = "ERIGON",
            Network = "MAINNET",
        },
        Labels = 
        {
            { "environment", "dev" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/blockchainnodeengine"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := blockchainnodeengine.NewBlockchainNodes(ctx, "default_node", &blockchainnodeengine.BlockchainNodesArgs{
			Location:         pulumi.String("us-central1"),
			BlockchainType:   pulumi.String("ETHEREUM"),
			BlockchainNodeId: pulumi.String("blockchain_basic_node"),
			EthereumDetails: &blockchainnodeengine.BlockchainNodesEthereumDetailsArgs{
				ApiEnableAdmin: pulumi.Bool(true),
				ApiEnableDebug: pulumi.Bool(true),
				ValidatorConfig: &blockchainnodeengine.BlockchainNodesEthereumDetailsValidatorConfigArgs{
					MevRelayUrls: pulumi.StringArray{
						pulumi.String("https://mev1.example.org/"),
						pulumi.String("https://mev2.example.org/"),
					},
				},
				NodeType:        pulumi.String("ARCHIVE"),
				ConsensusClient: pulumi.String("LIGHTHOUSE"),
				ExecutionClient: pulumi.String("ERIGON"),
				Network:         pulumi.String("MAINNET"),
			},
			Labels: pulumi.StringMap{
				"environment": pulumi.String("dev"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.blockchainnodeengine.BlockchainNodes;
import com.pulumi.gcp.blockchainnodeengine.BlockchainNodesArgs;
import com.pulumi.gcp.blockchainnodeengine.inputs.BlockchainNodesEthereumDetailsArgs;
import com.pulumi.gcp.blockchainnodeengine.inputs.BlockchainNodesEthereumDetailsValidatorConfigArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var defaultNode = new BlockchainNodes("defaultNode", BlockchainNodesArgs.builder()
            .location("us-central1")
            .blockchainType("ETHEREUM")
            .blockchainNodeId("blockchain_basic_node")
            .ethereumDetails(BlockchainNodesEthereumDetailsArgs.builder()
                .apiEnableAdmin(true)
                .apiEnableDebug(true)
                .validatorConfig(BlockchainNodesEthereumDetailsValidatorConfigArgs.builder()
                    .mevRelayUrls(                    
                        "https://mev1.example.org/",
                        "https://mev2.example.org/")
                    .build())
                .nodeType("ARCHIVE")
                .consensusClient("LIGHTHOUSE")
                .executionClient("ERIGON")
                .network("MAINNET")
                .build())
            .labels(Map.of("environment", "dev"))
            .build());

    }
}
```
```yaml
resources:
  defaultNode:
    type: gcp:blockchainnodeengine:BlockchainNodes
    name: default_node
    properties:
      location: us-central1
      blockchainType: ETHEREUM
      blockchainNodeId: blockchain_basic_node
      ethereumDetails:
        apiEnableAdmin: true
        apiEnableDebug: true
        validatorConfig:
          mevRelayUrls:
            - https://mev1.example.org/
            - https://mev2.example.org/
        nodeType: ARCHIVE
        consensusClient: LIGHTHOUSE
        executionClient: ERIGON
        network: MAINNET
      labels:
        environment: dev
```
<!--End PulumiCodeChooser -->
### Blockchain Nodes Geth Details


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const defaultNodeGeth = new gcp.blockchainnodeengine.BlockchainNodes("default_node_geth", {
    location: "us-central1",
    blockchainType: "ETHEREUM",
    blockchainNodeId: "blockchain_geth_node",
    ethereumDetails: {
        apiEnableAdmin: true,
        apiEnableDebug: true,
        validatorConfig: {
            mevRelayUrls: [
                "https://mev1.example.org/",
                "https://mev2.example.org/",
            ],
        },
        nodeType: "FULL",
        consensusClient: "LIGHTHOUSE",
        executionClient: "GETH",
        network: "MAINNET",
        gethDetails: {
            garbageCollectionMode: "FULL",
        },
    },
    labels: {
        environment: "dev",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default_node_geth = gcp.blockchainnodeengine.BlockchainNodes("default_node_geth",
    location="us-central1",
    blockchain_type="ETHEREUM",
    blockchain_node_id="blockchain_geth_node",
    ethereum_details={
        "api_enable_admin": True,
        "api_enable_debug": True,
        "validator_config": {
            "mev_relay_urls": [
                "https://mev1.example.org/",
                "https://mev2.example.org/",
            ],
        },
        "node_type": "FULL",
        "consensus_client": "LIGHTHOUSE",
        "execution_client": "GETH",
        "network": "MAINNET",
        "geth_details": {
            "garbage_collection_mode": "FULL",
        },
    },
    labels={
        "environment": "dev",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var defaultNodeGeth = new Gcp.BlockchainNodeEngine.BlockchainNodes("default_node_geth", new()
    {
        Location = "us-central1",
        BlockchainType = "ETHEREUM",
        BlockchainNodeId = "blockchain_geth_node",
        EthereumDetails = new Gcp.BlockchainNodeEngine.Inputs.BlockchainNodesEthereumDetailsArgs
        {
            ApiEnableAdmin = true,
            ApiEnableDebug = true,
            ValidatorConfig = new Gcp.BlockchainNodeEngine.Inputs.BlockchainNodesEthereumDetailsValidatorConfigArgs
            {
                MevRelayUrls = new[]
                {
                    "https://mev1.example.org/",
                    "https://mev2.example.org/",
                },
            },
            NodeType = "FULL",
            ConsensusClient = "LIGHTHOUSE",
            ExecutionClient = "GETH",
            Network = "MAINNET",
            GethDetails = new Gcp.BlockchainNodeEngine.Inputs.BlockchainNodesEthereumDetailsGethDetailsArgs
            {
                GarbageCollectionMode = "FULL",
            },
        },
        Labels = 
        {
            { "environment", "dev" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/blockchainnodeengine"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := blockchainnodeengine.NewBlockchainNodes(ctx, "default_node_geth", &blockchainnodeengine.BlockchainNodesArgs{
			Location:         pulumi.String("us-central1"),
			BlockchainType:   pulumi.String("ETHEREUM"),
			BlockchainNodeId: pulumi.String("blockchain_geth_node"),
			EthereumDetails: &blockchainnodeengine.BlockchainNodesEthereumDetailsArgs{
				ApiEnableAdmin: pulumi.Bool(true),
				ApiEnableDebug: pulumi.Bool(true),
				ValidatorConfig: &blockchainnodeengine.BlockchainNodesEthereumDetailsValidatorConfigArgs{
					MevRelayUrls: pulumi.StringArray{
						pulumi.String("https://mev1.example.org/"),
						pulumi.String("https://mev2.example.org/"),
					},
				},
				NodeType:        pulumi.String("FULL"),
				ConsensusClient: pulumi.String("LIGHTHOUSE"),
				ExecutionClient: pulumi.String("GETH"),
				Network:         pulumi.String("MAINNET"),
				GethDetails: &blockchainnodeengine.BlockchainNodesEthereumDetailsGethDetailsArgs{
					GarbageCollectionMode: pulumi.String("FULL"),
				},
			},
			Labels: pulumi.StringMap{
				"environment": pulumi.String("dev"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.blockchainnodeengine.BlockchainNodes;
import com.pulumi.gcp.blockchainnodeengine.BlockchainNodesArgs;
import com.pulumi.gcp.blockchainnodeengine.inputs.BlockchainNodesEthereumDetailsArgs;
import com.pulumi.gcp.blockchainnodeengine.inputs.BlockchainNodesEthereumDetailsValidatorConfigArgs;
import com.pulumi.gcp.blockchainnodeengine.inputs.BlockchainNodesEthereumDetailsGethDetailsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var defaultNodeGeth = new BlockchainNodes("defaultNodeGeth", BlockchainNodesArgs.builder()
            .location("us-central1")
            .blockchainType("ETHEREUM")
            .blockchainNodeId("blockchain_geth_node")
            .ethereumDetails(BlockchainNodesEthereumDetailsArgs.builder()
                .apiEnableAdmin(true)
                .apiEnableDebug(true)
                .validatorConfig(BlockchainNodesEthereumDetailsValidatorConfigArgs.builder()
                    .mevRelayUrls(                    
                        "https://mev1.example.org/",
                        "https://mev2.example.org/")
                    .build())
                .nodeType("FULL")
                .consensusClient("LIGHTHOUSE")
                .executionClient("GETH")
                .network("MAINNET")
                .gethDetails(BlockchainNodesEthereumDetailsGethDetailsArgs.builder()
                    .garbageCollectionMode("FULL")
                    .build())
                .build())
            .labels(Map.of("environment", "dev"))
            .build());

    }
}
```
```yaml
resources:
  defaultNodeGeth:
    type: gcp:blockchainnodeengine:BlockchainNodes
    name: default_node_geth
    properties:
      location: us-central1
      blockchainType: ETHEREUM
      blockchainNodeId: blockchain_geth_node
      ethereumDetails:
        apiEnableAdmin: true
        apiEnableDebug: true
        validatorConfig:
          mevRelayUrls:
            - https://mev1.example.org/
            - https://mev2.example.org/
        nodeType: FULL
        consensusClient: LIGHTHOUSE
        executionClient: GETH
        network: MAINNET
        gethDetails:
          garbageCollectionMode: FULL
      labels:
        environment: dev
```
<!--End PulumiCodeChooser -->

## Import

BlockchainNodes can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/blockchainNodes/{{blockchain_node_id}}`

* `{{project}}/{{location}}/{{blockchain_node_id}}`

* `{{location}}/{{blockchain_node_id}}`

When using the `pulumi import` command, BlockchainNodes can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:blockchainnodeengine/blockchainNodes:BlockchainNodes default projects/{{project}}/locations/{{location}}/blockchainNodes/{{blockchain_node_id}}
```

```sh
$ pulumi import gcp:blockchainnodeengine/blockchainNodes:BlockchainNodes default {{project}}/{{location}}/{{blockchain_node_id}}
```

```sh
$ pulumi import gcp:blockchainnodeengine/blockchainNodes:BlockchainNodes default {{location}}/{{blockchain_node_id}}
```

=
blockchainNodeId" %ID of the requesting object.


- - -
W
blockchainTypeB" ?User-provided key-value pairs
Possible values are: `ETHEREUM`.
ê
ethereumDetails—B”:‘
Ž
blockchainnodeengineBlockchainNodesEthereumDetailsVgcp:blockchainnodeengine/BlockchainNodesEthereumDetails:BlockchainNodesEthereumDetails=User-provided key-value pairs
Structure is documented below.
ø
labelsB2" åUser-provided key-value pairs

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
;
location" +Location of Blockchain Node being created.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"=
blockchainNodeId" %ID of the requesting object.


- - -
"W
blockchainTypeB" ?User-provided key-value pairs
Possible values are: `ETHEREUM`.
"–
connectionInfos”*‘:Ž
‹
blockchainnodeengineBlockchainNodesConnectionInfoTgcp:blockchainnodeengine/BlockchainNodesConnectionInfo:BlockchainNodesConnectionInfolThe connection information through which to interact with a blockchain node.
Structure is documented below.
"P

createTime" >The timestamp at which the blockchain node was first created.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"ê
ethereumDetails—B”:‘
Ž
blockchainnodeengineBlockchainNodesEthereumDetailsVgcp:blockchainnodeengine/BlockchainNodesEthereumDetails:BlockchainNodesEthereumDetails=User-provided key-value pairs
Structure is documented below.
"ø
labelsB2" åUser-provided key-value pairs

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
";
location" +Location of Blockchain Node being created.
"…
name" yThe fully qualified name of the blockchain node. e.g. projects/my-project/locations/us-central1/blockchainNodes/my-node.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"O

updateTime" =The timestamp at which the blockchain node was last updated.
*¼è
O
certificateauthority	Authority,gcp:certificateauthority/authority:Authority®§A CertificateAuthority represents an individual Certificate Authority. A
CertificateAuthority can be used to create Certificates.


To get more information about CertificateAuthority, see:

* [API documentation](https://cloud.google.com/certificate-authority-service/docs/reference/rest)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/certificate-authority-service)

> **Warning:** On newer versions of the provider, you must explicitly set `deletion_protection=false`
(and run `pulumi up` to write the field to state) in order to destroy a CertificateAuthority.
It is recommended to not set this field (or set it to true) until you're ready to destroy.

## Example Usage

### Privateca Certificate Authority Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificateauthority.Authority("default", {
    pool: "ca-pool",
    certificateAuthorityId: "my-certificate-authority",
    location: "us-central1",
    deletionProtection: true,
    config: {
        subjectConfig: {
            subject: {
                organization: "ACME",
                commonName: "my-certificate-authority",
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {},
            },
        },
    },
    lifetime: `${10 * 365 * 24 * 3600}s`,
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.Authority("default",
    pool="ca-pool",
    certificate_authority_id="my-certificate-authority",
    location="us-central1",
    deletion_protection=True,
    config={
        "subject_config": {
            "subject": {
                "organization": "ACME",
                "common_name": "my-certificate-authority",
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {},
            },
        },
    },
    lifetime=f"{10 * 365 * 24 * 3600}s",
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Pool = "ca-pool",
        CertificateAuthorityId = "my-certificate-authority",
        Location = "us-central1",
        DeletionProtection = true,
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "ACME",
                    CommonName = "my-certificate-authority",
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = null,
                },
            },
        },
        Lifetime = $"{10 * 365 * 24 * 3600}s",
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Pool:                   pulumi.String("ca-pool"),
			CertificateAuthorityId: pulumi.String("my-certificate-authority"),
			Location:               pulumi.String("us-central1"),
			DeletionProtection:     pulumi.Bool(true),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("ACME"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{},
					},
				},
			},
			Lifetime: pulumi.Sprintf("%vs", 10*365*24*3600),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new Authority("default", AuthorityArgs.builder()
            .pool("ca-pool")
            .certificateAuthorityId("my-certificate-authority")
            .location("us-central1")
            .deletionProtection(true)
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("ACME")
                        .commonName("my-certificate-authority")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage()
                        .build())
                    .build())
                .build())
            .lifetime(String.format("%ss", 10 * 365 * 24 * 3600))
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .build());

    }
}
```
<!--End PulumiCodeChooser -->
### Privateca Certificate Authority Subordinate


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const root_ca = new gcp.certificateauthority.Authority("root-ca", {
    pool: "ca-pool",
    certificateAuthorityId: "my-certificate-authority-root",
    location: "us-central1",
    config: {
        subjectConfig: {
            subject: {
                organization: "ACME",
                commonName: "my-certificate-authority",
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {},
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const _default = new gcp.certificateauthority.Authority("default", {
    pool: "ca-pool",
    certificateAuthorityId: "my-certificate-authority-sub",
    location: "us-central1",
    deletionProtection: true,
    subordinateConfig: {
        certificateAuthority: root_ca.name,
    },
    config: {
        subjectConfig: {
            subject: {
                organization: "ACME",
                commonName: "my-subordinate-authority",
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
                zeroMaxIssuerPathLength: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {},
            },
        },
    },
    lifetime: `${5 * 365 * 24 * 3600}s`,
    keySpec: {
        algorithm: "RSA_PKCS1_2048_SHA256",
    },
    type: "SUBORDINATE",
});
```
```python
import pulumi
import pulumi_gcp as gcp

root_ca = gcp.certificateauthority.Authority("root-ca",
    pool="ca-pool",
    certificate_authority_id="my-certificate-authority-root",
    location="us-central1",
    config={
        "subject_config": {
            "subject": {
                "organization": "ACME",
                "common_name": "my-certificate-authority",
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {},
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default = gcp.certificateauthority.Authority("default",
    pool="ca-pool",
    certificate_authority_id="my-certificate-authority-sub",
    location="us-central1",
    deletion_protection=True,
    subordinate_config={
        "certificate_authority": root_ca.name,
    },
    config={
        "subject_config": {
            "subject": {
                "organization": "ACME",
                "common_name": "my-subordinate-authority",
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
                "zero_max_issuer_path_length": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {},
            },
        },
    },
    lifetime=f"{5 * 365 * 24 * 3600}s",
    key_spec={
        "algorithm": "RSA_PKCS1_2048_SHA256",
    },
    type="SUBORDINATE")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var root_ca = new Gcp.CertificateAuthority.Authority("root-ca", new()
    {
        Pool = "ca-pool",
        CertificateAuthorityId = "my-certificate-authority-root",
        Location = "us-central1",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "ACME",
                    CommonName = "my-certificate-authority",
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = null,
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var @default = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Pool = "ca-pool",
        CertificateAuthorityId = "my-certificate-authority-sub",
        Location = "us-central1",
        DeletionProtection = true,
        SubordinateConfig = new Gcp.CertificateAuthority.Inputs.AuthoritySubordinateConfigArgs
        {
            CertificateAuthority = root_ca.Name,
        },
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "ACME",
                    CommonName = "my-subordinate-authority",
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                    ZeroMaxIssuerPathLength = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = null,
                },
            },
        },
        Lifetime = $"{5 * 365 * 24 * 3600}s",
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_2048_SHA256",
        },
        Type = "SUBORDINATE",
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewAuthority(ctx, "root-ca", &certificateauthority.AuthorityArgs{
			Pool:                   pulumi.String("ca-pool"),
			CertificateAuthorityId: pulumi.String("my-certificate-authority-root"),
			Location:               pulumi.String("us-central1"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("ACME"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Pool:                   pulumi.String("ca-pool"),
			CertificateAuthorityId: pulumi.String("my-certificate-authority-sub"),
			Location:               pulumi.String("us-central1"),
			DeletionProtection:     pulumi.Bool(true),
			SubordinateConfig: &certificateauthority.AuthoritySubordinateConfigArgs{
				CertificateAuthority: root_ca.Name,
			},
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("ACME"),
						CommonName:   pulumi.String("my-subordinate-authority"),
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa:                    pulumi.Bool(true),
						ZeroMaxIssuerPathLength: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{},
					},
				},
			},
			Lifetime: pulumi.Sprintf("%vs", 5*365*24*3600),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_2048_SHA256"),
			},
			Type: pulumi.String("SUBORDINATE"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthoritySubordinateConfigArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var root_ca = new Authority("root-ca", AuthorityArgs.builder()
            .pool("ca-pool")
            .certificateAuthorityId("my-certificate-authority-root")
            .location("us-central1")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("ACME")
                        .commonName("my-certificate-authority")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage()
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var default_ = new Authority("default", AuthorityArgs.builder()
            .pool("ca-pool")
            .certificateAuthorityId("my-certificate-authority-sub")
            .location("us-central1")
            .deletionProtection(true)
            .subordinateConfig(AuthoritySubordinateConfigArgs.builder()
                .certificateAuthority(root_ca.name())
                .build())
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("ACME")
                        .commonName("my-subordinate-authority")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .zeroMaxIssuerPathLength(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage()
                        .build())
                    .build())
                .build())
            .lifetime(String.format("%ss", 5 * 365 * 24 * 3600))
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_2048_SHA256")
                .build())
            .type("SUBORDINATE")
            .build());

    }
}
```
<!--End PulumiCodeChooser -->
### Privateca Certificate Authority Byo Key


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const privatecaSa = new gcp.projects.ServiceIdentity("privateca_sa", {service: "privateca.googleapis.com"});
const privatecaSaKeyuserSignerverifier = new gcp.kms.CryptoKeyIAMMember("privateca_sa_keyuser_signerverifier", {
    cryptoKeyId: "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
    role: "roles/cloudkms.signerVerifier",
    member: privatecaSa.member,
});
const privatecaSaKeyuserViewer = new gcp.kms.CryptoKeyIAMMember("privateca_sa_keyuser_viewer", {
    cryptoKeyId: "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
    role: "roles/viewer",
    member: privatecaSa.member,
});
const _default = new gcp.certificateauthority.Authority("default", {
    pool: "ca-pool",
    certificateAuthorityId: "my-certificate-authority",
    location: "us-central1",
    deletionProtection: true,
    keySpec: {
        cloudKmsKeyVersion: "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
    },
    config: {
        subjectConfig: {
            subject: {
                organization: "Example, Org.",
                commonName: "Example Authority",
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {},
            },
            nameConstraints: {
                critical: true,
                permittedDnsNames: ["*.example.com"],
                excludedDnsNames: ["*.deny.example.com"],
                permittedIpRanges: ["10.0.0.0/8"],
                excludedIpRanges: ["10.1.1.0/24"],
                permittedEmailAddresses: [".example.com"],
                excludedEmailAddresses: [".deny.example.com"],
                permittedUris: [".example.com"],
                excludedUris: [".deny.example.com"],
            },
        },
    },
}, {
    dependsOn: [
        privatecaSaKeyuserSignerverifier,
        privatecaSaKeyuserViewer,
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

privateca_sa = gcp.projects.ServiceIdentity("privateca_sa", service="privateca.googleapis.com")
privateca_sa_keyuser_signerverifier = gcp.kms.CryptoKeyIAMMember("privateca_sa_keyuser_signerverifier",
    crypto_key_id="projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
    role="roles/cloudkms.signerVerifier",
    member=privateca_sa.member)
privateca_sa_keyuser_viewer = gcp.kms.CryptoKeyIAMMember("privateca_sa_keyuser_viewer",
    crypto_key_id="projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
    role="roles/viewer",
    member=privateca_sa.member)
default = gcp.certificateauthority.Authority("default",
    pool="ca-pool",
    certificate_authority_id="my-certificate-authority",
    location="us-central1",
    deletion_protection=True,
    key_spec={
        "cloud_kms_key_version": "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
    },
    config={
        "subject_config": {
            "subject": {
                "organization": "Example, Org.",
                "common_name": "Example Authority",
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {},
            },
            "name_constraints": {
                "critical": True,
                "permitted_dns_names": ["*.example.com"],
                "excluded_dns_names": ["*.deny.example.com"],
                "permitted_ip_ranges": ["10.0.0.0/8"],
                "excluded_ip_ranges": ["10.1.1.0/24"],
                "permitted_email_addresses": [".example.com"],
                "excluded_email_addresses": [".deny.example.com"],
                "permitted_uris": [".example.com"],
                "excluded_uris": [".deny.example.com"],
            },
        },
    },
    opts = pulumi.ResourceOptions(depends_on=[
            privateca_sa_keyuser_signerverifier,
            privateca_sa_keyuser_viewer,
        ]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var privatecaSa = new Gcp.Projects.ServiceIdentity("privateca_sa", new()
    {
        Service = "privateca.googleapis.com",
    });

    var privatecaSaKeyuserSignerverifier = new Gcp.Kms.CryptoKeyIAMMember("privateca_sa_keyuser_signerverifier", new()
    {
        CryptoKeyId = "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
        Role = "roles/cloudkms.signerVerifier",
        Member = privatecaSa.Member,
    });

    var privatecaSaKeyuserViewer = new Gcp.Kms.CryptoKeyIAMMember("privateca_sa_keyuser_viewer", new()
    {
        CryptoKeyId = "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key",
        Role = "roles/viewer",
        Member = privatecaSa.Member,
    });

    var @default = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Pool = "ca-pool",
        CertificateAuthorityId = "my-certificate-authority",
        Location = "us-central1",
        DeletionProtection = true,
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            CloudKmsKeyVersion = "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
        },
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "Example, Org.",
                    CommonName = "Example Authority",
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = null,
                },
                NameConstraints = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigNameConstraintsArgs
                {
                    Critical = true,
                    PermittedDnsNames = new[]
                    {
                        "*.example.com",
                    },
                    ExcludedDnsNames = new[]
                    {
                        "*.deny.example.com",
                    },
                    PermittedIpRanges = new[]
                    {
                        "10.0.0.0/8",
                    },
                    ExcludedIpRanges = new[]
                    {
                        "10.1.1.0/24",
                    },
                    PermittedEmailAddresses = new[]
                    {
                        ".example.com",
                    },
                    ExcludedEmailAddresses = new[]
                    {
                        ".deny.example.com",
                    },
                    PermittedUris = new[]
                    {
                        ".example.com",
                    },
                    ExcludedUris = new[]
                    {
                        ".deny.example.com",
                    },
                },
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            privatecaSaKeyuserSignerverifier,
            privatecaSaKeyuserViewer,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/kms"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		privatecaSa, err := projects.NewServiceIdentity(ctx, "privateca_sa", &projects.ServiceIdentityArgs{
			Service: pulumi.String("privateca.googleapis.com"),
		})
		if err != nil {
			return err
		}
		privatecaSaKeyuserSignerverifier, err := kms.NewCryptoKeyIAMMember(ctx, "privateca_sa_keyuser_signerverifier", &kms.CryptoKeyIAMMemberArgs{
			CryptoKeyId: pulumi.String("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key"),
			Role:        pulumi.String("roles/cloudkms.signerVerifier"),
			Member:      privatecaSa.Member,
		})
		if err != nil {
			return err
		}
		privatecaSaKeyuserViewer, err := kms.NewCryptoKeyIAMMember(ctx, "privateca_sa_keyuser_viewer", &kms.CryptoKeyIAMMemberArgs{
			CryptoKeyId: pulumi.String("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key"),
			Role:        pulumi.String("roles/viewer"),
			Member:      privatecaSa.Member,
		})
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Pool:                   pulumi.String("ca-pool"),
			CertificateAuthorityId: pulumi.String("my-certificate-authority"),
			Location:               pulumi.String("us-central1"),
			DeletionProtection:     pulumi.Bool(true),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				CloudKmsKeyVersion: pulumi.String("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1"),
			},
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("Example, Org."),
						CommonName:   pulumi.String("Example Authority"),
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{},
					},
					NameConstraints: &certificateauthority.AuthorityConfigX509ConfigNameConstraintsArgs{
						Critical: pulumi.Bool(true),
						PermittedDnsNames: pulumi.StringArray{
							pulumi.String("*.example.com"),
						},
						ExcludedDnsNames: pulumi.StringArray{
							pulumi.String("*.deny.example.com"),
						},
						PermittedIpRanges: pulumi.StringArray{
							pulumi.String("10.0.0.0/8"),
						},
						ExcludedIpRanges: pulumi.StringArray{
							pulumi.String("10.1.1.0/24"),
						},
						PermittedEmailAddresses: pulumi.StringArray{
							pulumi.String(".example.com"),
						},
						ExcludedEmailAddresses: pulumi.StringArray{
							pulumi.String(".deny.example.com"),
						},
						PermittedUris: pulumi.StringArray{
							pulumi.String(".example.com"),
						},
						ExcludedUris: pulumi.StringArray{
							pulumi.String(".deny.example.com"),
						},
					},
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			privatecaSaKeyuserSignerverifier,
			privatecaSaKeyuserViewer,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.projects.ServiceIdentity;
import com.pulumi.gcp.projects.ServiceIdentityArgs;
import com.pulumi.gcp.kms.CryptoKeyIAMMember;
import com.pulumi.gcp.kms.CryptoKeyIAMMemberArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigNameConstraintsArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var privatecaSa = new ServiceIdentity("privatecaSa", ServiceIdentityArgs.builder()
            .service("privateca.googleapis.com")
            .build());

        var privatecaSaKeyuserSignerverifier = new CryptoKeyIAMMember("privatecaSaKeyuserSignerverifier", CryptoKeyIAMMemberArgs.builder()
            .cryptoKeyId("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key")
            .role("roles/cloudkms.signerVerifier")
            .member(privatecaSa.member())
            .build());

        var privatecaSaKeyuserViewer = new CryptoKeyIAMMember("privatecaSaKeyuserViewer", CryptoKeyIAMMemberArgs.builder()
            .cryptoKeyId("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key")
            .role("roles/viewer")
            .member(privatecaSa.member())
            .build());

        var default_ = new Authority("default", AuthorityArgs.builder()
            .pool("ca-pool")
            .certificateAuthorityId("my-certificate-authority")
            .location("us-central1")
            .deletionProtection(true)
            .keySpec(AuthorityKeySpecArgs.builder()
                .cloudKmsKeyVersion("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1")
                .build())
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("Example, Org.")
                        .commonName("Example Authority")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage()
                        .build())
                    .nameConstraints(AuthorityConfigX509ConfigNameConstraintsArgs.builder()
                        .critical(true)
                        .permittedDnsNames("*.example.com")
                        .excludedDnsNames("*.deny.example.com")
                        .permittedIpRanges("10.0.0.0/8")
                        .excludedIpRanges("10.1.1.0/24")
                        .permittedEmailAddresses(".example.com")
                        .excludedEmailAddresses(".deny.example.com")
                        .permittedUris(".example.com")
                        .excludedUris(".deny.example.com")
                        .build())
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    privatecaSaKeyuserSignerverifier,
                    privatecaSaKeyuserViewer)
                .build());

    }
}
```
```yaml
resources:
  privatecaSa:
    type: gcp:projects:ServiceIdentity
    name: privateca_sa
    properties:
      service: privateca.googleapis.com
  privatecaSaKeyuserSignerverifier:
    type: gcp:kms:CryptoKeyIAMMember
    name: privateca_sa_keyuser_signerverifier
    properties:
      cryptoKeyId: projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key
      role: roles/cloudkms.signerVerifier
      member: ${privatecaSa.member}
  privatecaSaKeyuserViewer:
    type: gcp:kms:CryptoKeyIAMMember
    name: privateca_sa_keyuser_viewer
    properties:
      cryptoKeyId: projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key
      role: roles/viewer
      member: ${privatecaSa.member}
  default:
    type: gcp:certificateauthority:Authority
    properties:
      pool: ca-pool
      certificateAuthorityId: my-certificate-authority
      location: us-central1
      deletionProtection: true
      keySpec:
        cloudKmsKeyVersion: projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1
      config:
        subjectConfig:
          subject:
            organization: Example, Org.
            commonName: Example Authority
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage: {}
          nameConstraints:
            critical: true
            permittedDnsNames:
              - '*.example.com'
            excludedDnsNames:
              - '*.deny.example.com'
            permittedIpRanges:
              - 10.0.0.0/8
            excludedIpRanges:
              - 10.1.1.0/24
            permittedEmailAddresses:
              - .example.com
            excludedEmailAddresses:
              - .deny.example.com
            permittedUris:
              - .example.com
            excludedUris:
              - .deny.example.com
    options:
      dependsOn:
        - ${privatecaSaKeyuserSignerverifier}
        - ${privatecaSaKeyuserViewer}
```
<!--End PulumiCodeChooser -->
### Privateca Certificate Authority Custom Ski


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificateauthority.Authority("default", {
    pool: "ca-pool",
    certificateAuthorityId: "my-certificate-authority",
    location: "us-central1",
    deletionProtection: true,
    config: {
        subjectConfig: {
            subject: {
                organization: "ACME",
                commonName: "my-certificate-authority",
            },
        },
        subjectKeyId: {
            keyId: "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {},
            },
        },
    },
    lifetime: `${10 * 365 * 24 * 3600}s`,
    keySpec: {
        cloudKmsKeyVersion: "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.Authority("default",
    pool="ca-pool",
    certificate_authority_id="my-certificate-authority",
    location="us-central1",
    deletion_protection=True,
    config={
        "subject_config": {
            "subject": {
                "organization": "ACME",
                "common_name": "my-certificate-authority",
            },
        },
        "subject_key_id": {
            "key_id": "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {},
            },
        },
    },
    lifetime=f"{10 * 365 * 24 * 3600}s",
    key_spec={
        "cloud_kms_key_version": "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Pool = "ca-pool",
        CertificateAuthorityId = "my-certificate-authority",
        Location = "us-central1",
        DeletionProtection = true,
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "ACME",
                    CommonName = "my-certificate-authority",
                },
            },
            SubjectKeyId = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectKeyIdArgs
            {
                KeyId = "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = null,
                },
            },
        },
        Lifetime = $"{10 * 365 * 24 * 3600}s",
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            CloudKmsKeyVersion = "projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Pool:                   pulumi.String("ca-pool"),
			CertificateAuthorityId: pulumi.String("my-certificate-authority"),
			Location:               pulumi.String("us-central1"),
			DeletionProtection:     pulumi.Bool(true),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("ACME"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
				},
				SubjectKeyId: &certificateauthority.AuthorityConfigSubjectKeyIdArgs{
					KeyId: pulumi.String("4cf3372289b1d411b999dbb9ebcd44744b6b2fca"),
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{},
					},
				},
			},
			Lifetime: pulumi.Sprintf("%vs", 10*365*24*3600),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				CloudKmsKeyVersion: pulumi.String("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectKeyIdArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new Authority("default", AuthorityArgs.builder()
            .pool("ca-pool")
            .certificateAuthorityId("my-certificate-authority")
            .location("us-central1")
            .deletionProtection(true)
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("ACME")
                        .commonName("my-certificate-authority")
                        .build())
                    .build())
                .subjectKeyId(AuthorityConfigSubjectKeyIdArgs.builder()
                    .keyId("4cf3372289b1d411b999dbb9ebcd44744b6b2fca")
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage()
                        .build())
                    .build())
                .build())
            .lifetime(String.format("%ss", 10 * 365 * 24 * 3600))
            .keySpec(AuthorityKeySpecArgs.builder()
                .cloudKmsKeyVersion("projects/keys-project/locations/us-central1/keyRings/key-ring/cryptoKeys/crypto-key/cryptoKeyVersions/1")
                .build())
            .build());

    }
}
```
<!--End PulumiCodeChooser -->

## Import

CertificateAuthority can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities/{{certificate_authority_id}}`

* `{{project}}/{{location}}/{{pool}}/{{certificate_authority_id}}`

* `{{location}}/{{pool}}/{{certificate_authority_id}}`

When using the `pulumi import` command, CertificateAuthority can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificateauthority/authority:Authority default projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificateAuthorities/{{certificate_authority_id}}
```

```sh
$ pulumi import gcp:certificateauthority/authority:Authority default {{project}}/{{location}}/{{pool}}/{{certificate_authority_id}}
```

```sh
$ pulumi import gcp:certificateauthority/authority:Authority default {{location}}/{{pool}}/{{certificate_authority_id}}
```

\
certificateAuthorityId" >The user provided Resource ID for this Certificate Authority.
Ò
confige:c
a
certificateauthorityAuthorityConfig8gcp:certificateauthority/AuthorityConfig:AuthorityConfigaThe config used to create a self-signed X.509 certificate or CSR.
Structure is documented below.

deletionProtectionB
 §
desiredStateB" Desired state of the CertificateAuthority. Set this field to 'STAGED' to create a 'STAGED' root CA. Possible values:
ENABLED, DISABLED, STAGED.
†
	gcsBucketB" òThe name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and
CRLs. This must be a bucket name, without any prefixes (such as 'gs://') or suffixes (such as '.googleapis.com'). For
example, to use a bucket named my-bucket, you would simply specify 'my-bucket'. If not specified, a managed bucket will
be created.
Ò
"ignoreActiveCertificatesOnDeletionB
 ¥This field allows the CA to be deleted even if the CA has active certs. Active certs include both unrevoked and
unexpired certs. Use with care. Defaults to 'false'.
ú
keySpech:f
d
certificateauthorityAuthorityKeySpec:gcp:certificateauthority/AuthorityKeySpec:AuthorityKeySpec„Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority
is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA
certificate. Otherwise, it is used to sign a CSR.
Structure is documented below.
í
labelsB2" ÚLabels with user-defined metadata. An object containing a list of "key": value pairs. Example: { "name": "wrench",
"mass": "1.3kg", "count": "3" }. **Note**: This field is non-authoritative, and will only manage the labels present in
your configuration. Please refer to the field 'effective_labels' for all of the labels present on the resource.
ö
lifetimeB" ãThe desired lifetime of the CA certificate. Used to create the "notBeforeTime" and "notAfterTime" fields inside an X.509
certificate. A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".
‘
location" €Location of the CertificateAuthority. A full list of valid locations can be found by
running `gcloud privateca locations list`.
©
pemCaCertificateB" ŽThe signed CA certificate issued from the subordinated CA's CSR. This is needed when activating the subordiante CA with
a third party issuer.
J
pool" >The name of the CaPool this Certificate Authority belongs to.

projectB" ’
skipGracePeriodB
 øIf this flag is set, the Certificate Authority will be deleted as soon as possible without a 30-day grace period where
undeletion would have been allowed. If you proceed, there will be no way to recover this CA. Use with care. Defaults to
'false'.
«
subordinateConfig‹Bˆ:…
‚
certificateauthorityAuthoritySubordinateConfigNgcp:certificateauthority/AuthoritySubordinateConfig:AuthoritySubordinateConfig‡If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which
describes its issuers.
ø
typeB" éThe Type of this CertificateAuthority. > **Note:** For 'SUBORDINATE' Certificate Authorities, they need to be activated
before they can issue certificates. Default value: "SELF_SIGNED" Possible values: ["SELF_SIGNED", "SUBORDINATE"]
"õ

accessUrlsp*n:l
j
certificateauthorityAuthorityAccessUrl>gcp:certificateauthority/AuthorityAccessUrl:AuthorityAccessUrluURLs for accessing content published by this CA, such as the CA certificate and CRLs.
Structure is documented below.
"\
certificateAuthorityId" >The user provided Resource ID for this Certificate Authority.
"Ò
confige:c
a
certificateauthorityAuthorityConfig8gcp:certificateauthority/AuthorityConfig:AuthorityConfigaThe config used to create a self-signed X.509 certificate or CSR.
Structure is documented below.
"ú

createTime" çThe time at which this CertificateAuthority was created.
A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine
fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
"
deletionProtectionB
 "§
desiredStateB" Desired state of the CertificateAuthority. Set this field to 'STAGED' to create a 'STAGED' root CA. Possible values:
ENABLED, DISABLED, STAGED.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"†
	gcsBucketB" òThe name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and
CRLs. This must be a bucket name, without any prefixes (such as 'gs://') or suffixes (such as '.googleapis.com'). For
example, to use a bucket named my-bucket, you would simply specify 'my-bucket'. If not specified, a managed bucket will
be created.
"Ò
"ignoreActiveCertificatesOnDeletionB
 ¥This field allows the CA to be deleted even if the CA has active certs. Active certs include both unrevoked and
unexpired certs. Use with care. Defaults to 'false'.
"ú
keySpech:f
d
certificateauthorityAuthorityKeySpec:gcp:certificateauthority/AuthorityKeySpec:AuthorityKeySpec„Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority
is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA
certificate. Otherwise, it is used to sign a CSR.
Structure is documented below.
"í
labelsB2" ÚLabels with user-defined metadata. An object containing a list of "key": value pairs. Example: { "name": "wrench",
"mass": "1.3kg", "count": "3" }. **Note**: This field is non-authoritative, and will only manage the labels present in
your configuration. Please refer to the field 'effective_labels' for all of the labels present on the resource.
"ö
lifetimeB" ãThe desired lifetime of the CA certificate. Used to create the "notBeforeTime" and "notAfterTime" fields inside an X.509
certificate. A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".
"‘
location" €Location of the CertificateAuthority. A full list of valid locations can be found by
running `gcloud privateca locations list`.
"{
name" oThe resource name for this CertificateAuthority in the format
projects/*/locations/*/certificateAuthorities/*.
"©
pemCaCertificateB" ŽThe signed CA certificate issued from the subordinated CA's CSR. This is needed when activating the subordiante CA with
a third party issuer.
"²
pemCaCertificates*" –This CertificateAuthority's certificate chain, including the current
CertificateAuthority's certificate. Ordered such that the root issuer is the final
element (consistent with RFC 5246). For a self-signed CA, this will only list the current
CertificateAuthority's certificate.
"J
pool" >The name of the CaPool this Certificate Authority belongs to.
"
project" "ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"’
skipGracePeriodB
 øIf this flag is set, the Certificate Authority will be deleted as soon as possible without a 30-day grace period where
undeletion would have been allowed. If you proceed, there will be no way to recover this CA. Use with care. Defaults to
'false'.
"6
state" )The State for this CertificateAuthority.
"«
subordinateConfig‹Bˆ:…
‚
certificateauthorityAuthoritySubordinateConfigNgcp:certificateauthority/AuthoritySubordinateConfig:AuthoritySubordinateConfig‡If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which
describes its issuers.
"ø
typeB" éThe Type of this CertificateAuthority. > **Note:** For 'SUBORDINATE' Certificate Authorities, they need to be activated
before they can issue certificates. Default value: "SELF_SIGNED" Possible values: ["SELF_SIGNED", "SUBORDINATE"]
"ú

updateTime" çThe time at which this CertificateAuthority was updated.
A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine
fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
*º©
F
certificateauthorityCaPool&gcp:certificateauthority/caPool:CaPool—’A CaPool represents a group of CertificateAuthorities that form a trust anchor. A CaPool can be used to manage
issuance policies for one or more CertificateAuthority resources and to rotate CA certificates in and out of the
trust anchor.



## Example Usage

### Privateca Capool Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificateauthority.CaPool("default", {
    name: "my-pool",
    location: "us-central1",
    tier: "ENTERPRISE",
    publishingOptions: {
        publishCaCert: true,
        publishCrl: true,
    },
    labels: {
        foo: "bar",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.CaPool("default",
    name="my-pool",
    location="us-central1",
    tier="ENTERPRISE",
    publishing_options={
        "publish_ca_cert": True,
        "publish_crl": True,
    },
    labels={
        "foo": "bar",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Name = "my-pool",
        Location = "us-central1",
        Tier = "ENTERPRISE",
        PublishingOptions = new Gcp.CertificateAuthority.Inputs.CaPoolPublishingOptionsArgs
        {
            PublishCaCert = true,
            PublishCrl = true,
        },
        Labels = 
        {
            { "foo", "bar" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Name:     pulumi.String("my-pool"),
			Location: pulumi.String("us-central1"),
			Tier:     pulumi.String("ENTERPRISE"),
			PublishingOptions: &certificateauthority.CaPoolPublishingOptionsArgs{
				PublishCaCert: pulumi.Bool(true),
				PublishCrl:    pulumi.Bool(true),
			},
			Labels: pulumi.StringMap{
				"foo": pulumi.String("bar"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolPublishingOptionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .name("my-pool")
            .location("us-central1")
            .tier("ENTERPRISE")
            .publishingOptions(CaPoolPublishingOptionsArgs.builder()
                .publishCaCert(true)
                .publishCrl(true)
                .build())
            .labels(Map.of("foo", "bar"))
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      name: my-pool
      location: us-central1
      tier: ENTERPRISE
      publishingOptions:
        publishCaCert: true
        publishCrl: true
      labels:
        foo: bar
```
<!--End PulumiCodeChooser -->
### Privateca Capool All Fields


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificateauthority.CaPool("default", {
    name: "my-pool",
    location: "us-central1",
    tier: "ENTERPRISE",
    publishingOptions: {
        publishCaCert: false,
        publishCrl: true,
        encodingFormat: "PEM",
    },
    labels: {
        foo: "bar",
    },
    issuancePolicy: {
        allowedKeyTypes: [
            {
                ellipticCurve: {
                    signatureAlgorithm: "ECDSA_P256",
                },
            },
            {
                rsa: {
                    minModulusSize: "5",
                    maxModulusSize: "10",
                },
            },
        ],
        maximumLifetime: "50000s",
        allowedIssuanceModes: {
            allowCsrBasedIssuance: true,
            allowConfigBasedIssuance: true,
        },
        identityConstraints: {
            allowSubjectPassthrough: true,
            allowSubjectAltNamesPassthrough: true,
            celExpression: {
                expression: "subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )",
                title: "My title",
            },
        },
        baselineValues: {
            aiaOcspServers: ["example.com"],
            additionalExtensions: [{
                critical: true,
                value: "asdf",
                objectId: {
                    objectIdPaths: [
                        1,
                        7,
                    ],
                },
            }],
            policyIds: [
                {
                    objectIdPaths: [
                        1,
                        5,
                    ],
                },
                {
                    objectIdPaths: [
                        1,
                        5,
                        7,
                    ],
                },
            ],
            caOptions: {
                isCa: true,
                maxIssuerPathLength: 10,
            },
            keyUsage: {
                baseKeyUsage: {
                    digitalSignature: true,
                    contentCommitment: true,
                    keyEncipherment: false,
                    dataEncipherment: true,
                    keyAgreement: true,
                    certSign: false,
                    crlSign: true,
                    decipherOnly: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                    clientAuth: false,
                    emailProtection: true,
                    codeSigning: true,
                    timeStamping: true,
                },
            },
            nameConstraints: {
                critical: true,
                permittedDnsNames: [
                    "*.example1.com",
                    "*.example2.com",
                ],
                excludedDnsNames: [
                    "*.deny.example1.com",
                    "*.deny.example2.com",
                ],
                permittedIpRanges: [
                    "10.0.0.0/8",
                    "11.0.0.0/8",
                ],
                excludedIpRanges: [
                    "10.1.1.0/24",
                    "11.1.1.0/24",
                ],
                permittedEmailAddresses: [
                    ".example1.com",
                    ".example2.com",
                ],
                excludedEmailAddresses: [
                    ".deny.example1.com",
                    ".deny.example2.com",
                ],
                permittedUris: [
                    ".example1.com",
                    ".example2.com",
                ],
                excludedUris: [
                    ".deny.example1.com",
                    ".deny.example2.com",
                ],
            },
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.CaPool("default",
    name="my-pool",
    location="us-central1",
    tier="ENTERPRISE",
    publishing_options={
        "publish_ca_cert": False,
        "publish_crl": True,
        "encoding_format": "PEM",
    },
    labels={
        "foo": "bar",
    },
    issuance_policy={
        "allowed_key_types": [
            {
                "elliptic_curve": {
                    "signature_algorithm": "ECDSA_P256",
                },
            },
            {
                "rsa": {
                    "min_modulus_size": "5",
                    "max_modulus_size": "10",
                },
            },
        ],
        "maximum_lifetime": "50000s",
        "allowed_issuance_modes": {
            "allow_csr_based_issuance": True,
            "allow_config_based_issuance": True,
        },
        "identity_constraints": {
            "allow_subject_passthrough": True,
            "allow_subject_alt_names_passthrough": True,
            "cel_expression": {
                "expression": "subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )",
                "title": "My title",
            },
        },
        "baseline_values": {
            "aia_ocsp_servers": ["example.com"],
            "additional_extensions": [{
                "critical": True,
                "value": "asdf",
                "object_id": {
                    "object_id_paths": [
                        1,
                        7,
                    ],
                },
            }],
            "policy_ids": [
                {
                    "object_id_paths": [
                        1,
                        5,
                    ],
                },
                {
                    "object_id_paths": [
                        1,
                        5,
                        7,
                    ],
                },
            ],
            "ca_options": {
                "is_ca": True,
                "max_issuer_path_length": 10,
            },
            "key_usage": {
                "base_key_usage": {
                    "digital_signature": True,
                    "content_commitment": True,
                    "key_encipherment": False,
                    "data_encipherment": True,
                    "key_agreement": True,
                    "cert_sign": False,
                    "crl_sign": True,
                    "decipher_only": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                    "client_auth": False,
                    "email_protection": True,
                    "code_signing": True,
                    "time_stamping": True,
                },
            },
            "name_constraints": {
                "critical": True,
                "permitted_dns_names": [
                    "*.example1.com",
                    "*.example2.com",
                ],
                "excluded_dns_names": [
                    "*.deny.example1.com",
                    "*.deny.example2.com",
                ],
                "permitted_ip_ranges": [
                    "10.0.0.0/8",
                    "11.0.0.0/8",
                ],
                "excluded_ip_ranges": [
                    "10.1.1.0/24",
                    "11.1.1.0/24",
                ],
                "permitted_email_addresses": [
                    ".example1.com",
                    ".example2.com",
                ],
                "excluded_email_addresses": [
                    ".deny.example1.com",
                    ".deny.example2.com",
                ],
                "permitted_uris": [
                    ".example1.com",
                    ".example2.com",
                ],
                "excluded_uris": [
                    ".deny.example1.com",
                    ".deny.example2.com",
                ],
            },
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Name = "my-pool",
        Location = "us-central1",
        Tier = "ENTERPRISE",
        PublishingOptions = new Gcp.CertificateAuthority.Inputs.CaPoolPublishingOptionsArgs
        {
            PublishCaCert = false,
            PublishCrl = true,
            EncodingFormat = "PEM",
        },
        Labels = 
        {
            { "foo", "bar" },
        },
        IssuancePolicy = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyArgs
        {
            AllowedKeyTypes = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyAllowedKeyTypeArgs
                {
                    EllipticCurve = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyAllowedKeyTypeEllipticCurveArgs
                    {
                        SignatureAlgorithm = "ECDSA_P256",
                    },
                },
                new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyAllowedKeyTypeArgs
                {
                    Rsa = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyAllowedKeyTypeRsaArgs
                    {
                        MinModulusSize = "5",
                        MaxModulusSize = "10",
                    },
                },
            },
            MaximumLifetime = "50000s",
            AllowedIssuanceModes = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyAllowedIssuanceModesArgs
            {
                AllowCsrBasedIssuance = true,
                AllowConfigBasedIssuance = true,
            },
            IdentityConstraints = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyIdentityConstraintsArgs
            {
                AllowSubjectPassthrough = true,
                AllowSubjectAltNamesPassthrough = true,
                CelExpression = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyIdentityConstraintsCelExpressionArgs
                {
                    Expression = "subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )",
                    Title = "My title",
                },
            },
            BaselineValues = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesArgs
            {
                AiaOcspServers = new[]
                {
                    "example.com",
                },
                AdditionalExtensions = new[]
                {
                    new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesAdditionalExtensionArgs
                    {
                        Critical = true,
                        Value = "asdf",
                        ObjectId = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectIdArgs
                        {
                            ObjectIdPaths = new[]
                            {
                                1,
                                7,
                            },
                        },
                    },
                },
                PolicyIds = new[]
                {
                    new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesPolicyIdArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            5,
                        },
                    },
                    new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesPolicyIdArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            5,
                            7,
                        },
                    },
                },
                CaOptions = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesCaOptionsArgs
                {
                    IsCa = true,
                    MaxIssuerPathLength = 10,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsageArgs
                    {
                        DigitalSignature = true,
                        ContentCommitment = true,
                        KeyEncipherment = false,
                        DataEncipherment = true,
                        KeyAgreement = true,
                        CertSign = false,
                        CrlSign = true,
                        DecipherOnly = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                        ClientAuth = false,
                        EmailProtection = true,
                        CodeSigning = true,
                        TimeStamping = true,
                    },
                },
                NameConstraints = new Gcp.CertificateAuthority.Inputs.CaPoolIssuancePolicyBaselineValuesNameConstraintsArgs
                {
                    Critical = true,
                    PermittedDnsNames = new[]
                    {
                        "*.example1.com",
                        "*.example2.com",
                    },
                    ExcludedDnsNames = new[]
                    {
                        "*.deny.example1.com",
                        "*.deny.example2.com",
                    },
                    PermittedIpRanges = new[]
                    {
                        "10.0.0.0/8",
                        "11.0.0.0/8",
                    },
                    ExcludedIpRanges = new[]
                    {
                        "10.1.1.0/24",
                        "11.1.1.0/24",
                    },
                    PermittedEmailAddresses = new[]
                    {
                        ".example1.com",
                        ".example2.com",
                    },
                    ExcludedEmailAddresses = new[]
                    {
                        ".deny.example1.com",
                        ".deny.example2.com",
                    },
                    PermittedUris = new[]
                    {
                        ".example1.com",
                        ".example2.com",
                    },
                    ExcludedUris = new[]
                    {
                        ".deny.example1.com",
                        ".deny.example2.com",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Name:     pulumi.String("my-pool"),
			Location: pulumi.String("us-central1"),
			Tier:     pulumi.String("ENTERPRISE"),
			PublishingOptions: &certificateauthority.CaPoolPublishingOptionsArgs{
				PublishCaCert:  pulumi.Bool(false),
				PublishCrl:     pulumi.Bool(true),
				EncodingFormat: pulumi.String("PEM"),
			},
			Labels: pulumi.StringMap{
				"foo": pulumi.String("bar"),
			},
			IssuancePolicy: &certificateauthority.CaPoolIssuancePolicyArgs{
				AllowedKeyTypes: certificateauthority.CaPoolIssuancePolicyAllowedKeyTypeArray{
					&certificateauthority.CaPoolIssuancePolicyAllowedKeyTypeArgs{
						EllipticCurve: &certificateauthority.CaPoolIssuancePolicyAllowedKeyTypeEllipticCurveArgs{
							SignatureAlgorithm: pulumi.String("ECDSA_P256"),
						},
					},
					&certificateauthority.CaPoolIssuancePolicyAllowedKeyTypeArgs{
						Rsa: &certificateauthority.CaPoolIssuancePolicyAllowedKeyTypeRsaArgs{
							MinModulusSize: pulumi.String("5"),
							MaxModulusSize: pulumi.String("10"),
						},
					},
				},
				MaximumLifetime: pulumi.String("50000s"),
				AllowedIssuanceModes: &certificateauthority.CaPoolIssuancePolicyAllowedIssuanceModesArgs{
					AllowCsrBasedIssuance:    pulumi.Bool(true),
					AllowConfigBasedIssuance: pulumi.Bool(true),
				},
				IdentityConstraints: &certificateauthority.CaPoolIssuancePolicyIdentityConstraintsArgs{
					AllowSubjectPassthrough:         pulumi.Bool(true),
					AllowSubjectAltNamesPassthrough: pulumi.Bool(true),
					CelExpression: &certificateauthority.CaPoolIssuancePolicyIdentityConstraintsCelExpressionArgs{
						Expression: pulumi.String("subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )"),
						Title:      pulumi.String("My title"),
					},
				},
				BaselineValues: &certificateauthority.CaPoolIssuancePolicyBaselineValuesArgs{
					AiaOcspServers: pulumi.StringArray{
						pulumi.String("example.com"),
					},
					AdditionalExtensions: certificateauthority.CaPoolIssuancePolicyBaselineValuesAdditionalExtensionArray{
						&certificateauthority.CaPoolIssuancePolicyBaselineValuesAdditionalExtensionArgs{
							Critical: pulumi.Bool(true),
							Value:    pulumi.String("asdf"),
							ObjectId: &certificateauthority.CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectIdArgs{
								ObjectIdPaths: pulumi.IntArray{
									pulumi.Int(1),
									pulumi.Int(7),
								},
							},
						},
					},
					PolicyIds: certificateauthority.CaPoolIssuancePolicyBaselineValuesPolicyIdArray{
						&certificateauthority.CaPoolIssuancePolicyBaselineValuesPolicyIdArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(5),
							},
						},
						&certificateauthority.CaPoolIssuancePolicyBaselineValuesPolicyIdArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(5),
								pulumi.Int(7),
							},
						},
					},
					CaOptions: &certificateauthority.CaPoolIssuancePolicyBaselineValuesCaOptionsArgs{
						IsCa:                pulumi.Bool(true),
						MaxIssuerPathLength: pulumi.Int(10),
					},
					KeyUsage: &certificateauthority.CaPoolIssuancePolicyBaselineValuesKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsageArgs{
							DigitalSignature:  pulumi.Bool(true),
							ContentCommitment: pulumi.Bool(true),
							KeyEncipherment:   pulumi.Bool(false),
							DataEncipherment:  pulumi.Bool(true),
							KeyAgreement:      pulumi.Bool(true),
							CertSign:          pulumi.Bool(false),
							CrlSign:           pulumi.Bool(true),
							DecipherOnly:      pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageArgs{
							ServerAuth:      pulumi.Bool(true),
							ClientAuth:      pulumi.Bool(false),
							EmailProtection: pulumi.Bool(true),
							CodeSigning:     pulumi.Bool(true),
							TimeStamping:    pulumi.Bool(true),
						},
					},
					NameConstraints: &certificateauthority.CaPoolIssuancePolicyBaselineValuesNameConstraintsArgs{
						Critical: pulumi.Bool(true),
						PermittedDnsNames: pulumi.StringArray{
							pulumi.String("*.example1.com"),
							pulumi.String("*.example2.com"),
						},
						ExcludedDnsNames: pulumi.StringArray{
							pulumi.String("*.deny.example1.com"),
							pulumi.String("*.deny.example2.com"),
						},
						PermittedIpRanges: pulumi.StringArray{
							pulumi.String("10.0.0.0/8"),
							pulumi.String("11.0.0.0/8"),
						},
						ExcludedIpRanges: pulumi.StringArray{
							pulumi.String("10.1.1.0/24"),
							pulumi.String("11.1.1.0/24"),
						},
						PermittedEmailAddresses: pulumi.StringArray{
							pulumi.String(".example1.com"),
							pulumi.String(".example2.com"),
						},
						ExcludedEmailAddresses: pulumi.StringArray{
							pulumi.String(".deny.example1.com"),
							pulumi.String(".deny.example2.com"),
						},
						PermittedUris: pulumi.StringArray{
							pulumi.String(".example1.com"),
							pulumi.String(".example2.com"),
						},
						ExcludedUris: pulumi.StringArray{
							pulumi.String(".deny.example1.com"),
							pulumi.String(".deny.example2.com"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolPublishingOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyAllowedIssuanceModesArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyIdentityConstraintsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyIdentityConstraintsCelExpressionArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIssuancePolicyBaselineValuesNameConstraintsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .name("my-pool")
            .location("us-central1")
            .tier("ENTERPRISE")
            .publishingOptions(CaPoolPublishingOptionsArgs.builder()
                .publishCaCert(false)
                .publishCrl(true)
                .encodingFormat("PEM")
                .build())
            .labels(Map.of("foo", "bar"))
            .issuancePolicy(CaPoolIssuancePolicyArgs.builder()
                .allowedKeyTypes(                
                    CaPoolIssuancePolicyAllowedKeyTypeArgs.builder()
                        .ellipticCurve(CaPoolIssuancePolicyAllowedKeyTypeEllipticCurveArgs.builder()
                            .signatureAlgorithm("ECDSA_P256")
                            .build())
                        .build(),
                    CaPoolIssuancePolicyAllowedKeyTypeArgs.builder()
                        .rsa(CaPoolIssuancePolicyAllowedKeyTypeRsaArgs.builder()
                            .minModulusSize(5)
                            .maxModulusSize(10)
                            .build())
                        .build())
                .maximumLifetime("50000s")
                .allowedIssuanceModes(CaPoolIssuancePolicyAllowedIssuanceModesArgs.builder()
                    .allowCsrBasedIssuance(true)
                    .allowConfigBasedIssuance(true)
                    .build())
                .identityConstraints(CaPoolIssuancePolicyIdentityConstraintsArgs.builder()
                    .allowSubjectPassthrough(true)
                    .allowSubjectAltNamesPassthrough(true)
                    .celExpression(CaPoolIssuancePolicyIdentityConstraintsCelExpressionArgs.builder()
                        .expression("subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )")
                        .title("My title")
                        .build())
                    .build())
                .baselineValues(CaPoolIssuancePolicyBaselineValuesArgs.builder()
                    .aiaOcspServers("example.com")
                    .additionalExtensions(CaPoolIssuancePolicyBaselineValuesAdditionalExtensionArgs.builder()
                        .critical(true)
                        .value("asdf")
                        .objectId(CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectIdArgs.builder()
                            .objectIdPaths(                            
                                1,
                                7)
                            .build())
                        .build())
                    .policyIds(                    
                        CaPoolIssuancePolicyBaselineValuesPolicyIdArgs.builder()
                            .objectIdPaths(                            
                                1,
                                5)
                            .build(),
                        CaPoolIssuancePolicyBaselineValuesPolicyIdArgs.builder()
                            .objectIdPaths(                            
                                1,
                                5,
                                7)
                            .build())
                    .caOptions(CaPoolIssuancePolicyBaselineValuesCaOptionsArgs.builder()
                        .isCa(true)
                        .maxIssuerPathLength(10)
                        .build())
                    .keyUsage(CaPoolIssuancePolicyBaselineValuesKeyUsageArgs.builder()
                        .baseKeyUsage(CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsageArgs.builder()
                            .digitalSignature(true)
                            .contentCommitment(true)
                            .keyEncipherment(false)
                            .dataEncipherment(true)
                            .keyAgreement(true)
                            .certSign(false)
                            .crlSign(true)
                            .decipherOnly(true)
                            .build())
                        .extendedKeyUsage(CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .clientAuth(false)
                            .emailProtection(true)
                            .codeSigning(true)
                            .timeStamping(true)
                            .build())
                        .build())
                    .nameConstraints(CaPoolIssuancePolicyBaselineValuesNameConstraintsArgs.builder()
                        .critical(true)
                        .permittedDnsNames(                        
                            "*.example1.com",
                            "*.example2.com")
                        .excludedDnsNames(                        
                            "*.deny.example1.com",
                            "*.deny.example2.com")
                        .permittedIpRanges(                        
                            "10.0.0.0/8",
                            "11.0.0.0/8")
                        .excludedIpRanges(                        
                            "10.1.1.0/24",
                            "11.1.1.0/24")
                        .permittedEmailAddresses(                        
                            ".example1.com",
                            ".example2.com")
                        .excludedEmailAddresses(                        
                            ".deny.example1.com",
                            ".deny.example2.com")
                        .permittedUris(                        
                            ".example1.com",
                            ".example2.com")
                        .excludedUris(                        
                            ".deny.example1.com",
                            ".deny.example2.com")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      name: my-pool
      location: us-central1
      tier: ENTERPRISE
      publishingOptions:
        publishCaCert: false
        publishCrl: true
        encodingFormat: PEM
      labels:
        foo: bar
      issuancePolicy:
        allowedKeyTypes:
          - ellipticCurve:
              signatureAlgorithm: ECDSA_P256
          - rsa:
              minModulusSize: 5
              maxModulusSize: 10
        maximumLifetime: 50000s
        allowedIssuanceModes:
          allowCsrBasedIssuance: true
          allowConfigBasedIssuance: true
        identityConstraints:
          allowSubjectPassthrough: true
          allowSubjectAltNamesPassthrough: true
          celExpression:
            expression: subject_alt_names.all(san, san.type == DNS || san.type == EMAIL )
            title: My title
        baselineValues:
          aiaOcspServers:
            - example.com
          additionalExtensions:
            - critical: true
              value: asdf
              objectId:
                objectIdPaths:
                  - 1
                  - 7
          policyIds:
            - objectIdPaths:
                - 1
                - 5
            - objectIdPaths:
                - 1
                - 5
                - 7
          caOptions:
            isCa: true
            maxIssuerPathLength: 10
          keyUsage:
            baseKeyUsage:
              digitalSignature: true
              contentCommitment: true
              keyEncipherment: false
              dataEncipherment: true
              keyAgreement: true
              certSign: false
              crlSign: true
              decipherOnly: true
            extendedKeyUsage:
              serverAuth: true
              clientAuth: false
              emailProtection: true
              codeSigning: true
              timeStamping: true
          nameConstraints:
            critical: true
            permittedDnsNames:
              - '*.example1.com'
              - '*.example2.com'
            excludedDnsNames:
              - '*.deny.example1.com'
              - '*.deny.example2.com'
            permittedIpRanges:
              - 10.0.0.0/8
              - 11.0.0.0/8
            excludedIpRanges:
              - 10.1.1.0/24
              - 11.1.1.0/24
            permittedEmailAddresses:
              - .example1.com
              - .example2.com
            excludedEmailAddresses:
              - .deny.example1.com
              - .deny.example2.com
            permittedUris:
              - .example1.com
              - .example2.com
            excludedUris:
              - .deny.example1.com
              - .deny.example2.com
```
<!--End PulumiCodeChooser -->

## Import

CaPool can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/caPools/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, CaPool can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificateauthority/caPool:CaPool default projects/{{project}}/locations/{{location}}/caPools/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/caPool:CaPool default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/caPool:CaPool default {{location}}/{{name}}
```

ù
issuancePolicyvBt:r
p
certificateauthorityCaPoolIssuancePolicyBgcp:certificateauthority/CaPoolIssuancePolicy:CaPoolIssuancePolicyoThe IssuancePolicy to control how Certificates will be issued from this CaPool.
Structure is documented below.
î
labelsB2" ÛLabels with user-defined metadata.
An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass":
"1.3kg", "count": "3" }.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
Š
location" zLocation of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.


- - -
(
nameB" The name for this CaPool.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
ž
publishingOptionsB}:{
y
certificateauthorityCaPoolPublishingOptionsHgcp:certificateauthority/CaPoolPublishingOptions:CaPoolPublishingOptions‡The PublishingOptions to follow when issuing Certificates from any CertificateAuthority in this CaPool.
Structure is documented below.
R
tier" FThe Tier of this CaPool.
Possible values are: `ENTERPRISE`, `DEVOPS`.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"ù
issuancePolicyvBt:r
p
certificateauthorityCaPoolIssuancePolicyBgcp:certificateauthority/CaPoolIssuancePolicy:CaPoolIssuancePolicyoThe IssuancePolicy to control how Certificates will be issued from this CaPool.
Structure is documented below.
"î
labelsB2" ÛLabels with user-defined metadata.
An object containing a list of "key": value pairs. Example: { "name": "wrench", "mass":
"1.3kg", "count": "3" }.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"Š
location" zLocation of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.


- - -
"&
name" The name for this CaPool.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ž
publishingOptionsB}:{
y
certificateauthorityCaPoolPublishingOptionsHgcp:certificateauthority/CaPoolPublishingOptions:CaPoolPublishingOptions‡The PublishingOptions to follow when issuing Certificates from any CertificateAuthority in this CaPool.
Structure is documented below.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"R
tier" FThe Tier of this CaPool.
Possible values are: `ENTERPRISE`, `DEVOPS`.
*Ÿ´
d
certificateauthorityCaPoolIamBinding:gcp:certificateauthority/caPoolIamBinding:CaPoolIamBindingâ‹Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CaPool
Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/caPools/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service capool IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamBinding:CaPoolIamBinding editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamBinding:CaPoolIamBinding editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamBinding:CaPoolIamBinding editor projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

I
caPool" ;Used to find the parent resource to bind the IAM policy to
•
	condition‡B„:

certificateauthorityCaPoolIamBindingConditionLgcp:certificateauthority/CaPoolIamBindingCondition:CaPoolIamBindingCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
—
locationB" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
â
role" ÕThe role that should be applied. Only one
`gcp.certificateauthority.CaPoolIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"I
caPool" ;Used to find the parent resource to bind the IAM policy to
"•
	condition‡B„:

certificateauthorityCaPoolIamBindingConditionLgcp:certificateauthority/CaPoolIamBindingCondition:CaPoolIamBindingCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
"3
etag" '(Computed) The etag of the IAM policy.
"•
location" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"â
role" ÕThe role that should be applied. Only one
`gcp.certificateauthority.CaPoolIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*ˆ´
a
certificateauthorityCaPoolIamMember8gcp:certificateauthority/caPoolIamMember:CaPoolIamMemberÜ‹Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CaPool
Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/caPools/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service capool IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamMember:CaPoolIamMember editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamMember:CaPoolIamMember editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamMember:CaPoolIamMember editor projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

I
caPool" ;Used to find the parent resource to bind the IAM policy to
‘
	conditionƒB€:~
|
certificateauthorityCaPoolIamMemberConditionJgcp:certificateauthority/CaPoolIamMemberCondition:CaPoolIamMemberCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
—
locationB" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
â
role" ÕThe role that should be applied. Only one
`gcp.certificateauthority.CaPoolIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"I
caPool" ;Used to find the parent resource to bind the IAM policy to
"‘
	conditionƒB€:~
|
certificateauthorityCaPoolIamMemberConditionJgcp:certificateauthority/CaPoolIamMemberCondition:CaPoolIamMemberCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
"3
etag" '(Computed) The etag of the IAM policy.
"•
location" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"â
role" ÕThe role that should be applied. Only one
`gcp.certificateauthority.CaPoolIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*¬š
a
certificateauthorityCaPoolIamPolicy8gcp:certificateauthority/caPoolIamPolicy:CaPoolIamPolicyÜ‹Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CaPool
Three different resources help you manage your IAM policy for Certificate Authority Service CaPool. Each of these resources serves a different use case:

* `gcp.certificateauthority.CaPoolIamPolicy`: Authoritative. Sets the IAM policy for the capool and replaces any existing policy already attached.
* `gcp.certificateauthority.CaPoolIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the capool are preserved.
* `gcp.certificateauthority.CaPoolIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the capool are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CaPoolIamPolicy`: Retrieves the IAM policy for the capool

> **Note:** `gcp.certificateauthority.CaPoolIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CaPoolIamBinding` and `gcp.certificateauthority.CaPoolIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CaPoolIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CaPoolIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CaPoolIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.certificateManager",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CaPoolIamPolicy("policy", {
    caPool: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.certificateManager",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CaPoolIamPolicy("policy",
    ca_pool=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.certificateManager",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CaPoolIamPolicy("policy", new()
    {
        CaPool = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.certificateManager",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCaPoolIamPolicy(ctx, "policy", &certificateauthority.CaPoolIamPolicyArgs{
			CaPool:     pulumi.Any(_default.Id),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicy;
import com.pulumi.gcp.certificateauthority.CaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.certificateManager")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CaPoolIamPolicy("policy", CaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CaPoolIamPolicy
    properties:
      caPool: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.certificateManager
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CaPoolIamBinding("binding", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CaPoolIamBinding("binding",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CaPoolIamBinding("binding", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamBinding(ctx, "binding", &certificateauthority.CaPoolIamBindingArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CaPoolIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamBinding;
import com.pulumi.gcp.certificateauthority.CaPoolIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CaPoolIamBinding("binding", CaPoolIamBindingArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .members("user:jane@example.com")
            .condition(CaPoolIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CaPoolIamBinding
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CaPoolIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CaPoolIamMember("member", {
    caPool: _default.id,
    role: "roles/privateca.certificateManager",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CaPoolIamMember("member",
    ca_pool=default["id"],
    role="roles/privateca.certificateManager",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CaPoolIamMember("member", new()
    {
        CaPool = @default.Id,
        Role = "roles/privateca.certificateManager",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CaPoolIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPoolIamMember(ctx, "member", &certificateauthority.CaPoolIamMemberArgs{
			CaPool: pulumi.Any(_default.Id),
			Role:   pulumi.String("roles/privateca.certificateManager"),
			Member: pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CaPoolIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPoolIamMember;
import com.pulumi.gcp.certificateauthority.CaPoolIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CaPoolIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CaPoolIamMember("member", CaPoolIamMemberArgs.builder()
            .caPool(default_.id())
            .role("roles/privateca.certificateManager")
            .member("user:jane@example.com")
            .condition(CaPoolIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CaPoolIamMember
    properties:
      caPool: ${default.id}
      role: roles/privateca.certificateManager
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/caPools/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service capool IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamPolicy:CaPoolIamPolicy editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamPolicy:CaPoolIamPolicy editor "projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}} roles/privateca.certificateManager"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/caPoolIamPolicy:CaPoolIamPolicy editor projects/{{project}}/locations/{{location}}/caPools/{{ca_pool}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

I
caPool" ;Used to find the parent resource to bind the IAM policy to
—
locationB" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"I
caPool" ;Used to find the parent resource to bind the IAM policy to
"3
etag" '(Computed) The etag of the IAM policy.
"•
location" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
*©†
U
certificateauthorityCertificate0gcp:certificateauthority/certificate:Certificate¢ÙA Certificate corresponds to a signed X.509 certificate issued by a Certificate.


> **Note:** The Certificate Authority that is referenced by this resource **must** be
`tier = "ENTERPRISE"`



## Example Usage

### Privateca Certificate Generated Key


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";
import * as tls from "@pulumi/tls";

const _default = new gcp.certificateauthority.CaPool("default", {
    location: "us-central1",
    name: "default",
    tier: "ENTERPRISE",
});
const defaultAuthority = new gcp.certificateauthority.Authority("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthorityId: "my-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const certKey = new tls.PrivateKey("cert_key", {algorithm: "RSA"});
const defaultCertificate = new gcp.certificateauthority.Certificate("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthority: defaultAuthority.certificateAuthorityId,
    lifetime: "86000s",
    name: "cert-1",
    config: {
        subjectConfig: {
            subject: {
                commonName: "san1.example.com",
                countryCode: "us",
                organization: "google",
                organizationalUnit: "enterprise",
                locality: "mountain view",
                province: "california",
                streetAddress: "1600 amphitheatre parkway",
            },
            subjectAltName: {
                emailAddresses: ["email@example.com"],
                ipAddresses: ["127.0.0.1"],
                uris: ["http://www.ietf.org/rfc/rfc3986.txt"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: false,
                },
            },
            nameConstraints: {
                critical: true,
                permittedDnsNames: ["*.example.com"],
                excludedDnsNames: ["*.deny.example.com"],
                permittedIpRanges: ["10.0.0.0/8"],
                excludedIpRanges: ["10.1.1.0/24"],
                permittedEmailAddresses: [".example.com"],
                excludedEmailAddresses: [".deny.example.com"],
                permittedUris: [".example.com"],
                excludedUris: [".deny.example.com"],
            },
        },
        publicKey: {
            format: "PEM",
            key: std.base64encodeOutput({
                input: certKey.publicKeyPem,
            }).apply(invoke => invoke.result),
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std
import pulumi_tls as tls

default = gcp.certificateauthority.CaPool("default",
    location="us-central1",
    name="default",
    tier="ENTERPRISE")
default_authority = gcp.certificateauthority.Authority("default",
    location="us-central1",
    pool=default.name,
    certificate_authority_id="my-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
cert_key = tls.PrivateKey("cert_key", algorithm="RSA")
default_certificate = gcp.certificateauthority.Certificate("default",
    location="us-central1",
    pool=default.name,
    certificate_authority=default_authority.certificate_authority_id,
    lifetime="86000s",
    name="cert-1",
    config={
        "subject_config": {
            "subject": {
                "common_name": "san1.example.com",
                "country_code": "us",
                "organization": "google",
                "organizational_unit": "enterprise",
                "locality": "mountain view",
                "province": "california",
                "street_address": "1600 amphitheatre parkway",
            },
            "subject_alt_name": {
                "email_addresses": ["email@example.com"],
                "ip_addresses": ["127.0.0.1"],
                "uris": ["http://www.ietf.org/rfc/rfc3986.txt"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": False,
                },
            },
            "name_constraints": {
                "critical": True,
                "permitted_dns_names": ["*.example.com"],
                "excluded_dns_names": ["*.deny.example.com"],
                "permitted_ip_ranges": ["10.0.0.0/8"],
                "excluded_ip_ranges": ["10.1.1.0/24"],
                "permitted_email_addresses": [".example.com"],
                "excluded_email_addresses": [".deny.example.com"],
                "permitted_uris": [".example.com"],
                "excluded_uris": [".deny.example.com"],
            },
        },
        "public_key": {
            "format": "PEM",
            "key": std.base64encode_output(input=cert_key.public_key_pem).apply(lambda invoke: invoke.result),
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;
using Tls = Pulumi.Tls;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Location = "us-central1",
        Name = "default",
        Tier = "ENTERPRISE",
    });

    var defaultAuthority = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthorityId = "my-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var certKey = new Tls.PrivateKey("cert_key", new()
    {
        Algorithm = "RSA",
    });

    var defaultCertificate = new Gcp.CertificateAuthority.Certificate("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthority = defaultAuthority.CertificateAuthorityId,
        Lifetime = "86000s",
        Name = "cert-1",
        Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigSubjectArgs
                {
                    CommonName = "san1.example.com",
                    CountryCode = "us",
                    Organization = "google",
                    OrganizationalUnit = "enterprise",
                    Locality = "mountain view",
                    Province = "california",
                    StreetAddress = "1600 amphitheatre parkway",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigSubjectAltNameArgs
                {
                    EmailAddresses = new[]
                    {
                        "email@example.com",
                    },
                    IpAddresses = new[]
                    {
                        "127.0.0.1",
                    },
                    Uris = new[]
                    {
                        "http://www.ietf.org/rfc/rfc3986.txt",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = false,
                    },
                },
                NameConstraints = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigNameConstraintsArgs
                {
                    Critical = true,
                    PermittedDnsNames = new[]
                    {
                        "*.example.com",
                    },
                    ExcludedDnsNames = new[]
                    {
                        "*.deny.example.com",
                    },
                    PermittedIpRanges = new[]
                    {
                        "10.0.0.0/8",
                    },
                    ExcludedIpRanges = new[]
                    {
                        "10.1.1.0/24",
                    },
                    PermittedEmailAddresses = new[]
                    {
                        ".example.com",
                    },
                    ExcludedEmailAddresses = new[]
                    {
                        ".deny.example.com",
                    },
                    PermittedUris = new[]
                    {
                        ".example.com",
                    },
                    ExcludedUris = new[]
                    {
                        ".deny.example.com",
                    },
                },
            },
            PublicKey = new Gcp.CertificateAuthority.Inputs.CertificateConfigPublicKeyArgs
            {
                Format = "PEM",
                Key = Std.Base64encode.Invoke(new()
                {
                    Input = certKey.PublicKeyPem,
                }).Apply(invoke => invoke.Result),
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi-tls/sdk/v5/go/tls"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("default"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		defaultAuthority, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   _default.Name,
			CertificateAuthorityId: pulumi.String("my-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		certKey, err := tls.NewPrivateKey(ctx, "cert_key", &tls.PrivateKeyArgs{
			Algorithm: pulumi.String("RSA"),
		})
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificate(ctx, "default", &certificateauthority.CertificateArgs{
			Location:             pulumi.String("us-central1"),
			Pool:                 _default.Name,
			CertificateAuthority: defaultAuthority.CertificateAuthorityId,
			Lifetime:             pulumi.String("86000s"),
			Name:                 pulumi.String("cert-1"),
			Config: &certificateauthority.CertificateConfigArgs{
				SubjectConfig: &certificateauthority.CertificateConfigSubjectConfigArgs{
					Subject: &certificateauthority.CertificateConfigSubjectConfigSubjectArgs{
						CommonName:         pulumi.String("san1.example.com"),
						CountryCode:        pulumi.String("us"),
						Organization:       pulumi.String("google"),
						OrganizationalUnit: pulumi.String("enterprise"),
						Locality:           pulumi.String("mountain view"),
						Province:           pulumi.String("california"),
						StreetAddress:      pulumi.String("1600 amphitheatre parkway"),
					},
					SubjectAltName: &certificateauthority.CertificateConfigSubjectConfigSubjectAltNameArgs{
						EmailAddresses: pulumi.StringArray{
							pulumi.String("email@example.com"),
						},
						IpAddresses: pulumi.StringArray{
							pulumi.String("127.0.0.1"),
						},
						Uris: pulumi.StringArray{
							pulumi.String("http://www.ietf.org/rfc/rfc3986.txt"),
						},
					},
				},
				X509Config: &certificateauthority.CertificateConfigX509ConfigArgs{
					CaOptions: &certificateauthority.CertificateConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(false),
						},
					},
					NameConstraints: &certificateauthority.CertificateConfigX509ConfigNameConstraintsArgs{
						Critical: pulumi.Bool(true),
						PermittedDnsNames: pulumi.StringArray{
							pulumi.String("*.example.com"),
						},
						ExcludedDnsNames: pulumi.StringArray{
							pulumi.String("*.deny.example.com"),
						},
						PermittedIpRanges: pulumi.StringArray{
							pulumi.String("10.0.0.0/8"),
						},
						ExcludedIpRanges: pulumi.StringArray{
							pulumi.String("10.1.1.0/24"),
						},
						PermittedEmailAddresses: pulumi.StringArray{
							pulumi.String(".example.com"),
						},
						ExcludedEmailAddresses: pulumi.StringArray{
							pulumi.String(".deny.example.com"),
						},
						PermittedUris: pulumi.StringArray{
							pulumi.String(".example.com"),
						},
						ExcludedUris: pulumi.StringArray{
							pulumi.String(".deny.example.com"),
						},
					},
				},
				PublicKey: &certificateauthority.CertificateConfigPublicKeyArgs{
					Format: pulumi.String("PEM"),
					Key: std.Base64encodeOutput(ctx, std.Base64encodeOutputArgs{
						Input: certKey.PublicKeyPem,
					}, nil).ApplyT(func(invoke std.Base64encodeResult) (*string, error) {
						return invoke.Result, nil
					}).(pulumi.StringPtrOutput),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.tls.PrivateKey;
import com.pulumi.tls.PrivateKeyArgs;
import com.pulumi.gcp.certificateauthority.Certificate;
import com.pulumi.gcp.certificateauthority.CertificateArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigNameConstraintsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigPublicKeyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .location("us-central1")
            .name("default")
            .tier("ENTERPRISE")
            .build());

        var defaultAuthority = new Authority("defaultAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthorityId("my-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var certKey = new PrivateKey("certKey", PrivateKeyArgs.builder()
            .algorithm("RSA")
            .build());

        var defaultCertificate = new Certificate("defaultCertificate", CertificateArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthority(defaultAuthority.certificateAuthorityId())
            .lifetime("86000s")
            .name("cert-1")
            .config(CertificateConfigArgs.builder()
                .subjectConfig(CertificateConfigSubjectConfigArgs.builder()
                    .subject(CertificateConfigSubjectConfigSubjectArgs.builder()
                        .commonName("san1.example.com")
                        .countryCode("us")
                        .organization("google")
                        .organizationalUnit("enterprise")
                        .locality("mountain view")
                        .province("california")
                        .streetAddress("1600 amphitheatre parkway")
                        .build())
                    .subjectAltName(CertificateConfigSubjectConfigSubjectAltNameArgs.builder()
                        .emailAddresses("email@example.com")
                        .ipAddresses("127.0.0.1")
                        .uris("http://www.ietf.org/rfc/rfc3986.txt")
                        .build())
                    .build())
                .x509Config(CertificateConfigX509ConfigArgs.builder()
                    .caOptions(CertificateConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(CertificateConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(false)
                            .build())
                        .build())
                    .nameConstraints(CertificateConfigX509ConfigNameConstraintsArgs.builder()
                        .critical(true)
                        .permittedDnsNames("*.example.com")
                        .excludedDnsNames("*.deny.example.com")
                        .permittedIpRanges("10.0.0.0/8")
                        .excludedIpRanges("10.1.1.0/24")
                        .permittedEmailAddresses(".example.com")
                        .excludedEmailAddresses(".deny.example.com")
                        .permittedUris(".example.com")
                        .excludedUris(".deny.example.com")
                        .build())
                    .build())
                .publicKey(CertificateConfigPublicKeyArgs.builder()
                    .format("PEM")
                    .key(StdFunctions.base64encode().applyValue(invoke -> invoke.result()))
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      location: us-central1
      name: default
      tier: ENTERPRISE
  defaultAuthority:
    type: gcp:certificateauthority:Authority
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthorityId: my-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
  certKey:
    type: tls:PrivateKey
    name: cert_key
    properties:
      algorithm: RSA
  defaultCertificate:
    type: gcp:certificateauthority:Certificate
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthority: ${defaultAuthority.certificateAuthorityId}
      lifetime: 86000s
      name: cert-1
      config:
        subjectConfig:
          subject:
            commonName: san1.example.com
            countryCode: us
            organization: google
            organizationalUnit: enterprise
            locality: mountain view
            province: california
            streetAddress: 1600 amphitheatre parkway
          subjectAltName:
            emailAddresses:
              - email@example.com
            ipAddresses:
              - 127.0.0.1
            uris:
              - http://www.ietf.org/rfc/rfc3986.txt
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: false
          nameConstraints:
            critical: true
            permittedDnsNames:
              - '*.example.com'
            excludedDnsNames:
              - '*.deny.example.com'
            permittedIpRanges:
              - 10.0.0.0/8
            excludedIpRanges:
              - 10.1.1.0/24
            permittedEmailAddresses:
              - .example.com
            excludedEmailAddresses:
              - .deny.example.com
            permittedUris:
              - .example.com
            excludedUris:
              - .deny.example.com
        publicKey:
          format: PEM
          key:
            fn::invoke:
              function: std:base64encode
              arguments:
                input: ${certKey.publicKeyPem}
              return: result
```
<!--End PulumiCodeChooser -->
### Privateca Certificate With Template


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificateauthority.CaPool("default", {
    location: "us-central1",
    name: "my-pool",
    tier: "ENTERPRISE",
});
const defaultCertificateTemplate = new gcp.certificateauthority.CertificateTemplate("default", {
    location: "us-central1",
    name: "my-certificate-template",
    description: "An updated sample certificate template",
    identityConstraints: {
        allowSubjectAltNamesPassthrough: true,
        allowSubjectPassthrough: true,
        celExpression: {
            description: "Always true",
            expression: "true",
            location: "any.file.anywhere",
            title: "Sample expression",
        },
    },
    passthroughExtensions: {
        additionalExtensions: [{
            objectIdPaths: [
                1,
                6,
            ],
        }],
        knownExtensions: ["EXTENDED_KEY_USAGE"],
    },
    predefinedValues: {
        additionalExtensions: [{
            objectId: {
                objectIdPaths: [
                    1,
                    6,
                ],
            },
            value: "c3RyaW5nCg==",
            critical: true,
        }],
        aiaOcspServers: ["string"],
        caOptions: {
            isCa: false,
            maxIssuerPathLength: 6,
        },
        keyUsage: {
            baseKeyUsage: {
                certSign: false,
                contentCommitment: true,
                crlSign: false,
                dataEncipherment: true,
                decipherOnly: true,
                digitalSignature: true,
                encipherOnly: true,
                keyAgreement: true,
                keyEncipherment: true,
            },
            extendedKeyUsage: {
                clientAuth: true,
                codeSigning: true,
                emailProtection: true,
                ocspSigning: true,
                serverAuth: true,
                timeStamping: true,
            },
            unknownExtendedKeyUsages: [{
                objectIdPaths: [
                    1,
                    6,
                ],
            }],
        },
        policyIds: [{
            objectIdPaths: [
                1,
                6,
            ],
        }],
    },
});
const defaultAuthority = new gcp.certificateauthority.Authority("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthorityId: "my-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: false,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const defaultCertificate = new gcp.certificateauthority.Certificate("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthority: defaultAuthority.certificateAuthorityId,
    name: "my-certificate",
    lifetime: "860s",
    pemCsr: std.file({
        input: "test-fixtures/rsa_csr.pem",
    }).then(invoke => invoke.result),
    certificateTemplate: defaultCertificateTemplate.id,
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificateauthority.CaPool("default",
    location="us-central1",
    name="my-pool",
    tier="ENTERPRISE")
default_certificate_template = gcp.certificateauthority.CertificateTemplate("default",
    location="us-central1",
    name="my-certificate-template",
    description="An updated sample certificate template",
    identity_constraints={
        "allow_subject_alt_names_passthrough": True,
        "allow_subject_passthrough": True,
        "cel_expression": {
            "description": "Always true",
            "expression": "true",
            "location": "any.file.anywhere",
            "title": "Sample expression",
        },
    },
    passthrough_extensions={
        "additional_extensions": [{
            "object_id_paths": [
                1,
                6,
            ],
        }],
        "known_extensions": ["EXTENDED_KEY_USAGE"],
    },
    predefined_values={
        "additional_extensions": [{
            "object_id": {
                "object_id_paths": [
                    1,
                    6,
                ],
            },
            "value": "c3RyaW5nCg==",
            "critical": True,
        }],
        "aia_ocsp_servers": ["string"],
        "ca_options": {
            "is_ca": False,
            "max_issuer_path_length": 6,
        },
        "key_usage": {
            "base_key_usage": {
                "cert_sign": False,
                "content_commitment": True,
                "crl_sign": False,
                "data_encipherment": True,
                "decipher_only": True,
                "digital_signature": True,
                "encipher_only": True,
                "key_agreement": True,
                "key_encipherment": True,
            },
            "extended_key_usage": {
                "client_auth": True,
                "code_signing": True,
                "email_protection": True,
                "ocsp_signing": True,
                "server_auth": True,
                "time_stamping": True,
            },
            "unknown_extended_key_usages": [{
                "object_id_paths": [
                    1,
                    6,
                ],
            }],
        },
        "policy_ids": [{
            "object_id_paths": [
                1,
                6,
            ],
        }],
    })
default_authority = gcp.certificateauthority.Authority("default",
    location="us-central1",
    pool=default.name,
    certificate_authority_id="my-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": False,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default_certificate = gcp.certificateauthority.Certificate("default",
    location="us-central1",
    pool=default.name,
    certificate_authority=default_authority.certificate_authority_id,
    name="my-certificate",
    lifetime="860s",
    pem_csr=std.file(input="test-fixtures/rsa_csr.pem").result,
    certificate_template=default_certificate_template.id)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Location = "us-central1",
        Name = "my-pool",
        Tier = "ENTERPRISE",
    });

    var defaultCertificateTemplate = new Gcp.CertificateAuthority.CertificateTemplate("default", new()
    {
        Location = "us-central1",
        Name = "my-certificate-template",
        Description = "An updated sample certificate template",
        IdentityConstraints = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIdentityConstraintsArgs
        {
            AllowSubjectAltNamesPassthrough = true,
            AllowSubjectPassthrough = true,
            CelExpression = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIdentityConstraintsCelExpressionArgs
            {
                Description = "Always true",
                Expression = "true",
                Location = "any.file.anywhere",
                Title = "Sample expression",
            },
        },
        PassthroughExtensions = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePassthroughExtensionsArgs
        {
            AdditionalExtensions = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs
                {
                    ObjectIdPaths = new[]
                    {
                        1,
                        6,
                    },
                },
            },
            KnownExtensions = new[]
            {
                "EXTENDED_KEY_USAGE",
            },
        },
        PredefinedValues = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesArgs
        {
            AdditionalExtensions = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesAdditionalExtensionArgs
                {
                    ObjectId = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            6,
                        },
                    },
                    Value = "c3RyaW5nCg==",
                    Critical = true,
                },
            },
            AiaOcspServers = new[]
            {
                "string",
            },
            CaOptions = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesCaOptionsArgs
            {
                IsCa = false,
                MaxIssuerPathLength = 6,
            },
            KeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageArgs
            {
                BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs
                {
                    CertSign = false,
                    ContentCommitment = true,
                    CrlSign = false,
                    DataEncipherment = true,
                    DecipherOnly = true,
                    DigitalSignature = true,
                    EncipherOnly = true,
                    KeyAgreement = true,
                    KeyEncipherment = true,
                },
                ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs
                {
                    ClientAuth = true,
                    CodeSigning = true,
                    EmailProtection = true,
                    OcspSigning = true,
                    ServerAuth = true,
                    TimeStamping = true,
                },
                UnknownExtendedKeyUsages = new[]
                {
                    new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            6,
                        },
                    },
                },
            },
            PolicyIds = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesPolicyIdArgs
                {
                    ObjectIdPaths = new[]
                    {
                        1,
                        6,
                    },
                },
            },
        },
    });

    var defaultAuthority = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthorityId = "my-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = false,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var defaultCertificate = new Gcp.CertificateAuthority.Certificate("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthority = defaultAuthority.CertificateAuthorityId,
        Name = "my-certificate",
        Lifetime = "860s",
        PemCsr = Std.File.Invoke(new()
        {
            Input = "test-fixtures/rsa_csr.pem",
        }).Apply(invoke => invoke.Result),
        CertificateTemplate = defaultCertificateTemplate.Id,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-pool"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		defaultCertificateTemplate, err := certificateauthority.NewCertificateTemplate(ctx, "default", &certificateauthority.CertificateTemplateArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("my-certificate-template"),
			Description: pulumi.String("An updated sample certificate template"),
			IdentityConstraints: &certificateauthority.CertificateTemplateIdentityConstraintsArgs{
				AllowSubjectAltNamesPassthrough: pulumi.Bool(true),
				AllowSubjectPassthrough:         pulumi.Bool(true),
				CelExpression: &certificateauthority.CertificateTemplateIdentityConstraintsCelExpressionArgs{
					Description: pulumi.String("Always true"),
					Expression:  pulumi.String("true"),
					Location:    pulumi.String("any.file.anywhere"),
					Title:       pulumi.String("Sample expression"),
				},
			},
			PassthroughExtensions: &certificateauthority.CertificateTemplatePassthroughExtensionsArgs{
				AdditionalExtensions: certificateauthority.CertificateTemplatePassthroughExtensionsAdditionalExtensionArray{
					&certificateauthority.CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs{
						ObjectIdPaths: pulumi.IntArray{
							pulumi.Int(1),
							pulumi.Int(6),
						},
					},
				},
				KnownExtensions: pulumi.StringArray{
					pulumi.String("EXTENDED_KEY_USAGE"),
				},
			},
			PredefinedValues: &certificateauthority.CertificateTemplatePredefinedValuesArgs{
				AdditionalExtensions: certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionArray{
					&certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionArgs{
						ObjectId: &certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(6),
							},
						},
						Value:    pulumi.String("c3RyaW5nCg=="),
						Critical: pulumi.Bool(true),
					},
				},
				AiaOcspServers: pulumi.StringArray{
					pulumi.String("string"),
				},
				CaOptions: &certificateauthority.CertificateTemplatePredefinedValuesCaOptionsArgs{
					IsCa:                pulumi.Bool(false),
					MaxIssuerPathLength: pulumi.Int(6),
				},
				KeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageArgs{
					BaseKeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs{
						CertSign:          pulumi.Bool(false),
						ContentCommitment: pulumi.Bool(true),
						CrlSign:           pulumi.Bool(false),
						DataEncipherment:  pulumi.Bool(true),
						DecipherOnly:      pulumi.Bool(true),
						DigitalSignature:  pulumi.Bool(true),
						EncipherOnly:      pulumi.Bool(true),
						KeyAgreement:      pulumi.Bool(true),
						KeyEncipherment:   pulumi.Bool(true),
					},
					ExtendedKeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs{
						ClientAuth:      pulumi.Bool(true),
						CodeSigning:     pulumi.Bool(true),
						EmailProtection: pulumi.Bool(true),
						OcspSigning:     pulumi.Bool(true),
						ServerAuth:      pulumi.Bool(true),
						TimeStamping:    pulumi.Bool(true),
					},
					UnknownExtendedKeyUsages: certificateauthority.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArray{
						&certificateauthority.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(6),
							},
						},
					},
				},
				PolicyIds: certificateauthority.CertificateTemplatePredefinedValuesPolicyIdArray{
					&certificateauthority.CertificateTemplatePredefinedValuesPolicyIdArgs{
						ObjectIdPaths: pulumi.IntArray{
							pulumi.Int(1),
							pulumi.Int(6),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		defaultAuthority, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   _default.Name,
			CertificateAuthorityId: pulumi.String("my-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(false),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/rsa_csr.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificate(ctx, "default", &certificateauthority.CertificateArgs{
			Location:             pulumi.String("us-central1"),
			Pool:                 _default.Name,
			CertificateAuthority: defaultAuthority.CertificateAuthorityId,
			Name:                 pulumi.String("my-certificate"),
			Lifetime:             pulumi.String("860s"),
			PemCsr:               pulumi.String(invokeFile.Result),
			CertificateTemplate:  defaultCertificateTemplate.ID(),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplate;
import com.pulumi.gcp.certificateauthority.CertificateTemplateArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIdentityConstraintsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIdentityConstraintsCelExpressionArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePassthroughExtensionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.Certificate;
import com.pulumi.gcp.certificateauthority.CertificateArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .location("us-central1")
            .name("my-pool")
            .tier("ENTERPRISE")
            .build());

        var defaultCertificateTemplate = new CertificateTemplate("defaultCertificateTemplate", CertificateTemplateArgs.builder()
            .location("us-central1")
            .name("my-certificate-template")
            .description("An updated sample certificate template")
            .identityConstraints(CertificateTemplateIdentityConstraintsArgs.builder()
                .allowSubjectAltNamesPassthrough(true)
                .allowSubjectPassthrough(true)
                .celExpression(CertificateTemplateIdentityConstraintsCelExpressionArgs.builder()
                    .description("Always true")
                    .expression("true")
                    .location("any.file.anywhere")
                    .title("Sample expression")
                    .build())
                .build())
            .passthroughExtensions(CertificateTemplatePassthroughExtensionsArgs.builder()
                .additionalExtensions(CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs.builder()
                    .objectIdPaths(                    
                        1,
                        6)
                    .build())
                .knownExtensions("EXTENDED_KEY_USAGE")
                .build())
            .predefinedValues(CertificateTemplatePredefinedValuesArgs.builder()
                .additionalExtensions(CertificateTemplatePredefinedValuesAdditionalExtensionArgs.builder()
                    .objectId(CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs.builder()
                        .objectIdPaths(                        
                            1,
                            6)
                        .build())
                    .value("c3RyaW5nCg==")
                    .critical(true)
                    .build())
                .aiaOcspServers("string")
                .caOptions(CertificateTemplatePredefinedValuesCaOptionsArgs.builder()
                    .isCa(false)
                    .maxIssuerPathLength(6)
                    .build())
                .keyUsage(CertificateTemplatePredefinedValuesKeyUsageArgs.builder()
                    .baseKeyUsage(CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs.builder()
                        .certSign(false)
                        .contentCommitment(true)
                        .crlSign(false)
                        .dataEncipherment(true)
                        .decipherOnly(true)
                        .digitalSignature(true)
                        .encipherOnly(true)
                        .keyAgreement(true)
                        .keyEncipherment(true)
                        .build())
                    .extendedKeyUsage(CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs.builder()
                        .clientAuth(true)
                        .codeSigning(true)
                        .emailProtection(true)
                        .ocspSigning(true)
                        .serverAuth(true)
                        .timeStamping(true)
                        .build())
                    .unknownExtendedKeyUsages(CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs.builder()
                        .objectIdPaths(                        
                            1,
                            6)
                        .build())
                    .build())
                .policyIds(CertificateTemplatePredefinedValuesPolicyIdArgs.builder()
                    .objectIdPaths(                    
                        1,
                        6)
                    .build())
                .build())
            .build());

        var defaultAuthority = new Authority("defaultAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthorityId("my-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(false)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var defaultCertificate = new Certificate("defaultCertificate", CertificateArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthority(defaultAuthority.certificateAuthorityId())
            .name("my-certificate")
            .lifetime("860s")
            .pemCsr(StdFunctions.file(FileArgs.builder()
                .input("test-fixtures/rsa_csr.pem")
                .build()).result())
            .certificateTemplate(defaultCertificateTemplate.id())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      location: us-central1
      name: my-pool
      tier: ENTERPRISE
  defaultCertificateTemplate:
    type: gcp:certificateauthority:CertificateTemplate
    name: default
    properties:
      location: us-central1
      name: my-certificate-template
      description: An updated sample certificate template
      identityConstraints:
        allowSubjectAltNamesPassthrough: true
        allowSubjectPassthrough: true
        celExpression:
          description: Always true
          expression: 'true'
          location: any.file.anywhere
          title: Sample expression
      passthroughExtensions:
        additionalExtensions:
          - objectIdPaths:
              - 1
              - 6
        knownExtensions:
          - EXTENDED_KEY_USAGE
      predefinedValues:
        additionalExtensions:
          - objectId:
              objectIdPaths:
                - 1
                - 6
            value: c3RyaW5nCg==
            critical: true
        aiaOcspServers:
          - string
        caOptions:
          isCa: false
          maxIssuerPathLength: 6
        keyUsage:
          baseKeyUsage:
            certSign: false
            contentCommitment: true
            crlSign: false
            dataEncipherment: true
            decipherOnly: true
            digitalSignature: true
            encipherOnly: true
            keyAgreement: true
            keyEncipherment: true
          extendedKeyUsage:
            clientAuth: true
            codeSigning: true
            emailProtection: true
            ocspSigning: true
            serverAuth: true
            timeStamping: true
          unknownExtendedKeyUsages:
            - objectIdPaths:
                - 1
                - 6
        policyIds:
          - objectIdPaths:
              - 1
              - 6
  defaultAuthority:
    type: gcp:certificateauthority:Authority
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthorityId: my-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: false
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
  defaultCertificate:
    type: gcp:certificateauthority:Certificate
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthority: ${defaultAuthority.certificateAuthorityId}
      name: my-certificate
      lifetime: 860s
      pemCsr:
        fn::invoke:
          function: std:file
          arguments:
            input: test-fixtures/rsa_csr.pem
          return: result
      certificateTemplate: ${defaultCertificateTemplate.id}
```
<!--End PulumiCodeChooser -->
### Privateca Certificate Csr


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificateauthority.CaPool("default", {
    location: "us-central1",
    name: "my-pool",
    tier: "ENTERPRISE",
});
const defaultAuthority = new gcp.certificateauthority.Authority("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthorityId: "my-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: false,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const defaultCertificate = new gcp.certificateauthority.Certificate("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthority: defaultAuthority.certificateAuthorityId,
    name: "my-certificate",
    lifetime: "860s",
    pemCsr: std.file({
        input: "test-fixtures/rsa_csr.pem",
    }).then(invoke => invoke.result),
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificateauthority.CaPool("default",
    location="us-central1",
    name="my-pool",
    tier="ENTERPRISE")
default_authority = gcp.certificateauthority.Authority("default",
    location="us-central1",
    pool=default.name,
    certificate_authority_id="my-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": False,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default_certificate = gcp.certificateauthority.Certificate("default",
    location="us-central1",
    pool=default.name,
    certificate_authority=default_authority.certificate_authority_id,
    name="my-certificate",
    lifetime="860s",
    pem_csr=std.file(input="test-fixtures/rsa_csr.pem").result)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Location = "us-central1",
        Name = "my-pool",
        Tier = "ENTERPRISE",
    });

    var defaultAuthority = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthorityId = "my-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = false,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var defaultCertificate = new Gcp.CertificateAuthority.Certificate("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthority = defaultAuthority.CertificateAuthorityId,
        Name = "my-certificate",
        Lifetime = "860s",
        PemCsr = Std.File.Invoke(new()
        {
            Input = "test-fixtures/rsa_csr.pem",
        }).Apply(invoke => invoke.Result),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-pool"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		defaultAuthority, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   _default.Name,
			CertificateAuthorityId: pulumi.String("my-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(false),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/rsa_csr.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificate(ctx, "default", &certificateauthority.CertificateArgs{
			Location:             pulumi.String("us-central1"),
			Pool:                 _default.Name,
			CertificateAuthority: defaultAuthority.CertificateAuthorityId,
			Name:                 pulumi.String("my-certificate"),
			Lifetime:             pulumi.String("860s"),
			PemCsr:               pulumi.String(invokeFile.Result),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.Certificate;
import com.pulumi.gcp.certificateauthority.CertificateArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .location("us-central1")
            .name("my-pool")
            .tier("ENTERPRISE")
            .build());

        var defaultAuthority = new Authority("defaultAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthorityId("my-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(false)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var defaultCertificate = new Certificate("defaultCertificate", CertificateArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthority(defaultAuthority.certificateAuthorityId())
            .name("my-certificate")
            .lifetime("860s")
            .pemCsr(StdFunctions.file(FileArgs.builder()
                .input("test-fixtures/rsa_csr.pem")
                .build()).result())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      location: us-central1
      name: my-pool
      tier: ENTERPRISE
  defaultAuthority:
    type: gcp:certificateauthority:Authority
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthorityId: my-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: false
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
  defaultCertificate:
    type: gcp:certificateauthority:Certificate
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthority: ${defaultAuthority.certificateAuthorityId}
      name: my-certificate
      lifetime: 860s
      pemCsr:
        fn::invoke:
          function: std:file
          arguments:
            input: test-fixtures/rsa_csr.pem
          return: result
```
<!--End PulumiCodeChooser -->
### Privateca Certificate No Authority


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificateauthority.CaPool("default", {
    location: "us-central1",
    name: "my-pool",
    tier: "ENTERPRISE",
});
const defaultAuthority = new gcp.certificateauthority.Authority("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthorityId: "my-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    digitalSignature: true,
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    lifetime: "86400s",
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const defaultCertificate = new gcp.certificateauthority.Certificate("default", {
    location: "us-central1",
    pool: _default.name,
    name: "my-certificate",
    lifetime: "860s",
    config: {
        subjectConfig: {
            subject: {
                commonName: "san1.example.com",
                countryCode: "us",
                organization: "google",
                organizationalUnit: "enterprise",
                locality: "mountain view",
                province: "california",
                streetAddress: "1600 amphitheatre parkway",
                postalCode: "94109",
            },
        },
        x509Config: {
            caOptions: {
                isCa: false,
            },
            keyUsage: {
                baseKeyUsage: {
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
        publicKey: {
            format: "PEM",
            key: std.filebase64({
                input: "test-fixtures/rsa_public.pem",
            }).then(invoke => invoke.result),
        },
    },
}, {
    dependsOn: [defaultAuthority],
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificateauthority.CaPool("default",
    location="us-central1",
    name="my-pool",
    tier="ENTERPRISE")
default_authority = gcp.certificateauthority.Authority("default",
    location="us-central1",
    pool=default.name,
    certificate_authority_id="my-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "digital_signature": True,
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    lifetime="86400s",
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default_certificate = gcp.certificateauthority.Certificate("default",
    location="us-central1",
    pool=default.name,
    name="my-certificate",
    lifetime="860s",
    config={
        "subject_config": {
            "subject": {
                "common_name": "san1.example.com",
                "country_code": "us",
                "organization": "google",
                "organizational_unit": "enterprise",
                "locality": "mountain view",
                "province": "california",
                "street_address": "1600 amphitheatre parkway",
                "postal_code": "94109",
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": False,
            },
            "key_usage": {
                "base_key_usage": {
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
        "public_key": {
            "format": "PEM",
            "key": std.filebase64(input="test-fixtures/rsa_public.pem").result,
        },
    },
    opts = pulumi.ResourceOptions(depends_on=[default_authority]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Location = "us-central1",
        Name = "my-pool",
        Tier = "ENTERPRISE",
    });

    var defaultAuthority = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthorityId = "my-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        DigitalSignature = true,
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        Lifetime = "86400s",
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var defaultCertificate = new Gcp.CertificateAuthority.Certificate("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        Name = "my-certificate",
        Lifetime = "860s",
        Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigSubjectArgs
                {
                    CommonName = "san1.example.com",
                    CountryCode = "us",
                    Organization = "google",
                    OrganizationalUnit = "enterprise",
                    Locality = "mountain view",
                    Province = "california",
                    StreetAddress = "1600 amphitheatre parkway",
                    PostalCode = "94109",
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigCaOptionsArgs
                {
                    IsCa = false,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
            PublicKey = new Gcp.CertificateAuthority.Inputs.CertificateConfigPublicKeyArgs
            {
                Format = "PEM",
                Key = Std.Filebase64.Invoke(new()
                {
                    Input = "test-fixtures/rsa_public.pem",
                }).Apply(invoke => invoke.Result),
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            defaultAuthority,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-pool"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		defaultAuthority, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   _default.Name,
			CertificateAuthorityId: pulumi.String("my-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							DigitalSignature: pulumi.Bool(true),
							CertSign:         pulumi.Bool(true),
							CrlSign:          pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			Lifetime: pulumi.String("86400s"),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		invokeFilebase64, err := std.Filebase64(ctx, &std.Filebase64Args{
			Input: "test-fixtures/rsa_public.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificate(ctx, "default", &certificateauthority.CertificateArgs{
			Location: pulumi.String("us-central1"),
			Pool:     _default.Name,
			Name:     pulumi.String("my-certificate"),
			Lifetime: pulumi.String("860s"),
			Config: &certificateauthority.CertificateConfigArgs{
				SubjectConfig: &certificateauthority.CertificateConfigSubjectConfigArgs{
					Subject: &certificateauthority.CertificateConfigSubjectConfigSubjectArgs{
						CommonName:         pulumi.String("san1.example.com"),
						CountryCode:        pulumi.String("us"),
						Organization:       pulumi.String("google"),
						OrganizationalUnit: pulumi.String("enterprise"),
						Locality:           pulumi.String("mountain view"),
						Province:           pulumi.String("california"),
						StreetAddress:      pulumi.String("1600 amphitheatre parkway"),
						PostalCode:         pulumi.String("94109"),
					},
				},
				X509Config: &certificateauthority.CertificateConfigX509ConfigArgs{
					CaOptions: &certificateauthority.CertificateConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(false),
					},
					KeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CrlSign: pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
				PublicKey: &certificateauthority.CertificateConfigPublicKeyArgs{
					Format: pulumi.String("PEM"),
					Key:    pulumi.String(invokeFilebase64.Result),
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			defaultAuthority,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.Certificate;
import com.pulumi.gcp.certificateauthority.CertificateArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigPublicKeyArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .location("us-central1")
            .name("my-pool")
            .tier("ENTERPRISE")
            .build());

        var defaultAuthority = new Authority("defaultAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthorityId("my-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .digitalSignature(true)
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .lifetime("86400s")
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var defaultCertificate = new Certificate("defaultCertificate", CertificateArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .name("my-certificate")
            .lifetime("860s")
            .config(CertificateConfigArgs.builder()
                .subjectConfig(CertificateConfigSubjectConfigArgs.builder()
                    .subject(CertificateConfigSubjectConfigSubjectArgs.builder()
                        .commonName("san1.example.com")
                        .countryCode("us")
                        .organization("google")
                        .organizationalUnit("enterprise")
                        .locality("mountain view")
                        .province("california")
                        .streetAddress("1600 amphitheatre parkway")
                        .postalCode("94109")
                        .build())
                    .build())
                .x509Config(CertificateConfigX509ConfigArgs.builder()
                    .caOptions(CertificateConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(false)
                        .build())
                    .keyUsage(CertificateConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .publicKey(CertificateConfigPublicKeyArgs.builder()
                    .format("PEM")
                    .key(StdFunctions.filebase64(Filebase64Args.builder()
                        .input("test-fixtures/rsa_public.pem")
                        .build()).result())
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(defaultAuthority)
                .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      location: us-central1
      name: my-pool
      tier: ENTERPRISE
  defaultAuthority:
    type: gcp:certificateauthority:Authority
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthorityId: my-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              digitalSignature: true
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      lifetime: 86400s
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
  defaultCertificate:
    type: gcp:certificateauthority:Certificate
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      name: my-certificate
      lifetime: 860s
      config:
        subjectConfig:
          subject:
            commonName: san1.example.com
            countryCode: us
            organization: google
            organizationalUnit: enterprise
            locality: mountain view
            province: california
            streetAddress: 1600 amphitheatre parkway
            postalCode: '94109'
        x509Config:
          caOptions:
            isCa: false
          keyUsage:
            baseKeyUsage:
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
        publicKey:
          format: PEM
          key:
            fn::invoke:
              function: std:filebase64
              arguments:
                input: test-fixtures/rsa_public.pem
              return: result
    options:
      dependsOn:
        - ${defaultAuthority}
```
<!--End PulumiCodeChooser -->
### Privateca Certificate Custom Ski


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificateauthority.CaPool("default", {
    location: "us-central1",
    name: "my-pool",
    tier: "ENTERPRISE",
});
const defaultAuthority = new gcp.certificateauthority.Authority("default", {
    location: "us-central1",
    pool: _default.name,
    certificateAuthorityId: "my-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    digitalSignature: true,
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    lifetime: "86400s",
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const defaultCertificate = new gcp.certificateauthority.Certificate("default", {
    location: "us-central1",
    pool: _default.name,
    name: "my-certificate",
    lifetime: "860s",
    config: {
        subjectConfig: {
            subject: {
                commonName: "san1.example.com",
                countryCode: "us",
                organization: "google",
                organizationalUnit: "enterprise",
                locality: "mountain view",
                province: "california",
                streetAddress: "1600 amphitheatre parkway",
                postalCode: "94109",
            },
        },
        subjectKeyId: {
            keyId: "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
        },
        x509Config: {
            caOptions: {
                isCa: false,
            },
            keyUsage: {
                baseKeyUsage: {
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
        publicKey: {
            format: "PEM",
            key: std.filebase64({
                input: "test-fixtures/rsa_public.pem",
            }).then(invoke => invoke.result),
        },
    },
}, {
    dependsOn: [defaultAuthority],
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificateauthority.CaPool("default",
    location="us-central1",
    name="my-pool",
    tier="ENTERPRISE")
default_authority = gcp.certificateauthority.Authority("default",
    location="us-central1",
    pool=default.name,
    certificate_authority_id="my-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "digital_signature": True,
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    lifetime="86400s",
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default_certificate = gcp.certificateauthority.Certificate("default",
    location="us-central1",
    pool=default.name,
    name="my-certificate",
    lifetime="860s",
    config={
        "subject_config": {
            "subject": {
                "common_name": "san1.example.com",
                "country_code": "us",
                "organization": "google",
                "organizational_unit": "enterprise",
                "locality": "mountain view",
                "province": "california",
                "street_address": "1600 amphitheatre parkway",
                "postal_code": "94109",
            },
        },
        "subject_key_id": {
            "key_id": "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
        },
        "x509_config": {
            "ca_options": {
                "is_ca": False,
            },
            "key_usage": {
                "base_key_usage": {
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
        "public_key": {
            "format": "PEM",
            "key": std.filebase64(input="test-fixtures/rsa_public.pem").result,
        },
    },
    opts = pulumi.ResourceOptions(depends_on=[default_authority]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CaPool("default", new()
    {
        Location = "us-central1",
        Name = "my-pool",
        Tier = "ENTERPRISE",
    });

    var defaultAuthority = new Gcp.CertificateAuthority.Authority("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        CertificateAuthorityId = "my-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        DigitalSignature = true,
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        Lifetime = "86400s",
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var defaultCertificate = new Gcp.CertificateAuthority.Certificate("default", new()
    {
        Location = "us-central1",
        Pool = @default.Name,
        Name = "my-certificate",
        Lifetime = "860s",
        Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectConfigSubjectArgs
                {
                    CommonName = "san1.example.com",
                    CountryCode = "us",
                    Organization = "google",
                    OrganizationalUnit = "enterprise",
                    Locality = "mountain view",
                    Province = "california",
                    StreetAddress = "1600 amphitheatre parkway",
                    PostalCode = "94109",
                },
            },
            SubjectKeyId = new Gcp.CertificateAuthority.Inputs.CertificateConfigSubjectKeyIdArgs
            {
                KeyId = "4cf3372289b1d411b999dbb9ebcd44744b6b2fca",
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigCaOptionsArgs
                {
                    IsCa = false,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
            PublicKey = new Gcp.CertificateAuthority.Inputs.CertificateConfigPublicKeyArgs
            {
                Format = "PEM",
                Key = Std.Filebase64.Invoke(new()
                {
                    Input = "test-fixtures/rsa_public.pem",
                }).Apply(invoke => invoke.Result),
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            defaultAuthority,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCaPool(ctx, "default", &certificateauthority.CaPoolArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-pool"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		defaultAuthority, err := certificateauthority.NewAuthority(ctx, "default", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   _default.Name,
			CertificateAuthorityId: pulumi.String("my-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							DigitalSignature: pulumi.Bool(true),
							CertSign:         pulumi.Bool(true),
							CrlSign:          pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			Lifetime: pulumi.String("86400s"),
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		invokeFilebase64, err := std.Filebase64(ctx, &std.Filebase64Args{
			Input: "test-fixtures/rsa_public.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificate(ctx, "default", &certificateauthority.CertificateArgs{
			Location: pulumi.String("us-central1"),
			Pool:     _default.Name,
			Name:     pulumi.String("my-certificate"),
			Lifetime: pulumi.String("860s"),
			Config: &certificateauthority.CertificateConfigArgs{
				SubjectConfig: &certificateauthority.CertificateConfigSubjectConfigArgs{
					Subject: &certificateauthority.CertificateConfigSubjectConfigSubjectArgs{
						CommonName:         pulumi.String("san1.example.com"),
						CountryCode:        pulumi.String("us"),
						Organization:       pulumi.String("google"),
						OrganizationalUnit: pulumi.String("enterprise"),
						Locality:           pulumi.String("mountain view"),
						Province:           pulumi.String("california"),
						StreetAddress:      pulumi.String("1600 amphitheatre parkway"),
						PostalCode:         pulumi.String("94109"),
					},
				},
				SubjectKeyId: &certificateauthority.CertificateConfigSubjectKeyIdArgs{
					KeyId: pulumi.String("4cf3372289b1d411b999dbb9ebcd44744b6b2fca"),
				},
				X509Config: &certificateauthority.CertificateConfigX509ConfigArgs{
					CaOptions: &certificateauthority.CertificateConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(false),
					},
					KeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CrlSign: pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
				PublicKey: &certificateauthority.CertificateConfigPublicKeyArgs{
					Format: pulumi.String("PEM"),
					Key:    pulumi.String(invokeFilebase64.Result),
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			defaultAuthority,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificateauthority.Certificate;
import com.pulumi.gcp.certificateauthority.CertificateArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigSubjectKeyIdArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateConfigPublicKeyArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CaPool("default", CaPoolArgs.builder()
            .location("us-central1")
            .name("my-pool")
            .tier("ENTERPRISE")
            .build());

        var defaultAuthority = new Authority("defaultAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .certificateAuthorityId("my-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .digitalSignature(true)
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .lifetime("86400s")
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var defaultCertificate = new Certificate("defaultCertificate", CertificateArgs.builder()
            .location("us-central1")
            .pool(default_.name())
            .name("my-certificate")
            .lifetime("860s")
            .config(CertificateConfigArgs.builder()
                .subjectConfig(CertificateConfigSubjectConfigArgs.builder()
                    .subject(CertificateConfigSubjectConfigSubjectArgs.builder()
                        .commonName("san1.example.com")
                        .countryCode("us")
                        .organization("google")
                        .organizationalUnit("enterprise")
                        .locality("mountain view")
                        .province("california")
                        .streetAddress("1600 amphitheatre parkway")
                        .postalCode("94109")
                        .build())
                    .build())
                .subjectKeyId(CertificateConfigSubjectKeyIdArgs.builder()
                    .keyId("4cf3372289b1d411b999dbb9ebcd44744b6b2fca")
                    .build())
                .x509Config(CertificateConfigX509ConfigArgs.builder()
                    .caOptions(CertificateConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(false)
                        .build())
                    .keyUsage(CertificateConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(CertificateConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(CertificateConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .publicKey(CertificateConfigPublicKeyArgs.builder()
                    .format("PEM")
                    .key(StdFunctions.filebase64(Filebase64Args.builder()
                        .input("test-fixtures/rsa_public.pem")
                        .build()).result())
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(defaultAuthority)
                .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CaPool
    properties:
      location: us-central1
      name: my-pool
      tier: ENTERPRISE
  defaultAuthority:
    type: gcp:certificateauthority:Authority
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      certificateAuthorityId: my-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              digitalSignature: true
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      lifetime: 86400s
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
  defaultCertificate:
    type: gcp:certificateauthority:Certificate
    name: default
    properties:
      location: us-central1
      pool: ${default.name}
      name: my-certificate
      lifetime: 860s
      config:
        subjectConfig:
          subject:
            commonName: san1.example.com
            countryCode: us
            organization: google
            organizationalUnit: enterprise
            locality: mountain view
            province: california
            streetAddress: 1600 amphitheatre parkway
            postalCode: '94109'
        subjectKeyId:
          keyId: 4cf3372289b1d411b999dbb9ebcd44744b6b2fca
        x509Config:
          caOptions:
            isCa: false
          keyUsage:
            baseKeyUsage:
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
        publicKey:
          format: PEM
          key:
            fn::invoke:
              function: std:filebase64
              arguments:
                input: test-fixtures/rsa_public.pem
              return: result
    options:
      dependsOn:
        - ${defaultAuthority}
```
<!--End PulumiCodeChooser -->

## Import

Certificate can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificates/{{name}}`

* `{{project}}/{{location}}/{{pool}}/{{name}}`

* `{{location}}/{{pool}}/{{name}}`

When using the `pulumi import` command, Certificate can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificateauthority/certificate:Certificate default projects/{{project}}/locations/{{location}}/caPools/{{pool}}/certificates/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/certificate:Certificate default {{project}}/{{location}}/{{pool}}/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/certificate:Certificate default {{location}}/{{pool}}/{{name}}
```

¦
certificateAuthorityB" ‡The Certificate Authority ID that should issue the certificate. For example, to issue a Certificate from
a Certificate Authority with resource name `projects/my-project/locations/us-central1/caPools/my-pool/certificateAuthorities/my-ca`,
argument `pool` should be set to `projects/my-project/locations/us-central1/caPools/my-pool`, argument `certificate_authority`
should be set to `my-ca`.
ð
certificateTemplateB" ÒThe resource name for a CertificateTemplate used to issue this certificate,
in the format `projects/*/locations/*/certificateTemplates/*`. If this is specified,
the caller must have the necessary permission to use this template. If this is
omitted, no template will be used. This template must be in the same location
as the Certificate.
Ú
configmBk:i
g
certificateauthorityCertificateConfig<gcp:certificateauthority/CertificateConfig:CertificateConfigaThe config used to create a self-signed X.509 certificate or CSR.
Structure is documented below.
—
labelsB2" „Labels with user-defined metadata to apply to this resource.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
ö
lifetimeB" ãThe desired lifetime of the CA certificate. Used to create the "notBeforeTime" and
"notAfterTime" fields inside an X.509 certificate. A duration in seconds with up to nine
fractional digits, terminated by 's'. Example: "3.5s".

location" Location of the Certificate. A full list of valid locations can be found by
running `gcloud privateca locations list`.


- - -
-
nameB" The name for this Certificate.
R
pemCsrB" BImmutable. A pem-encoded X.509 certificate signing request (CSR).
@
pool" 4The name of the CaPool this Certificate belongs to.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"¦
certificateAuthorityB" ‡The Certificate Authority ID that should issue the certificate. For example, to issue a Certificate from
a Certificate Authority with resource name `projects/my-project/locations/us-central1/caPools/my-pool/certificateAuthorities/my-ca`,
argument `pool` should be set to `projects/my-project/locations/us-central1/caPools/my-pool`, argument `certificate_authority`
should be set to `my-ca`.
"î
certificateDescriptions *:š
—
certificateauthority!CertificateCertificateDescription\gcp:certificateauthority/CertificateCertificateDescription:CertificateCertificateDescription¯Output only. Details regarding the revocation of this Certificate. This Certificate is considered revoked if and only if this field is present.
Structure is documented below.
"ð
certificateTemplateB" ÒThe resource name for a CertificateTemplate used to issue this certificate,
in the format `projects/*/locations/*/certificateTemplates/*`. If this is specified,
the caller must have the necessary permission to use this template. If this is
omitted, no template will be used. This template must be in the same location
as the Certificate.
"Ú
configmBk:i
g
certificateauthorityCertificateConfig<gcp:certificateauthority/CertificateConfig:CertificateConfigaThe config used to create a self-signed X.509 certificate or CSR.
Structure is documented below.
"i

createTime" WThe time that this resource was created on the server.
This is in RFC3339 text format.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"¤
issuerCertificateAuthority" The resource name of the issuing CertificateAuthority in the format `projects/*/locations/*/caPools/*/certificateAuthorities/*`.
"—
labelsB2" „Labels with user-defined metadata to apply to this resource.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"ö
lifetimeB" ãThe desired lifetime of the CA certificate. Used to create the "notBeforeTime" and
"notAfterTime" fields inside an X.509 certificate. A duration in seconds with up to nine
fractional digits, terminated by 's'. Example: "3.5s".
"
location" Location of the Certificate. A full list of valid locations can be found by
running `gcloud privateca locations list`.


- - -
"+
name" The name for this Certificate.
"N
pemCertificate" 8Output only. The pem-encoded, signed X.509 certificate.
"˜
pemCertificateChains*" zThe chain that may be used to verify the X.509 certificate. Expected to be in issuer-to-root order according to RFC 5246.
"R
pemCsrB" BImmutable. A pem-encoded X.509 certificate signing request (CSR).
"@
pool" 4The name of the CaPool this Certificate belongs to.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"Ö
revocationDetailsŽ*‹:ˆ
…
certificateauthorityCertificateRevocationDetailPgcp:certificateauthority/CertificateRevocationDetail:CertificateRevocationDetail¯Output only. Details regarding the revocation of this Certificate. This Certificate is
considered revoked if and only if this field is present.
Structure is documented below.
"x

updateTime" fOutput only. The time at which this CertificateAuthority was updated.
This is in RFC3339 text format.
*ÊÝ
m
certificateauthorityCertificateTemplate@gcp:certificateauthority/certificateTemplate:CertificateTemplate´ªCertificate Authority Service provides reusable and parameterized templates that you can use for common certificate issuance scenarios. A certificate template represents a relatively static and well-defined certificate issuance schema within an organization. A certificate template can essentially become a full-fledged vertical certificate issuance framework.


To get more information about CertificateTemplate, see:

* [API documentation](https://cloud.google.com/certificate-authority-service/docs/reference/rest)
* How-to Guides
    * [Common configurations and Certificate Profiles](https://cloud.google.com/certificate-authority-service/docs/certificate-profile)
    * [Official Documentation](https://cloud.google.com/certificate-authority-service)
    * [Understanding Certificate Templates](https://cloud.google.com/certificate-authority-service/docs/certificate-template)

## Example Usage

### Privateca Template Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificateauthority.CertificateTemplate("default", {
    name: "my-template",
    location: "us-central1",
    description: "A sample certificate template",
    identityConstraints: {
        allowSubjectAltNamesPassthrough: true,
        allowSubjectPassthrough: true,
        celExpression: {
            description: "Always true",
            expression: "true",
            location: "any.file.anywhere",
            title: "Sample expression",
        },
    },
    maximumLifetime: "86400s",
    passthroughExtensions: {
        additionalExtensions: [{
            objectIdPaths: [
                1,
                6,
            ],
        }],
        knownExtensions: ["EXTENDED_KEY_USAGE"],
    },
    predefinedValues: {
        additionalExtensions: [{
            objectId: {
                objectIdPaths: [
                    1,
                    6,
                ],
            },
            value: "c3RyaW5nCg==",
            critical: true,
        }],
        aiaOcspServers: ["string"],
        caOptions: {
            isCa: false,
            maxIssuerPathLength: 6,
        },
        keyUsage: {
            baseKeyUsage: {
                certSign: false,
                contentCommitment: true,
                crlSign: false,
                dataEncipherment: true,
                decipherOnly: true,
                digitalSignature: true,
                encipherOnly: true,
                keyAgreement: true,
                keyEncipherment: true,
            },
            extendedKeyUsage: {
                clientAuth: true,
                codeSigning: true,
                emailProtection: true,
                ocspSigning: true,
                serverAuth: true,
                timeStamping: true,
            },
            unknownExtendedKeyUsages: [{
                objectIdPaths: [
                    1,
                    6,
                ],
            }],
        },
        policyIds: [{
            objectIdPaths: [
                1,
                6,
            ],
        }],
    },
    labels: {
        "label-one": "value-one",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.CertificateTemplate("default",
    name="my-template",
    location="us-central1",
    description="A sample certificate template",
    identity_constraints={
        "allow_subject_alt_names_passthrough": True,
        "allow_subject_passthrough": True,
        "cel_expression": {
            "description": "Always true",
            "expression": "true",
            "location": "any.file.anywhere",
            "title": "Sample expression",
        },
    },
    maximum_lifetime="86400s",
    passthrough_extensions={
        "additional_extensions": [{
            "object_id_paths": [
                1,
                6,
            ],
        }],
        "known_extensions": ["EXTENDED_KEY_USAGE"],
    },
    predefined_values={
        "additional_extensions": [{
            "object_id": {
                "object_id_paths": [
                    1,
                    6,
                ],
            },
            "value": "c3RyaW5nCg==",
            "critical": True,
        }],
        "aia_ocsp_servers": ["string"],
        "ca_options": {
            "is_ca": False,
            "max_issuer_path_length": 6,
        },
        "key_usage": {
            "base_key_usage": {
                "cert_sign": False,
                "content_commitment": True,
                "crl_sign": False,
                "data_encipherment": True,
                "decipher_only": True,
                "digital_signature": True,
                "encipher_only": True,
                "key_agreement": True,
                "key_encipherment": True,
            },
            "extended_key_usage": {
                "client_auth": True,
                "code_signing": True,
                "email_protection": True,
                "ocsp_signing": True,
                "server_auth": True,
                "time_stamping": True,
            },
            "unknown_extended_key_usages": [{
                "object_id_paths": [
                    1,
                    6,
                ],
            }],
        },
        "policy_ids": [{
            "object_id_paths": [
                1,
                6,
            ],
        }],
    },
    labels={
        "label-one": "value-one",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateAuthority.CertificateTemplate("default", new()
    {
        Name = "my-template",
        Location = "us-central1",
        Description = "A sample certificate template",
        IdentityConstraints = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIdentityConstraintsArgs
        {
            AllowSubjectAltNamesPassthrough = true,
            AllowSubjectPassthrough = true,
            CelExpression = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIdentityConstraintsCelExpressionArgs
            {
                Description = "Always true",
                Expression = "true",
                Location = "any.file.anywhere",
                Title = "Sample expression",
            },
        },
        MaximumLifetime = "86400s",
        PassthroughExtensions = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePassthroughExtensionsArgs
        {
            AdditionalExtensions = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs
                {
                    ObjectIdPaths = new[]
                    {
                        1,
                        6,
                    },
                },
            },
            KnownExtensions = new[]
            {
                "EXTENDED_KEY_USAGE",
            },
        },
        PredefinedValues = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesArgs
        {
            AdditionalExtensions = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesAdditionalExtensionArgs
                {
                    ObjectId = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            6,
                        },
                    },
                    Value = "c3RyaW5nCg==",
                    Critical = true,
                },
            },
            AiaOcspServers = new[]
            {
                "string",
            },
            CaOptions = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesCaOptionsArgs
            {
                IsCa = false,
                MaxIssuerPathLength = 6,
            },
            KeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageArgs
            {
                BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs
                {
                    CertSign = false,
                    ContentCommitment = true,
                    CrlSign = false,
                    DataEncipherment = true,
                    DecipherOnly = true,
                    DigitalSignature = true,
                    EncipherOnly = true,
                    KeyAgreement = true,
                    KeyEncipherment = true,
                },
                ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs
                {
                    ClientAuth = true,
                    CodeSigning = true,
                    EmailProtection = true,
                    OcspSigning = true,
                    ServerAuth = true,
                    TimeStamping = true,
                },
                UnknownExtendedKeyUsages = new[]
                {
                    new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs
                    {
                        ObjectIdPaths = new[]
                        {
                            1,
                            6,
                        },
                    },
                },
            },
            PolicyIds = new[]
            {
                new Gcp.CertificateAuthority.Inputs.CertificateTemplatePredefinedValuesPolicyIdArgs
                {
                    ObjectIdPaths = new[]
                    {
                        1,
                        6,
                    },
                },
            },
        },
        Labels = 
        {
            { "label-one", "value-one" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplate(ctx, "default", &certificateauthority.CertificateTemplateArgs{
			Name:        pulumi.String("my-template"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("A sample certificate template"),
			IdentityConstraints: &certificateauthority.CertificateTemplateIdentityConstraintsArgs{
				AllowSubjectAltNamesPassthrough: pulumi.Bool(true),
				AllowSubjectPassthrough:         pulumi.Bool(true),
				CelExpression: &certificateauthority.CertificateTemplateIdentityConstraintsCelExpressionArgs{
					Description: pulumi.String("Always true"),
					Expression:  pulumi.String("true"),
					Location:    pulumi.String("any.file.anywhere"),
					Title:       pulumi.String("Sample expression"),
				},
			},
			MaximumLifetime: pulumi.String("86400s"),
			PassthroughExtensions: &certificateauthority.CertificateTemplatePassthroughExtensionsArgs{
				AdditionalExtensions: certificateauthority.CertificateTemplatePassthroughExtensionsAdditionalExtensionArray{
					&certificateauthority.CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs{
						ObjectIdPaths: pulumi.IntArray{
							pulumi.Int(1),
							pulumi.Int(6),
						},
					},
				},
				KnownExtensions: pulumi.StringArray{
					pulumi.String("EXTENDED_KEY_USAGE"),
				},
			},
			PredefinedValues: &certificateauthority.CertificateTemplatePredefinedValuesArgs{
				AdditionalExtensions: certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionArray{
					&certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionArgs{
						ObjectId: &certificateauthority.CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(6),
							},
						},
						Value:    pulumi.String("c3RyaW5nCg=="),
						Critical: pulumi.Bool(true),
					},
				},
				AiaOcspServers: pulumi.StringArray{
					pulumi.String("string"),
				},
				CaOptions: &certificateauthority.CertificateTemplatePredefinedValuesCaOptionsArgs{
					IsCa:                pulumi.Bool(false),
					MaxIssuerPathLength: pulumi.Int(6),
				},
				KeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageArgs{
					BaseKeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs{
						CertSign:          pulumi.Bool(false),
						ContentCommitment: pulumi.Bool(true),
						CrlSign:           pulumi.Bool(false),
						DataEncipherment:  pulumi.Bool(true),
						DecipherOnly:      pulumi.Bool(true),
						DigitalSignature:  pulumi.Bool(true),
						EncipherOnly:      pulumi.Bool(true),
						KeyAgreement:      pulumi.Bool(true),
						KeyEncipherment:   pulumi.Bool(true),
					},
					ExtendedKeyUsage: &certificateauthority.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs{
						ClientAuth:      pulumi.Bool(true),
						CodeSigning:     pulumi.Bool(true),
						EmailProtection: pulumi.Bool(true),
						OcspSigning:     pulumi.Bool(true),
						ServerAuth:      pulumi.Bool(true),
						TimeStamping:    pulumi.Bool(true),
					},
					UnknownExtendedKeyUsages: certificateauthority.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArray{
						&certificateauthority.CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs{
							ObjectIdPaths: pulumi.IntArray{
								pulumi.Int(1),
								pulumi.Int(6),
							},
						},
					},
				},
				PolicyIds: certificateauthority.CertificateTemplatePredefinedValuesPolicyIdArray{
					&certificateauthority.CertificateTemplatePredefinedValuesPolicyIdArgs{
						ObjectIdPaths: pulumi.IntArray{
							pulumi.Int(1),
							pulumi.Int(6),
						},
					},
				},
			},
			Labels: pulumi.StringMap{
				"label-one": pulumi.String("value-one"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplate;
import com.pulumi.gcp.certificateauthority.CertificateTemplateArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIdentityConstraintsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIdentityConstraintsCelExpressionArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePassthroughExtensionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CertificateTemplate("default", CertificateTemplateArgs.builder()
            .name("my-template")
            .location("us-central1")
            .description("A sample certificate template")
            .identityConstraints(CertificateTemplateIdentityConstraintsArgs.builder()
                .allowSubjectAltNamesPassthrough(true)
                .allowSubjectPassthrough(true)
                .celExpression(CertificateTemplateIdentityConstraintsCelExpressionArgs.builder()
                    .description("Always true")
                    .expression("true")
                    .location("any.file.anywhere")
                    .title("Sample expression")
                    .build())
                .build())
            .maximumLifetime("86400s")
            .passthroughExtensions(CertificateTemplatePassthroughExtensionsArgs.builder()
                .additionalExtensions(CertificateTemplatePassthroughExtensionsAdditionalExtensionArgs.builder()
                    .objectIdPaths(                    
                        1,
                        6)
                    .build())
                .knownExtensions("EXTENDED_KEY_USAGE")
                .build())
            .predefinedValues(CertificateTemplatePredefinedValuesArgs.builder()
                .additionalExtensions(CertificateTemplatePredefinedValuesAdditionalExtensionArgs.builder()
                    .objectId(CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdArgs.builder()
                        .objectIdPaths(                        
                            1,
                            6)
                        .build())
                    .value("c3RyaW5nCg==")
                    .critical(true)
                    .build())
                .aiaOcspServers("string")
                .caOptions(CertificateTemplatePredefinedValuesCaOptionsArgs.builder()
                    .isCa(false)
                    .maxIssuerPathLength(6)
                    .build())
                .keyUsage(CertificateTemplatePredefinedValuesKeyUsageArgs.builder()
                    .baseKeyUsage(CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageArgs.builder()
                        .certSign(false)
                        .contentCommitment(true)
                        .crlSign(false)
                        .dataEncipherment(true)
                        .decipherOnly(true)
                        .digitalSignature(true)
                        .encipherOnly(true)
                        .keyAgreement(true)
                        .keyEncipherment(true)
                        .build())
                    .extendedKeyUsage(CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageArgs.builder()
                        .clientAuth(true)
                        .codeSigning(true)
                        .emailProtection(true)
                        .ocspSigning(true)
                        .serverAuth(true)
                        .timeStamping(true)
                        .build())
                    .unknownExtendedKeyUsages(CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsageArgs.builder()
                        .objectIdPaths(                        
                            1,
                            6)
                        .build())
                    .build())
                .policyIds(CertificateTemplatePredefinedValuesPolicyIdArgs.builder()
                    .objectIdPaths(                    
                        1,
                        6)
                    .build())
                .build())
            .labels(Map.of("label-one", "value-one"))
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificateauthority:CertificateTemplate
    properties:
      name: my-template
      location: us-central1
      description: A sample certificate template
      identityConstraints:
        allowSubjectAltNamesPassthrough: true
        allowSubjectPassthrough: true
        celExpression:
          description: Always true
          expression: 'true'
          location: any.file.anywhere
          title: Sample expression
      maximumLifetime: 86400s
      passthroughExtensions:
        additionalExtensions:
          - objectIdPaths:
              - 1
              - 6
        knownExtensions:
          - EXTENDED_KEY_USAGE
      predefinedValues:
        additionalExtensions:
          - objectId:
              objectIdPaths:
                - 1
                - 6
            value: c3RyaW5nCg==
            critical: true
        aiaOcspServers:
          - string
        caOptions:
          isCa: false
          maxIssuerPathLength: 6
        keyUsage:
          baseKeyUsage:
            certSign: false
            contentCommitment: true
            crlSign: false
            dataEncipherment: true
            decipherOnly: true
            digitalSignature: true
            encipherOnly: true
            keyAgreement: true
            keyEncipherment: true
          extendedKeyUsage:
            clientAuth: true
            codeSigning: true
            emailProtection: true
            ocspSigning: true
            serverAuth: true
            timeStamping: true
          unknownExtendedKeyUsages:
            - objectIdPaths:
                - 1
                - 6
        policyIds:
          - objectIdPaths:
              - 1
              - 6
      labels:
        label-one: value-one
```
<!--End PulumiCodeChooser -->

## Import

CertificateTemplate can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/certificateTemplates/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, CertificateTemplate can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificateauthority/certificateTemplate:CertificateTemplate default projects/{{project}}/locations/{{location}}/certificateTemplates/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/certificateTemplate:CertificateTemplate default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificateauthority/certificateTemplate:CertificateTemplate default {{location}}/{{name}}
```

h
descriptionB" SOptional. A human-readable description of scenarios this template is intended for.
´
identityConstraints¯B¬:©
¦
certificateauthority&CertificateTemplateIdentityConstraintsfgcp:certificateauthority/CertificateTemplateIdentityConstraints:CertificateTemplateIdentityConstraintsêOptional. Describes constraints on identities that may be appear in Certificates issued using this template. If this is omitted, then this template will not add restrictions on a certificate's identity.
Structure is documented below.
†
labelsB2" óOptional. Labels with user-defined metadata.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
6
location" &The location for the resource


- - -
­
maximumLifetimeB" “Optional. The maximum lifetime allowed for all issued certificates that use this template. If the issuing CaPool's IssuancePolicy specifies a maximum lifetime the minimum of the two durations will be the maximum lifetime for issued. Note that if the issuing CertificateAuthority expires before a Certificate's requested maximum_lifetime, the effective lifetime will be explicitly truncated to match it.
|
nameB" nThe resource name for this CertificateTemplate in the format `projects/*/locations/*/certificateTemplates/*`.
¶
passthroughExtensionsµB²:¯
¬
certificateauthority(CertificateTemplatePassthroughExtensionsjgcp:certificateauthority/CertificateTemplatePassthroughExtensions:CertificateTemplatePassthroughExtensionsäOptional. Describes the set of X.509 extensions that may appear in a Certificate issued using this CertificateTemplate. If a certificate request sets extensions that don't appear in the passthrough_extensions, those extensions will be dropped. If the issuing CaPool's IssuancePolicy defines baseline_values that don't appear here, the certificate issuance request will fail. If this is omitted, then this template will not add restrictions on a certificate's X.509 extensions. These constraints do not apply to X.509 extensions set in this CertificateTemplate's predefined_values.
Structure is documented below.
Ú
predefinedValues¦B£: 

certificateauthority#CertificateTemplatePredefinedValues`gcp:certificateauthority/CertificateTemplatePredefinedValues:CertificateTemplatePredefinedValuesœOptional. A set of X.509 values that will be applied to all issued certificates that use this template. If the certificate request includes conflicting values for the same properties, they will be overwritten by the values defined here. If the issuing CaPool's IssuancePolicy defines conflicting baseline_values for the same properties, the certificate issuance request will fail.
Structure is documented below.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"W

createTime" EOutput only. The time at which this CertificateTemplate was created.
"h
descriptionB" SOptional. A human-readable description of scenarios this template is intended for.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"´
identityConstraints¯B¬:©
¦
certificateauthority&CertificateTemplateIdentityConstraintsfgcp:certificateauthority/CertificateTemplateIdentityConstraints:CertificateTemplateIdentityConstraintsêOptional. Describes constraints on identities that may be appear in Certificates issued using this template. If this is omitted, then this template will not add restrictions on a certificate's identity.
Structure is documented below.
"†
labelsB2" óOptional. Labels with user-defined metadata.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"6
location" &The location for the resource


- - -
"­
maximumLifetimeB" “Optional. The maximum lifetime allowed for all issued certificates that use this template. If the issuing CaPool's IssuancePolicy specifies a maximum lifetime the minimum of the two durations will be the maximum lifetime for issued. Note that if the issuing CertificateAuthority expires before a Certificate's requested maximum_lifetime, the effective lifetime will be explicitly truncated to match it.
"z
name" nThe resource name for this CertificateTemplate in the format `projects/*/locations/*/certificateTemplates/*`.
"¶
passthroughExtensionsµB²:¯
¬
certificateauthority(CertificateTemplatePassthroughExtensionsjgcp:certificateauthority/CertificateTemplatePassthroughExtensions:CertificateTemplatePassthroughExtensionsäOptional. Describes the set of X.509 extensions that may appear in a Certificate issued using this CertificateTemplate. If a certificate request sets extensions that don't appear in the passthrough_extensions, those extensions will be dropped. If the issuing CaPool's IssuancePolicy defines baseline_values that don't appear here, the certificate issuance request will fail. If this is omitted, then this template will not add restrictions on a certificate's X.509 extensions. These constraints do not apply to X.509 extensions set in this CertificateTemplate's predefined_values.
Structure is documented below.
"Ú
predefinedValues¦B£: 

certificateauthority#CertificateTemplatePredefinedValues`gcp:certificateauthority/CertificateTemplatePredefinedValues:CertificateTemplatePredefinedValuesœOptional. A set of X.509 values that will be applied to all issued certificates that use this template. If the certificate request includes conflicting values for the same properties, they will be overwritten by the values defined here. If the issuing CaPool's IssuancePolicy defines conflicting baseline_values for the same properties, the certificate issuance request will fail.
Structure is documented below.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"W

updateTime" EOutput only. The time at which this CertificateTemplate was updated.
*¤Ì
‹
certificateauthorityCertificateTemplateIamBindingTgcp:certificateauthority/certificateTemplateIamBinding:CertificateTemplateIamBindingã£Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CertificateTemplate
Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/certificateTemplates/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service certificatetemplate IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamBinding:CertificateTemplateIamBinding editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamBinding:CertificateTemplateIamBinding editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamBinding:CertificateTemplateIamBinding editor projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
½
	condition¯B¬:©
¦
certificateauthority&CertificateTemplateIamBindingConditionfgcp:certificateauthority/CertificateTemplateIamBindingCondition:CertificateTemplateIamBindingCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
ï
role" âThe role that should be applied. Only one
`gcp.certificateauthority.CertificateTemplateIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
"½
	condition¯B¬:©
¦
certificateauthority&CertificateTemplateIamBindingConditionfgcp:certificateauthority/CertificateTemplateIamBindingCondition:CertificateTemplateIamBindingCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"ï
role" âThe role that should be applied. Only one
`gcp.certificateauthority.CertificateTemplateIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*Ì
ˆ
certificateauthorityCertificateTemplateIamMemberRgcp:certificateauthority/certificateTemplateIamMember:CertificateTemplateIamMemberÝ£Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CertificateTemplate
Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/certificateTemplates/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service certificatetemplate IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamMember:CertificateTemplateIamMember editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamMember:CertificateTemplateIamMember editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamMember:CertificateTemplateIamMember editor projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
º
	condition¬B©:¦
£
certificateauthority%CertificateTemplateIamMemberConditiondgcp:certificateauthority/CertificateTemplateIamMemberCondition:CertificateTemplateIamMemberCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
ï
role" âThe role that should be applied. Only one
`gcp.certificateauthority.CertificateTemplateIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
"º
	condition¬B©:¦
£
certificateauthority%CertificateTemplateIamMemberConditiondgcp:certificateauthority/CertificateTemplateIamMemberCondition:CertificateTemplateIamMemberCondition~An [IAM Condition](https://cloud.google.com/iam/docs/conditions-overview) for a given binding.
Structure is documented below.
"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"ï
role" âThe role that should be applied. Only one
`gcp.certificateauthority.CertificateTemplateIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*Ç±
ˆ
certificateauthorityCertificateTemplateIamPolicyRgcp:certificateauthority/certificateTemplateIamPolicy:CertificateTemplateIamPolicyÝ£Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## This resource supports User Project Overrides.

-

# IAM policy for Certificate Authority Service CertificateTemplate
Three different resources help you manage your IAM policy for Certificate Authority Service CertificateTemplate. Each of these resources serves a different use case:

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Authoritative. Sets the IAM policy for the certificatetemplate and replaces any existing policy already attached.
* `gcp.certificateauthority.CertificateTemplateIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the certificatetemplate are preserved.
* `gcp.certificateauthority.CertificateTemplateIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the certificatetemplate are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.certificateauthority.CertificateTemplateIamPolicy`: Retrieves the IAM policy for the certificatetemplate

> **Note:** `gcp.certificateauthority.CertificateTemplateIamPolicy` **cannot** be used in conjunction with `gcp.certificateauthority.CertificateTemplateIamBinding` and `gcp.certificateauthority.CertificateTemplateIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.certificateauthority.CertificateTemplateIamBinding` resources **can be** used in conjunction with `gcp.certificateauthority.CertificateTemplateIamMember` resources **only if** they do not grant privilege to the same role.

> **Note:**  This resource supports IAM Conditions but they have some known limitations which can be found [here](https://cloud.google.com/iam/docs/conditions-overview#limitations). Please review this article if you are having issues with IAM Conditions.


## gcp.certificateauthority.CertificateTemplateIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/privateca.templateUser",
        members: ["user:jane@example.com"],
        condition: {
            title: "expires_after_2019_12_31",
            description: "Expiring at midnight of 2019-12-31",
            expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    }],
});
const policy = new gcp.certificateauthority.CertificateTemplateIamPolicy("policy", {
    certificateTemplate: _default.id,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/privateca.templateUser",
    "members": ["user:jane@example.com"],
    "condition": {
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
}])
policy = gcp.certificateauthority.CertificateTemplateIamPolicy("policy",
    certificate_template=default["id"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/privateca.templateUser",
                Members = new[]
                {
                    "user:jane@example.com",
                },
                Condition = new Gcp.Organizations.Inputs.GetIAMPolicyBindingConditionInputArgs
                {
                    Title = "expires_after_2019_12_31",
                    Description = "Expiring at midnight of 2019-12-31",
                    Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
                },
            },
        },
    });

    var policy = new Gcp.CertificateAuthority.CertificateTemplateIamPolicy("policy", new()
    {
        CertificateTemplate = @default.Id,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/privateca.templateUser",
					Members: []string{
						"user:jane@example.com",
					},
					Condition: {
						Title:       "expires_after_2019_12_31",
						Description: pulumi.StringRef("Expiring at midnight of 2019-12-31"),
						Expression:  "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificateauthority.NewCertificateTemplateIamPolicy(ctx, "policy", &certificateauthority.CertificateTemplateIamPolicyArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			PolicyData:          pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicy;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/privateca.templateUser")
                .members("user:jane@example.com")
                .condition(GetIAMPolicyBindingConditionArgs.builder()
                    .title("expires_after_2019_12_31")
                    .description("Expiring at midnight of 2019-12-31")
                    .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                    .build())
                .build())
            .build());

        var policy = new CertificateTemplateIamPolicy("policy", CertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:certificateauthority:CertificateTemplateIamPolicy
    properties:
      certificateTemplate: ${default.id}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/privateca.templateUser
            members:
              - user:jane@example.com
            condition:
              title: expires_after_2019_12_31
              description: Expiring at midnight of 2019-12-31
              expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.certificateauthority.CertificateTemplateIamBinding("binding", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    members: ["user:jane@example.com"],
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.certificateauthority.CertificateTemplateIamBinding("binding",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    members=["user:jane@example.com"],
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CertificateAuthority.CertificateTemplateIamBinding("binding", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Members = new[]
        {
            "user:jane@example.com",
        },
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamBindingConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamBinding(ctx, "binding", &certificateauthority.CertificateTemplateIamBindingArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
			Condition: &certificateauthority.CertificateTemplateIamBindingConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBinding;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamBindingArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamBindingConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new CertificateTemplateIamBinding("binding", CertificateTemplateIamBindingArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .members("user:jane@example.com")
            .condition(CertificateTemplateIamBindingConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:certificateauthority:CertificateTemplateIamBinding
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      members:
        - user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->
## gcp.certificateauthority.CertificateTemplateIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

With IAM Conditions:

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.certificateauthority.CertificateTemplateIamMember("member", {
    certificateTemplate: _default.id,
    role: "roles/privateca.templateUser",
    member: "user:jane@example.com",
    condition: {
        title: "expires_after_2019_12_31",
        description: "Expiring at midnight of 2019-12-31",
        expression: "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.certificateauthority.CertificateTemplateIamMember("member",
    certificate_template=default["id"],
    role="roles/privateca.templateUser",
    member="user:jane@example.com",
    condition={
        "title": "expires_after_2019_12_31",
        "description": "Expiring at midnight of 2019-12-31",
        "expression": "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CertificateAuthority.CertificateTemplateIamMember("member", new()
    {
        CertificateTemplate = @default.Id,
        Role = "roles/privateca.templateUser",
        Member = "user:jane@example.com",
        Condition = new Gcp.CertificateAuthority.Inputs.CertificateTemplateIamMemberConditionArgs
        {
            Title = "expires_after_2019_12_31",
            Description = "Expiring at midnight of 2019-12-31",
            Expression = "request.time < timestamp(\"2020-01-01T00:00:00Z\")",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.NewCertificateTemplateIamMember(ctx, "member", &certificateauthority.CertificateTemplateIamMemberArgs{
			CertificateTemplate: pulumi.Any(_default.Id),
			Role:                pulumi.String("roles/privateca.templateUser"),
			Member:              pulumi.String("user:jane@example.com"),
			Condition: &certificateauthority.CertificateTemplateIamMemberConditionArgs{
				Title:       pulumi.String("expires_after_2019_12_31"),
				Description: pulumi.String("Expiring at midnight of 2019-12-31"),
				Expression:  pulumi.String("request.time < timestamp(\"2020-01-01T00:00:00Z\")"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMember;
import com.pulumi.gcp.certificateauthority.CertificateTemplateIamMemberArgs;
import com.pulumi.gcp.certificateauthority.inputs.CertificateTemplateIamMemberConditionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new CertificateTemplateIamMember("member", CertificateTemplateIamMemberArgs.builder()
            .certificateTemplate(default_.id())
            .role("roles/privateca.templateUser")
            .member("user:jane@example.com")
            .condition(CertificateTemplateIamMemberConditionArgs.builder()
                .title("expires_after_2019_12_31")
                .description("Expiring at midnight of 2019-12-31")
                .expression("request.time < timestamp(\"2020-01-01T00:00:00Z\")")
                .build())
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:certificateauthority:CertificateTemplateIamMember
    properties:
      certificateTemplate: ${default.id}
      role: roles/privateca.templateUser
      member: user:jane@example.com
      condition:
        title: expires_after_2019_12_31
        description: Expiring at midnight of 2019-12-31
        expression: request.time < timestamp("2020-01-01T00:00:00Z")
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/certificateTemplates/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Certificate Authority Service certificatetemplate IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamPolicy:CertificateTemplateIamPolicy editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamPolicy:CertificateTemplateIamPolicy editor "projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}} roles/privateca.templateUser"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:certificateauthority/certificateTemplateIamPolicy:CertificateTemplateIamPolicy editor projects/{{project}}/locations/{{location}}/certificateTemplates/{{certificate_template}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
*á¾
Q
certificatemanagerCertificate.gcp:certificatemanager/certificate:CertificateœšCertificate represents a HTTP-reachable backend for a Certificate.





## Example Usage

### Certificate Manager Google Managed Certificate Dns


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const instance = new gcp.certificatemanager.DnsAuthorization("instance", {
    name: "dns-auth",
    description: "The default dnss",
    domain: "subdomain.hashicorptest.com",
});
const instance2 = new gcp.certificatemanager.DnsAuthorization("instance2", {
    name: "dns-auth2",
    description: "The default dnss",
    domain: "subdomain2.hashicorptest.com",
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "dns-cert",
    description: "The default cert",
    scope: "EDGE_CACHE",
    labels: {
        env: "test",
    },
    managed: {
        domains: [
            instance.domain,
            instance2.domain,
        ],
        dnsAuthorizations: [
            instance.id,
            instance2.id,
        ],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

instance = gcp.certificatemanager.DnsAuthorization("instance",
    name="dns-auth",
    description="The default dnss",
    domain="subdomain.hashicorptest.com")
instance2 = gcp.certificatemanager.DnsAuthorization("instance2",
    name="dns-auth2",
    description="The default dnss",
    domain="subdomain2.hashicorptest.com")
default = gcp.certificatemanager.Certificate("default",
    name="dns-cert",
    description="The default cert",
    scope="EDGE_CACHE",
    labels={
        "env": "test",
    },
    managed={
        "domains": [
            instance.domain,
            instance2.domain,
        ],
        "dns_authorizations": [
            instance.id,
            instance2.id,
        ],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var instance = new Gcp.CertificateManager.DnsAuthorization("instance", new()
    {
        Name = "dns-auth",
        Description = "The default dnss",
        Domain = "subdomain.hashicorptest.com",
    });

    var instance2 = new Gcp.CertificateManager.DnsAuthorization("instance2", new()
    {
        Name = "dns-auth2",
        Description = "The default dnss",
        Domain = "subdomain2.hashicorptest.com",
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "dns-cert",
        Description = "The default cert",
        Scope = "EDGE_CACHE",
        Labels = 
        {
            { "env", "test" },
        },
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                instance.Domain,
                instance2.Domain,
            },
            DnsAuthorizations = new[]
            {
                instance.Id,
                instance2.Id,
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		instance, err := certificatemanager.NewDnsAuthorization(ctx, "instance", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		instance2, err := certificatemanager.NewDnsAuthorization(ctx, "instance2", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth2"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain2.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("dns-cert"),
			Description: pulumi.String("The default cert"),
			Scope:       pulumi.String("EDGE_CACHE"),
			Labels: pulumi.StringMap{
				"env": pulumi.String("test"),
			},
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					instance.Domain,
					instance2.Domain,
				},
				DnsAuthorizations: pulumi.StringArray{
					instance.ID(),
					instance2.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var instance = new DnsAuthorization("instance", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .description("The default dnss")
            .domain("subdomain.hashicorptest.com")
            .build());

        var instance2 = new DnsAuthorization("instance2", DnsAuthorizationArgs.builder()
            .name("dns-auth2")
            .description("The default dnss")
            .domain("subdomain2.hashicorptest.com")
            .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("dns-cert")
            .description("The default cert")
            .scope("EDGE_CACHE")
            .labels(Map.of("env", "test"))
            .managed(CertificateManagedArgs.builder()
                .domains(                
                    instance.domain(),
                    instance2.domain())
                .dnsAuthorizations(                
                    instance.id(),
                    instance2.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: dns-cert
      description: The default cert
      scope: EDGE_CACHE
      labels:
        env: test
      managed:
        domains:
          - ${instance.domain}
          - ${instance2.domain}
        dnsAuthorizations:
          - ${instance.id}
          - ${instance2.id}
  instance:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      description: The default dnss
      domain: subdomain.hashicorptest.com
  instance2:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth2
      description: The default dnss
      domain: subdomain2.hashicorptest.com
```
<!--End PulumiCodeChooser -->
### Certificate Manager Google Managed Certificate Issuance Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pool = new gcp.certificateauthority.CaPool("pool", {
    name: "ca-pool",
    location: "us-central1",
    tier: "ENTERPRISE",
});
const caAuthority = new gcp.certificateauthority.Authority("ca_authority", {
    location: "us-central1",
    pool: pool.name,
    certificateAuthorityId: "ca-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
// creating certificate_issuance_config to use it in the managed certificate
const issuanceconfig = new gcp.certificatemanager.CertificateIssuanceConfig("issuanceconfig", {
    name: "issuance-config",
    description: "sample description for the certificate issuanceConfigs",
    certificateAuthorityConfig: {
        certificateAuthorityServiceConfig: {
            caPool: pool.id,
        },
    },
    lifetime: "1814400s",
    rotationWindowPercentage: 34,
    keyAlgorithm: "ECDSA_P256",
}, {
    dependsOn: [caAuthority],
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "issuance-config-cert",
    description: "The default cert",
    scope: "EDGE_CACHE",
    managed: {
        domains: ["terraform.subdomain1.com"],
        issuanceConfig: issuanceconfig.id,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

pool = gcp.certificateauthority.CaPool("pool",
    name="ca-pool",
    location="us-central1",
    tier="ENTERPRISE")
ca_authority = gcp.certificateauthority.Authority("ca_authority",
    location="us-central1",
    pool=pool.name,
    certificate_authority_id="ca-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
# creating certificate_issuance_config to use it in the managed certificate
issuanceconfig = gcp.certificatemanager.CertificateIssuanceConfig("issuanceconfig",
    name="issuance-config",
    description="sample description for the certificate issuanceConfigs",
    certificate_authority_config={
        "certificate_authority_service_config": {
            "ca_pool": pool.id,
        },
    },
    lifetime="1814400s",
    rotation_window_percentage=34,
    key_algorithm="ECDSA_P256",
    opts = pulumi.ResourceOptions(depends_on=[ca_authority]))
default = gcp.certificatemanager.Certificate("default",
    name="issuance-config-cert",
    description="The default cert",
    scope="EDGE_CACHE",
    managed={
        "domains": ["terraform.subdomain1.com"],
        "issuance_config": issuanceconfig.id,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pool = new Gcp.CertificateAuthority.CaPool("pool", new()
    {
        Name = "ca-pool",
        Location = "us-central1",
        Tier = "ENTERPRISE",
    });

    var caAuthority = new Gcp.CertificateAuthority.Authority("ca_authority", new()
    {
        Location = "us-central1",
        Pool = pool.Name,
        CertificateAuthorityId = "ca-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    // creating certificate_issuance_config to use it in the managed certificate
    var issuanceconfig = new Gcp.CertificateManager.CertificateIssuanceConfig("issuanceconfig", new()
    {
        Name = "issuance-config",
        Description = "sample description for the certificate issuanceConfigs",
        CertificateAuthorityConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs
        {
            CertificateAuthorityServiceConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs
            {
                CaPool = pool.Id,
            },
        },
        Lifetime = "1814400s",
        RotationWindowPercentage = 34,
        KeyAlgorithm = "ECDSA_P256",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            caAuthority,
        },
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "issuance-config-cert",
        Description = "The default cert",
        Scope = "EDGE_CACHE",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                "terraform.subdomain1.com",
            },
            IssuanceConfig = issuanceconfig.Id,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		pool, err := certificateauthority.NewCaPool(ctx, "pool", &certificateauthority.CaPoolArgs{
			Name:     pulumi.String("ca-pool"),
			Location: pulumi.String("us-central1"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		caAuthority, err := certificateauthority.NewAuthority(ctx, "ca_authority", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   pool.Name,
			CertificateAuthorityId: pulumi.String("ca-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		// creating certificate_issuance_config to use it in the managed certificate
		issuanceconfig, err := certificatemanager.NewCertificateIssuanceConfig(ctx, "issuanceconfig", &certificatemanager.CertificateIssuanceConfigArgs{
			Name:        pulumi.String("issuance-config"),
			Description: pulumi.String("sample description for the certificate issuanceConfigs"),
			CertificateAuthorityConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigArgs{
				CertificateAuthorityServiceConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs{
					CaPool: pool.ID(),
				},
			},
			Lifetime:                 pulumi.String("1814400s"),
			RotationWindowPercentage: pulumi.Int(34),
			KeyAlgorithm:             pulumi.String("ECDSA_P256"),
		}, pulumi.DependsOn([]pulumi.Resource{
			caAuthority,
		}))
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("issuance-config-cert"),
			Description: pulumi.String("The default cert"),
			Scope:       pulumi.String("EDGE_CACHE"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					pulumi.String("terraform.subdomain1.com"),
				},
				IssuanceConfig: issuanceconfig.ID(),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfig;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pool = new CaPool("pool", CaPoolArgs.builder()
            .name("ca-pool")
            .location("us-central1")
            .tier("ENTERPRISE")
            .build());

        var caAuthority = new Authority("caAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(pool.name())
            .certificateAuthorityId("ca-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        // creating certificate_issuance_config to use it in the managed certificate
        var issuanceconfig = new CertificateIssuanceConfig("issuanceconfig", CertificateIssuanceConfigArgs.builder()
            .name("issuance-config")
            .description("sample description for the certificate issuanceConfigs")
            .certificateAuthorityConfig(CertificateIssuanceConfigCertificateAuthorityConfigArgs.builder()
                .certificateAuthorityServiceConfig(CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs.builder()
                    .caPool(pool.id())
                    .build())
                .build())
            .lifetime("1814400s")
            .rotationWindowPercentage(34)
            .keyAlgorithm("ECDSA_P256")
            .build(), CustomResourceOptions.builder()
                .dependsOn(caAuthority)
                .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("issuance-config-cert")
            .description("The default cert")
            .scope("EDGE_CACHE")
            .managed(CertificateManagedArgs.builder()
                .domains("terraform.subdomain1.com")
                .issuanceConfig(issuanceconfig.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: issuance-config-cert
      description: The default cert
      scope: EDGE_CACHE
      managed:
        domains:
          - terraform.subdomain1.com
        issuanceConfig: ${issuanceconfig.id}
  # creating certificate_issuance_config to use it in the managed certificate
  issuanceconfig:
    type: gcp:certificatemanager:CertificateIssuanceConfig
    properties:
      name: issuance-config
      description: sample description for the certificate issuanceConfigs
      certificateAuthorityConfig:
        certificateAuthorityServiceConfig:
          caPool: ${pool.id}
      lifetime: 1814400s
      rotationWindowPercentage: 34
      keyAlgorithm: ECDSA_P256
    options:
      dependsOn:
        - ${caAuthority}
  pool:
    type: gcp:certificateauthority:CaPool
    properties:
      name: ca-pool
      location: us-central1
      tier: ENTERPRISE
  caAuthority:
    type: gcp:certificateauthority:Authority
    name: ca_authority
    properties:
      location: us-central1
      pool: ${pool.name}
      certificateAuthorityId: ca-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
```
<!--End PulumiCodeChooser -->
### Certificate Manager Certificate Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const instance = new gcp.certificatemanager.DnsAuthorization("instance", {
    name: "dns-auth",
    description: "The default dnss",
    domain: "subdomain.hashicorptest.com",
});
const instance2 = new gcp.certificatemanager.DnsAuthorization("instance2", {
    name: "dns-auth2",
    description: "The default dnss",
    domain: "subdomain2.hashicorptest.com",
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "self-managed-cert",
    description: "Global cert",
    scope: "EDGE_CACHE",
    managed: {
        domains: [
            instance.domain,
            instance2.domain,
        ],
        dnsAuthorizations: [
            instance.id,
            instance2.id,
        ],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

instance = gcp.certificatemanager.DnsAuthorization("instance",
    name="dns-auth",
    description="The default dnss",
    domain="subdomain.hashicorptest.com")
instance2 = gcp.certificatemanager.DnsAuthorization("instance2",
    name="dns-auth2",
    description="The default dnss",
    domain="subdomain2.hashicorptest.com")
default = gcp.certificatemanager.Certificate("default",
    name="self-managed-cert",
    description="Global cert",
    scope="EDGE_CACHE",
    managed={
        "domains": [
            instance.domain,
            instance2.domain,
        ],
        "dns_authorizations": [
            instance.id,
            instance2.id,
        ],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var instance = new Gcp.CertificateManager.DnsAuthorization("instance", new()
    {
        Name = "dns-auth",
        Description = "The default dnss",
        Domain = "subdomain.hashicorptest.com",
    });

    var instance2 = new Gcp.CertificateManager.DnsAuthorization("instance2", new()
    {
        Name = "dns-auth2",
        Description = "The default dnss",
        Domain = "subdomain2.hashicorptest.com",
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "self-managed-cert",
        Description = "Global cert",
        Scope = "EDGE_CACHE",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                instance.Domain,
                instance2.Domain,
            },
            DnsAuthorizations = new[]
            {
                instance.Id,
                instance2.Id,
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		instance, err := certificatemanager.NewDnsAuthorization(ctx, "instance", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		instance2, err := certificatemanager.NewDnsAuthorization(ctx, "instance2", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth2"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain2.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("self-managed-cert"),
			Description: pulumi.String("Global cert"),
			Scope:       pulumi.String("EDGE_CACHE"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					instance.Domain,
					instance2.Domain,
				},
				DnsAuthorizations: pulumi.StringArray{
					instance.ID(),
					instance2.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var instance = new DnsAuthorization("instance", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .description("The default dnss")
            .domain("subdomain.hashicorptest.com")
            .build());

        var instance2 = new DnsAuthorization("instance2", DnsAuthorizationArgs.builder()
            .name("dns-auth2")
            .description("The default dnss")
            .domain("subdomain2.hashicorptest.com")
            .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("self-managed-cert")
            .description("Global cert")
            .scope("EDGE_CACHE")
            .managed(CertificateManagedArgs.builder()
                .domains(                
                    instance.domain(),
                    instance2.domain())
                .dnsAuthorizations(                
                    instance.id(),
                    instance2.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: self-managed-cert
      description: Global cert
      scope: EDGE_CACHE
      managed:
        domains:
          - ${instance.domain}
          - ${instance2.domain}
        dnsAuthorizations:
          - ${instance.id}
          - ${instance2.id}
  instance:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      description: The default dnss
      domain: subdomain.hashicorptest.com
  instance2:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth2
      description: The default dnss
      domain: subdomain2.hashicorptest.com
```
<!--End PulumiCodeChooser -->
### Certificate Manager Self Managed Certificate Regional


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificatemanager.Certificate("default", {
    name: "self-managed-cert",
    description: "Regional cert",
    location: "us-central1",
    selfManaged: {
        pemCertificate: std.file({
            input: "test-fixtures/cert.pem",
        }).then(invoke => invoke.result),
        pemPrivateKey: std.file({
            input: "test-fixtures/private-key.pem",
        }).then(invoke => invoke.result),
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificatemanager.Certificate("default",
    name="self-managed-cert",
    description="Regional cert",
    location="us-central1",
    self_managed={
        "pem_certificate": std.file(input="test-fixtures/cert.pem").result,
        "pem_private_key": std.file(input="test-fixtures/private-key.pem").result,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "self-managed-cert",
        Description = "Regional cert",
        Location = "us-central1",
        SelfManaged = new Gcp.CertificateManager.Inputs.CertificateSelfManagedArgs
        {
            PemCertificate = Std.File.Invoke(new()
            {
                Input = "test-fixtures/cert.pem",
            }).Apply(invoke => invoke.Result),
            PemPrivateKey = Std.File.Invoke(new()
            {
                Input = "test-fixtures/private-key.pem",
            }).Apply(invoke => invoke.Result),
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/cert.pem",
		}, nil)
		if err != nil {
			return err
		}
		invokeFile1, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/private-key.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("self-managed-cert"),
			Description: pulumi.String("Regional cert"),
			Location:    pulumi.String("us-central1"),
			SelfManaged: &certificatemanager.CertificateSelfManagedArgs{
				PemCertificate: pulumi.String(invokeFile.Result),
				PemPrivateKey:  pulumi.String(invokeFile1.Result),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateSelfManagedArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("self-managed-cert")
            .description("Regional cert")
            .location("us-central1")
            .selfManaged(CertificateSelfManagedArgs.builder()
                .pemCertificate(StdFunctions.file(FileArgs.builder()
                    .input("test-fixtures/cert.pem")
                    .build()).result())
                .pemPrivateKey(StdFunctions.file(FileArgs.builder()
                    .input("test-fixtures/private-key.pem")
                    .build()).result())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: self-managed-cert
      description: Regional cert
      location: us-central1
      selfManaged:
        pemCertificate:
          fn::invoke:
            function: std:file
            arguments:
              input: test-fixtures/cert.pem
            return: result
        pemPrivateKey:
          fn::invoke:
            function: std:file
            arguments:
              input: test-fixtures/private-key.pem
            return: result
```
<!--End PulumiCodeChooser -->
### Certificate Manager Google Managed Certificate Issuance Config All Regions


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pool = new gcp.certificateauthority.CaPool("pool", {
    name: "ca-pool",
    location: "us-central1",
    tier: "ENTERPRISE",
});
const caAuthority = new gcp.certificateauthority.Authority("ca_authority", {
    location: "us-central1",
    pool: pool.name,
    certificateAuthorityId: "ca-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
// creating certificate_issuance_config to use it in the managed certificate
const issuanceconfig = new gcp.certificatemanager.CertificateIssuanceConfig("issuanceconfig", {
    name: "issuance-config",
    description: "sample description for the certificate issuanceConfigs",
    certificateAuthorityConfig: {
        certificateAuthorityServiceConfig: {
            caPool: pool.id,
        },
    },
    lifetime: "1814400s",
    rotationWindowPercentage: 34,
    keyAlgorithm: "ECDSA_P256",
}, {
    dependsOn: [caAuthority],
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "issuance-config-cert",
    description: "sample google managed all_regions certificate with issuance config for terraform",
    scope: "ALL_REGIONS",
    managed: {
        domains: ["terraform.subdomain1.com"],
        issuanceConfig: issuanceconfig.id,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

pool = gcp.certificateauthority.CaPool("pool",
    name="ca-pool",
    location="us-central1",
    tier="ENTERPRISE")
ca_authority = gcp.certificateauthority.Authority("ca_authority",
    location="us-central1",
    pool=pool.name,
    certificate_authority_id="ca-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
# creating certificate_issuance_config to use it in the managed certificate
issuanceconfig = gcp.certificatemanager.CertificateIssuanceConfig("issuanceconfig",
    name="issuance-config",
    description="sample description for the certificate issuanceConfigs",
    certificate_authority_config={
        "certificate_authority_service_config": {
            "ca_pool": pool.id,
        },
    },
    lifetime="1814400s",
    rotation_window_percentage=34,
    key_algorithm="ECDSA_P256",
    opts = pulumi.ResourceOptions(depends_on=[ca_authority]))
default = gcp.certificatemanager.Certificate("default",
    name="issuance-config-cert",
    description="sample google managed all_regions certificate with issuance config for terraform",
    scope="ALL_REGIONS",
    managed={
        "domains": ["terraform.subdomain1.com"],
        "issuance_config": issuanceconfig.id,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pool = new Gcp.CertificateAuthority.CaPool("pool", new()
    {
        Name = "ca-pool",
        Location = "us-central1",
        Tier = "ENTERPRISE",
    });

    var caAuthority = new Gcp.CertificateAuthority.Authority("ca_authority", new()
    {
        Location = "us-central1",
        Pool = pool.Name,
        CertificateAuthorityId = "ca-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    // creating certificate_issuance_config to use it in the managed certificate
    var issuanceconfig = new Gcp.CertificateManager.CertificateIssuanceConfig("issuanceconfig", new()
    {
        Name = "issuance-config",
        Description = "sample description for the certificate issuanceConfigs",
        CertificateAuthorityConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs
        {
            CertificateAuthorityServiceConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs
            {
                CaPool = pool.Id,
            },
        },
        Lifetime = "1814400s",
        RotationWindowPercentage = 34,
        KeyAlgorithm = "ECDSA_P256",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            caAuthority,
        },
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "issuance-config-cert",
        Description = "sample google managed all_regions certificate with issuance config for terraform",
        Scope = "ALL_REGIONS",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                "terraform.subdomain1.com",
            },
            IssuanceConfig = issuanceconfig.Id,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		pool, err := certificateauthority.NewCaPool(ctx, "pool", &certificateauthority.CaPoolArgs{
			Name:     pulumi.String("ca-pool"),
			Location: pulumi.String("us-central1"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		caAuthority, err := certificateauthority.NewAuthority(ctx, "ca_authority", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   pool.Name,
			CertificateAuthorityId: pulumi.String("ca-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		// creating certificate_issuance_config to use it in the managed certificate
		issuanceconfig, err := certificatemanager.NewCertificateIssuanceConfig(ctx, "issuanceconfig", &certificatemanager.CertificateIssuanceConfigArgs{
			Name:        pulumi.String("issuance-config"),
			Description: pulumi.String("sample description for the certificate issuanceConfigs"),
			CertificateAuthorityConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigArgs{
				CertificateAuthorityServiceConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs{
					CaPool: pool.ID(),
				},
			},
			Lifetime:                 pulumi.String("1814400s"),
			RotationWindowPercentage: pulumi.Int(34),
			KeyAlgorithm:             pulumi.String("ECDSA_P256"),
		}, pulumi.DependsOn([]pulumi.Resource{
			caAuthority,
		}))
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("issuance-config-cert"),
			Description: pulumi.String("sample google managed all_regions certificate with issuance config for terraform"),
			Scope:       pulumi.String("ALL_REGIONS"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					pulumi.String("terraform.subdomain1.com"),
				},
				IssuanceConfig: issuanceconfig.ID(),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfig;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pool = new CaPool("pool", CaPoolArgs.builder()
            .name("ca-pool")
            .location("us-central1")
            .tier("ENTERPRISE")
            .build());

        var caAuthority = new Authority("caAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(pool.name())
            .certificateAuthorityId("ca-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        // creating certificate_issuance_config to use it in the managed certificate
        var issuanceconfig = new CertificateIssuanceConfig("issuanceconfig", CertificateIssuanceConfigArgs.builder()
            .name("issuance-config")
            .description("sample description for the certificate issuanceConfigs")
            .certificateAuthorityConfig(CertificateIssuanceConfigCertificateAuthorityConfigArgs.builder()
                .certificateAuthorityServiceConfig(CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs.builder()
                    .caPool(pool.id())
                    .build())
                .build())
            .lifetime("1814400s")
            .rotationWindowPercentage(34)
            .keyAlgorithm("ECDSA_P256")
            .build(), CustomResourceOptions.builder()
                .dependsOn(caAuthority)
                .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("issuance-config-cert")
            .description("sample google managed all_regions certificate with issuance config for terraform")
            .scope("ALL_REGIONS")
            .managed(CertificateManagedArgs.builder()
                .domains("terraform.subdomain1.com")
                .issuanceConfig(issuanceconfig.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: issuance-config-cert
      description: sample google managed all_regions certificate with issuance config for terraform
      scope: ALL_REGIONS
      managed:
        domains:
          - terraform.subdomain1.com
        issuanceConfig: ${issuanceconfig.id}
  # creating certificate_issuance_config to use it in the managed certificate
  issuanceconfig:
    type: gcp:certificatemanager:CertificateIssuanceConfig
    properties:
      name: issuance-config
      description: sample description for the certificate issuanceConfigs
      certificateAuthorityConfig:
        certificateAuthorityServiceConfig:
          caPool: ${pool.id}
      lifetime: 1814400s
      rotationWindowPercentage: 34
      keyAlgorithm: ECDSA_P256
    options:
      dependsOn:
        - ${caAuthority}
  pool:
    type: gcp:certificateauthority:CaPool
    properties:
      name: ca-pool
      location: us-central1
      tier: ENTERPRISE
  caAuthority:
    type: gcp:certificateauthority:Authority
    name: ca_authority
    properties:
      location: us-central1
      pool: ${pool.name}
      certificateAuthorityId: ca-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
```
<!--End PulumiCodeChooser -->
### Certificate Manager Google Managed Certificate Dns All Regions


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const instance = new gcp.certificatemanager.DnsAuthorization("instance", {
    name: "dns-auth",
    description: "The default dnss",
    domain: "subdomain.hashicorptest.com",
});
const instance2 = new gcp.certificatemanager.DnsAuthorization("instance2", {
    name: "dns-auth2",
    description: "The default dnss",
    domain: "subdomain2.hashicorptest.com",
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "dns-cert",
    description: "The default cert",
    scope: "ALL_REGIONS",
    managed: {
        domains: [
            instance.domain,
            instance2.domain,
        ],
        dnsAuthorizations: [
            instance.id,
            instance2.id,
        ],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

instance = gcp.certificatemanager.DnsAuthorization("instance",
    name="dns-auth",
    description="The default dnss",
    domain="subdomain.hashicorptest.com")
instance2 = gcp.certificatemanager.DnsAuthorization("instance2",
    name="dns-auth2",
    description="The default dnss",
    domain="subdomain2.hashicorptest.com")
default = gcp.certificatemanager.Certificate("default",
    name="dns-cert",
    description="The default cert",
    scope="ALL_REGIONS",
    managed={
        "domains": [
            instance.domain,
            instance2.domain,
        ],
        "dns_authorizations": [
            instance.id,
            instance2.id,
        ],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var instance = new Gcp.CertificateManager.DnsAuthorization("instance", new()
    {
        Name = "dns-auth",
        Description = "The default dnss",
        Domain = "subdomain.hashicorptest.com",
    });

    var instance2 = new Gcp.CertificateManager.DnsAuthorization("instance2", new()
    {
        Name = "dns-auth2",
        Description = "The default dnss",
        Domain = "subdomain2.hashicorptest.com",
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "dns-cert",
        Description = "The default cert",
        Scope = "ALL_REGIONS",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                instance.Domain,
                instance2.Domain,
            },
            DnsAuthorizations = new[]
            {
                instance.Id,
                instance2.Id,
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		instance, err := certificatemanager.NewDnsAuthorization(ctx, "instance", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		instance2, err := certificatemanager.NewDnsAuthorization(ctx, "instance2", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth2"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain2.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("dns-cert"),
			Description: pulumi.String("The default cert"),
			Scope:       pulumi.String("ALL_REGIONS"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					instance.Domain,
					instance2.Domain,
				},
				DnsAuthorizations: pulumi.StringArray{
					instance.ID(),
					instance2.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var instance = new DnsAuthorization("instance", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .description("The default dnss")
            .domain("subdomain.hashicorptest.com")
            .build());

        var instance2 = new DnsAuthorization("instance2", DnsAuthorizationArgs.builder()
            .name("dns-auth2")
            .description("The default dnss")
            .domain("subdomain2.hashicorptest.com")
            .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("dns-cert")
            .description("The default cert")
            .scope("ALL_REGIONS")
            .managed(CertificateManagedArgs.builder()
                .domains(                
                    instance.domain(),
                    instance2.domain())
                .dnsAuthorizations(                
                    instance.id(),
                    instance2.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: dns-cert
      description: The default cert
      scope: ALL_REGIONS
      managed:
        domains:
          - ${instance.domain}
          - ${instance2.domain}
        dnsAuthorizations:
          - ${instance.id}
          - ${instance2.id}
  instance:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      description: The default dnss
      domain: subdomain.hashicorptest.com
  instance2:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth2
      description: The default dnss
      domain: subdomain2.hashicorptest.com
```
<!--End PulumiCodeChooser -->
### Certificate Manager Google Managed Regional Certificate Dns Auth


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const instance = new gcp.certificatemanager.DnsAuthorization("instance", {
    name: "dns-auth",
    location: "us-central1",
    description: "The default dnss",
    domain: "subdomain.hashicorptest.com",
});
const _default = new gcp.certificatemanager.Certificate("default", {
    name: "dns-cert",
    description: "regional managed certs",
    location: "us-central1",
    managed: {
        domains: [instance.domain],
        dnsAuthorizations: [instance.id],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

instance = gcp.certificatemanager.DnsAuthorization("instance",
    name="dns-auth",
    location="us-central1",
    description="The default dnss",
    domain="subdomain.hashicorptest.com")
default = gcp.certificatemanager.Certificate("default",
    name="dns-cert",
    description="regional managed certs",
    location="us-central1",
    managed={
        "domains": [instance.domain],
        "dns_authorizations": [instance.id],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var instance = new Gcp.CertificateManager.DnsAuthorization("instance", new()
    {
        Name = "dns-auth",
        Location = "us-central1",
        Description = "The default dnss",
        Domain = "subdomain.hashicorptest.com",
    });

    var @default = new Gcp.CertificateManager.Certificate("default", new()
    {
        Name = "dns-cert",
        Description = "regional managed certs",
        Location = "us-central1",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                instance.Domain,
            },
            DnsAuthorizations = new[]
            {
                instance.Id,
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		instance, err := certificatemanager.NewDnsAuthorization(ctx, "instance", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificate(ctx, "default", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("dns-cert"),
			Description: pulumi.String("regional managed certs"),
			Location:    pulumi.String("us-central1"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					instance.Domain,
				},
				DnsAuthorizations: pulumi.StringArray{
					instance.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var instance = new DnsAuthorization("instance", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .location("us-central1")
            .description("The default dnss")
            .domain("subdomain.hashicorptest.com")
            .build());

        var default_ = new Certificate("default", CertificateArgs.builder()
            .name("dns-cert")
            .description("regional managed certs")
            .location("us-central1")
            .managed(CertificateManagedArgs.builder()
                .domains(instance.domain())
                .dnsAuthorizations(instance.id())
                .build())
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:Certificate
    properties:
      name: dns-cert
      description: regional managed certs
      location: us-central1
      managed:
        domains:
          - ${instance.domain}
        dnsAuthorizations:
          - ${instance.id}
  instance:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      location: us-central1
      description: The default dnss
      domain: subdomain.hashicorptest.com
```
<!--End PulumiCodeChooser -->

## Import

Certificate can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/certificates/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, Certificate can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/certificate:Certificate default projects/{{project}}/locations/{{location}}/certificates/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificate:Certificate default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificate:Certificate default {{location}}/{{name}}
```

C
descriptionB" .A human-readable description of the resource.
•
labelsB2" ‚Set of label tags associated with the Certificate resource.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
X
locationB" FThe Certificate Manager location. If not specified, "global" is used.
Â
managedlBj:h
f
certificatemanagerCertificateManaged<gcp:certificatemanager/CertificateManaged:CertificateManagedÈConfiguration and state of a Managed Certificate.
Certificate Manager provisions and renews Managed Certificates
automatically, for as long as it's authorized to do so.
Structure is documented below.
»
nameB" ¬A user-defined name of the certificate. Certificate names must be unique
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.


- - -
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
ˆ
scopeB" øThe scope of the certificate.
DEFAULT: Certificates with default scope are served from core Google data centers.
If unsure, choose this option.
EDGE_CACHE: Certificates with scope EDGE_CACHE are special-purposed certificates, served from Edge Points of Presence.
See https://cloud.google.com/vpc/docs/edge-locations.
ALL_REGIONS: Certificates with ALL_REGIONS scope are served from all GCP regions (You can only use ALL_REGIONS with global certs).
See https://cloud.google.com/compute/docs/regions-zones
Ý
selfManagedxBv:t
r
certificatemanagerCertificateSelfManagedDgcp:certificatemanager/CertificateSelfManaged:CertificateSelfManagedÓCertificate data for a SelfManaged Certificate.
SelfManaged Certificates are uploaded by the user. Updating such
certificates before they expire remains the user's responsibility.
Structure is documented below.
"C
descriptionB" .A human-readable description of the resource.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"•
labelsB2" ‚Set of label tags associated with the Certificate resource.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"X
locationB" FThe Certificate Manager location. If not specified, "global" is used.
"Â
managedlBj:h
f
certificatemanagerCertificateManaged<gcp:certificatemanager/CertificateManaged:CertificateManagedÈConfiguration and state of a Managed Certificate.
Certificate Manager provisions and renews Managed Certificates
automatically, for as long as it's authorized to do so.
Structure is documented below.
"¹
name" ¬A user-defined name of the certificate. Certificate names must be unique
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.


- - -
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"}
sanDnsnames*" hThe list of Subject Alternative Names of dnsName type defined in the certificate (see RFC 5280 4.2.1.6)
"ˆ
scopeB" øThe scope of the certificate.
DEFAULT: Certificates with default scope are served from core Google data centers.
If unsure, choose this option.
EDGE_CACHE: Certificates with scope EDGE_CACHE are special-purposed certificates, served from Edge Points of Presence.
See https://cloud.google.com/vpc/docs/edge-locations.
ALL_REGIONS: Certificates with ALL_REGIONS scope are served from all GCP regions (You can only use ALL_REGIONS with global certs).
See https://cloud.google.com/compute/docs/regions-zones
"Ý
selfManagedxBv:t
r
certificatemanagerCertificateSelfManagedDgcp:certificatemanager/CertificateSelfManaged:CertificateSelfManagedÓCertificate data for a SelfManaged Certificate.
SelfManaged Certificates are uploaded by the user. Updating such
certificates before they expire remains the user's responsibility.
Structure is documented below.
*€¯
{
certificatemanagerCertificateIssuanceConfigJgcp:certificatemanager/certificateIssuanceConfig:CertificateIssuanceConfigçŠCertificate represents a HTTP-reachable backend for a Certificate.


To get more information about CertificateIssuanceConfig, see:

* [API documentation](https://cloud.google.com/certificate-manager/docs/reference/certificate-manager/rest/v1/projects.locations.certificateIssuanceConfigs)
* How-to Guides
    * [Manage certificate issuance configs](https://cloud.google.com/certificate-manager/docs/issuance-configs)

## Example Usage

### Certificate Manager Certificate Issuance Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pool = new gcp.certificateauthority.CaPool("pool", {
    name: "ca-pool",
    location: "us-central1",
    tier: "ENTERPRISE",
});
const caAuthority = new gcp.certificateauthority.Authority("ca_authority", {
    location: "us-central1",
    pool: pool.name,
    certificateAuthorityId: "ca-authority",
    config: {
        subjectConfig: {
            subject: {
                organization: "HashiCorp",
                commonName: "my-certificate-authority",
            },
            subjectAltName: {
                dnsNames: ["hashicorp.com"],
            },
        },
        x509Config: {
            caOptions: {
                isCa: true,
            },
            keyUsage: {
                baseKeyUsage: {
                    certSign: true,
                    crlSign: true,
                },
                extendedKeyUsage: {
                    serverAuth: true,
                },
            },
        },
    },
    keySpec: {
        algorithm: "RSA_PKCS1_4096_SHA256",
    },
    deletionProtection: false,
    skipGracePeriod: true,
    ignoreActiveCertificatesOnDeletion: true,
});
const _default = new gcp.certificatemanager.CertificateIssuanceConfig("default", {
    name: "issuance-config",
    description: "sample description for the certificate issuanceConfigs",
    certificateAuthorityConfig: {
        certificateAuthorityServiceConfig: {
            caPool: pool.id,
        },
    },
    lifetime: "1814400s",
    rotationWindowPercentage: 34,
    keyAlgorithm: "ECDSA_P256",
    labels: {
        name: "wrench",
        count: "3",
    },
}, {
    dependsOn: [caAuthority],
});
```
```python
import pulumi
import pulumi_gcp as gcp

pool = gcp.certificateauthority.CaPool("pool",
    name="ca-pool",
    location="us-central1",
    tier="ENTERPRISE")
ca_authority = gcp.certificateauthority.Authority("ca_authority",
    location="us-central1",
    pool=pool.name,
    certificate_authority_id="ca-authority",
    config={
        "subject_config": {
            "subject": {
                "organization": "HashiCorp",
                "common_name": "my-certificate-authority",
            },
            "subject_alt_name": {
                "dns_names": ["hashicorp.com"],
            },
        },
        "x509_config": {
            "ca_options": {
                "is_ca": True,
            },
            "key_usage": {
                "base_key_usage": {
                    "cert_sign": True,
                    "crl_sign": True,
                },
                "extended_key_usage": {
                    "server_auth": True,
                },
            },
        },
    },
    key_spec={
        "algorithm": "RSA_PKCS1_4096_SHA256",
    },
    deletion_protection=False,
    skip_grace_period=True,
    ignore_active_certificates_on_deletion=True)
default = gcp.certificatemanager.CertificateIssuanceConfig("default",
    name="issuance-config",
    description="sample description for the certificate issuanceConfigs",
    certificate_authority_config={
        "certificate_authority_service_config": {
            "ca_pool": pool.id,
        },
    },
    lifetime="1814400s",
    rotation_window_percentage=34,
    key_algorithm="ECDSA_P256",
    labels={
        "name": "wrench",
        "count": "3",
    },
    opts = pulumi.ResourceOptions(depends_on=[ca_authority]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pool = new Gcp.CertificateAuthority.CaPool("pool", new()
    {
        Name = "ca-pool",
        Location = "us-central1",
        Tier = "ENTERPRISE",
    });

    var caAuthority = new Gcp.CertificateAuthority.Authority("ca_authority", new()
    {
        Location = "us-central1",
        Pool = pool.Name,
        CertificateAuthorityId = "ca-authority",
        Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigArgs
        {
            SubjectConfig = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigArgs
            {
                Subject = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectArgs
                {
                    Organization = "HashiCorp",
                    CommonName = "my-certificate-authority",
                },
                SubjectAltName = new Gcp.CertificateAuthority.Inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs
                {
                    DnsNames = new[]
                    {
                        "hashicorp.com",
                    },
                },
            },
            X509Config = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigArgs
            {
                CaOptions = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigCaOptionsArgs
                {
                    IsCa = true,
                },
                KeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageArgs
                {
                    BaseKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs
                    {
                        CertSign = true,
                        CrlSign = true,
                    },
                    ExtendedKeyUsage = new Gcp.CertificateAuthority.Inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs
                    {
                        ServerAuth = true,
                    },
                },
            },
        },
        KeySpec = new Gcp.CertificateAuthority.Inputs.AuthorityKeySpecArgs
        {
            Algorithm = "RSA_PKCS1_4096_SHA256",
        },
        DeletionProtection = false,
        SkipGracePeriod = true,
        IgnoreActiveCertificatesOnDeletion = true,
    });

    var @default = new Gcp.CertificateManager.CertificateIssuanceConfig("default", new()
    {
        Name = "issuance-config",
        Description = "sample description for the certificate issuanceConfigs",
        CertificateAuthorityConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs
        {
            CertificateAuthorityServiceConfig = new Gcp.CertificateManager.Inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs
            {
                CaPool = pool.Id,
            },
        },
        Lifetime = "1814400s",
        RotationWindowPercentage = 34,
        KeyAlgorithm = "ECDSA_P256",
        Labels = 
        {
            { "name", "wrench" },
            { "count", "3" },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            caAuthority,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		pool, err := certificateauthority.NewCaPool(ctx, "pool", &certificateauthority.CaPoolArgs{
			Name:     pulumi.String("ca-pool"),
			Location: pulumi.String("us-central1"),
			Tier:     pulumi.String("ENTERPRISE"),
		})
		if err != nil {
			return err
		}
		caAuthority, err := certificateauthority.NewAuthority(ctx, "ca_authority", &certificateauthority.AuthorityArgs{
			Location:               pulumi.String("us-central1"),
			Pool:                   pool.Name,
			CertificateAuthorityId: pulumi.String("ca-authority"),
			Config: &certificateauthority.AuthorityConfigArgs{
				SubjectConfig: &certificateauthority.AuthorityConfigSubjectConfigArgs{
					Subject: &certificateauthority.AuthorityConfigSubjectConfigSubjectArgs{
						Organization: pulumi.String("HashiCorp"),
						CommonName:   pulumi.String("my-certificate-authority"),
					},
					SubjectAltName: &certificateauthority.AuthorityConfigSubjectConfigSubjectAltNameArgs{
						DnsNames: pulumi.StringArray{
							pulumi.String("hashicorp.com"),
						},
					},
				},
				X509Config: &certificateauthority.AuthorityConfigX509ConfigArgs{
					CaOptions: &certificateauthority.AuthorityConfigX509ConfigCaOptionsArgs{
						IsCa: pulumi.Bool(true),
					},
					KeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageArgs{
						BaseKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs{
							CertSign: pulumi.Bool(true),
							CrlSign:  pulumi.Bool(true),
						},
						ExtendedKeyUsage: &certificateauthority.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs{
							ServerAuth: pulumi.Bool(true),
						},
					},
				},
			},
			KeySpec: &certificateauthority.AuthorityKeySpecArgs{
				Algorithm: pulumi.String("RSA_PKCS1_4096_SHA256"),
			},
			DeletionProtection:                 pulumi.Bool(false),
			SkipGracePeriod:                    pulumi.Bool(true),
			IgnoreActiveCertificatesOnDeletion: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificateIssuanceConfig(ctx, "default", &certificatemanager.CertificateIssuanceConfigArgs{
			Name:        pulumi.String("issuance-config"),
			Description: pulumi.String("sample description for the certificate issuanceConfigs"),
			CertificateAuthorityConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigArgs{
				CertificateAuthorityServiceConfig: &certificatemanager.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs{
					CaPool: pool.ID(),
				},
			},
			Lifetime:                 pulumi.String("1814400s"),
			RotationWindowPercentage: pulumi.Int(34),
			KeyAlgorithm:             pulumi.String("ECDSA_P256"),
			Labels: pulumi.StringMap{
				"name":  pulumi.String("wrench"),
				"count": pulumi.String("3"),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			caAuthority,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CaPool;
import com.pulumi.gcp.certificateauthority.CaPoolArgs;
import com.pulumi.gcp.certificateauthority.Authority;
import com.pulumi.gcp.certificateauthority.AuthorityArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigSubjectConfigSubjectAltNameArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigCaOptionsArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs;
import com.pulumi.gcp.certificateauthority.inputs.AuthorityKeySpecArgs;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfig;
import com.pulumi.gcp.certificatemanager.CertificateIssuanceConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pool = new CaPool("pool", CaPoolArgs.builder()
            .name("ca-pool")
            .location("us-central1")
            .tier("ENTERPRISE")
            .build());

        var caAuthority = new Authority("caAuthority", AuthorityArgs.builder()
            .location("us-central1")
            .pool(pool.name())
            .certificateAuthorityId("ca-authority")
            .config(AuthorityConfigArgs.builder()
                .subjectConfig(AuthorityConfigSubjectConfigArgs.builder()
                    .subject(AuthorityConfigSubjectConfigSubjectArgs.builder()
                        .organization("HashiCorp")
                        .commonName("my-certificate-authority")
                        .build())
                    .subjectAltName(AuthorityConfigSubjectConfigSubjectAltNameArgs.builder()
                        .dnsNames("hashicorp.com")
                        .build())
                    .build())
                .x509Config(AuthorityConfigX509ConfigArgs.builder()
                    .caOptions(AuthorityConfigX509ConfigCaOptionsArgs.builder()
                        .isCa(true)
                        .build())
                    .keyUsage(AuthorityConfigX509ConfigKeyUsageArgs.builder()
                        .baseKeyUsage(AuthorityConfigX509ConfigKeyUsageBaseKeyUsageArgs.builder()
                            .certSign(true)
                            .crlSign(true)
                            .build())
                        .extendedKeyUsage(AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageArgs.builder()
                            .serverAuth(true)
                            .build())
                        .build())
                    .build())
                .build())
            .keySpec(AuthorityKeySpecArgs.builder()
                .algorithm("RSA_PKCS1_4096_SHA256")
                .build())
            .deletionProtection(false)
            .skipGracePeriod(true)
            .ignoreActiveCertificatesOnDeletion(true)
            .build());

        var default_ = new CertificateIssuanceConfig("default", CertificateIssuanceConfigArgs.builder()
            .name("issuance-config")
            .description("sample description for the certificate issuanceConfigs")
            .certificateAuthorityConfig(CertificateIssuanceConfigCertificateAuthorityConfigArgs.builder()
                .certificateAuthorityServiceConfig(CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigArgs.builder()
                    .caPool(pool.id())
                    .build())
                .build())
            .lifetime("1814400s")
            .rotationWindowPercentage(34)
            .keyAlgorithm("ECDSA_P256")
            .labels(Map.ofEntries(
                Map.entry("name", "wrench"),
                Map.entry("count", "3")
            ))
            .build(), CustomResourceOptions.builder()
                .dependsOn(caAuthority)
                .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:CertificateIssuanceConfig
    properties:
      name: issuance-config
      description: sample description for the certificate issuanceConfigs
      certificateAuthorityConfig:
        certificateAuthorityServiceConfig:
          caPool: ${pool.id}
      lifetime: 1814400s
      rotationWindowPercentage: 34
      keyAlgorithm: ECDSA_P256
      labels:
        name: wrench
        count: '3'
    options:
      dependsOn:
        - ${caAuthority}
  pool:
    type: gcp:certificateauthority:CaPool
    properties:
      name: ca-pool
      location: us-central1
      tier: ENTERPRISE
  caAuthority:
    type: gcp:certificateauthority:Authority
    name: ca_authority
    properties:
      location: us-central1
      pool: ${pool.name}
      certificateAuthorityId: ca-authority
      config:
        subjectConfig:
          subject:
            organization: HashiCorp
            commonName: my-certificate-authority
          subjectAltName:
            dnsNames:
              - hashicorp.com
        x509Config:
          caOptions:
            isCa: true
          keyUsage:
            baseKeyUsage:
              certSign: true
              crlSign: true
            extendedKeyUsage:
              serverAuth: true
      keySpec:
        algorithm: RSA_PKCS1_4096_SHA256
      deletionProtection: false
      skipGracePeriod: true
      ignoreActiveCertificatesOnDeletion: true
```
<!--End PulumiCodeChooser -->

## Import

CertificateIssuanceConfig can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/certificateIssuanceConfigs/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, CertificateIssuanceConfig can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/certificateIssuanceConfig:CertificateIssuanceConfig default projects/{{project}}/locations/{{location}}/certificateIssuanceConfigs/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateIssuanceConfig:CertificateIssuanceConfig default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateIssuanceConfig:CertificateIssuanceConfig default {{location}}/{{name}}
```

‚
certificateAuthorityConfigÏ:Ì
É
certificatemanager3CertificateIssuanceConfigCertificateAuthorityConfig~gcp:certificatemanager/CertificateIssuanceConfigCertificateAuthorityConfig:CertificateIssuanceConfigCertificateAuthorityConfig‘The CA that issues the workload certificate. It includes the CA address, type, authentication to CA service, etc.
Structure is documented below.
`
descriptionB" KOne or more paragraphs of text description of a CertificateIssuanceConfig.
y
keyAlgorithm" eKey algorithm to use when generating the private key.
Possible values are: `RSA_2048`, `ECDSA_P256`.
„
labelsB2" ñ'Set of label tags associated with the CertificateIssuanceConfig resource. An object containing a list of "key": value
pairs. Example: { "name": "wrench", "count": "3" }. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
Ð
lifetime" ¿Lifetime of issued certificates. A duration in seconds with up to nine fractional digits, ending with 's'.
Example: "1814400s". Valid values are from 21 days (1814400s) to 30 days (2592000s)
X
locationB" FThe Certificate Manager location. If not specified, "global" is used.

nameB" qA user-defined name of the certificate issuance config.
CertificateIssuanceConfig names must be unique globally.

projectB" 
rotationWindowPercentage ïIt specifies the percentage of elapsed time of the certificate lifetime to wait before renewing the certificate.
Must be a number between 1-99, inclusive.
You must set the rotation window percentage in relation to the certificate lifetime so that certificate renewal occurs at least 7 days after
the certificate has been issued and at least 7 days before it expires.
"‚
certificateAuthorityConfigÏ:Ì
É
certificatemanager3CertificateIssuanceConfigCertificateAuthorityConfig~gcp:certificatemanager/CertificateIssuanceConfigCertificateAuthorityConfig:CertificateIssuanceConfigCertificateAuthorityConfig‘The CA that issues the workload certificate. It includes the CA address, type, authentication to CA service, etc.
Structure is documented below.
"÷

createTime" äThe creation timestamp of a CertificateIssuanceConfig. Timestamp is in RFC3339 UTC "Zulu" format,
accurate to nanoseconds with up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
"`
descriptionB" KOne or more paragraphs of text description of a CertificateIssuanceConfig.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"y
keyAlgorithm" eKey algorithm to use when generating the private key.
Possible values are: `RSA_2048`, `ECDSA_P256`.
"„
labelsB2" ñ'Set of label tags associated with the CertificateIssuanceConfig resource. An object containing a list of "key": value
pairs. Example: { "name": "wrench", "count": "3" }. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
"Ð
lifetime" ¿Lifetime of issued certificates. A duration in seconds with up to nine fractional digits, ending with 's'.
Example: "1814400s". Valid values are from 21 days (1814400s) to 30 days (2592000s)
"X
locationB" FThe Certificate Manager location. If not specified, "global" is used.
"}
name" qA user-defined name of the certificate issuance config.
CertificateIssuanceConfig names must be unique globally.
"
project" "ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"
rotationWindowPercentage ïIt specifies the percentage of elapsed time of the certificate lifetime to wait before renewing the certificate.
Must be a number between 1-99, inclusive.
You must set the rotation window percentage in relation to the certificate lifetime so that certificate renewal occurs at least 7 days after
the certificate has been issued and at least 7 days before it expires.
"ú

updateTime" çThe last update timestamp of a CertificateIssuanceConfig. Timestamp is in RFC3339 UTC "Zulu" format,
accurate to nanoseconds with up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
*·/
Z
certificatemanagerCertificateMap4gcp:certificatemanager/certificateMap:CertificateMapÑCertificateMap defines a collection of certificate configurations,
which are usable by any associated target proxies



## Example Usage

### Certificate Manager Certificate Map Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificatemanager.CertificateMap("default", {
    name: "cert-map",
    description: "My acceptance test certificate map",
    labels: {
        terraform: "true",
        "acc-test": "true",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.CertificateMap("default",
    name="cert-map",
    description="My acceptance test certificate map",
    labels={
        "terraform": "true",
        "acc-test": "true",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.CertificateMap("default", new()
    {
        Name = "cert-map",
        Description = "My acceptance test certificate map",
        Labels = 
        {
            { "terraform", "true" },
            { "acc-test", "true" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.NewCertificateMap(ctx, "default", &certificatemanager.CertificateMapArgs{
			Name:        pulumi.String("cert-map"),
			Description: pulumi.String("My acceptance test certificate map"),
			Labels: pulumi.StringMap{
				"terraform": pulumi.String("true"),
				"acc-test":  pulumi.String("true"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.CertificateMap;
import com.pulumi.gcp.certificatemanager.CertificateMapArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new CertificateMap("default", CertificateMapArgs.builder()
            .name("cert-map")
            .description("My acceptance test certificate map")
            .labels(Map.ofEntries(
                Map.entry("terraform", true),
                Map.entry("acc-test", true)
            ))
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:CertificateMap
    properties:
      name: cert-map
      description: My acceptance test certificate map
      labels:
        terraform: true
        acc-test: true
```
<!--End PulumiCodeChooser -->

## Import

CertificateMap can be imported using any of these accepted formats:

* `projects/{{project}}/locations/global/certificateMaps/{{name}}`

* `{{project}}/{{name}}`

* `{{name}}`

When using the `pulumi import` command, CertificateMap can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/certificateMap:CertificateMap default projects/{{project}}/locations/global/certificateMaps/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateMap:CertificateMap default {{project}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateMap:CertificateMap default {{name}}
```

C
descriptionB" .A human-readable description of the resource.
”
labelsB2" Set of labels associated with a Certificate Map resource.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
³
nameB" ¤A user-defined name of the Certificate Map. Certificate Map names must be unique
globally and match the pattern `projects/*/locations/*/certificateMaps/*`.


- - -
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"é

createTime" ÖCreation timestamp of a Certificate Map. Timestamp is in RFC3339 UTC "Zulu" format,
accurate to nanoseconds with up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
"C
descriptionB" .A human-readable description of the resource.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"å
gclbTargets~*|:z
x
certificatemanagerCertificateMapGclbTargetHgcp:certificatemanager/CertificateMapGclbTarget:CertificateMapGclbTargetVA list of target proxies that use this Certificate Map
Structure is documented below.
"”
labelsB2" Set of labels associated with a Certificate Map resource.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"±
name" ¤A user-defined name of the Certificate Map. Certificate Map names must be unique
globally and match the pattern `projects/*/locations/*/certificateMaps/*`.


- - -
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"ç

updateTime" ÔUpdate timestamp of a Certificate Map. Timestamp is in RFC3339 UTC "Zulu" format,
accurate to nanoseconds with up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
*õ{
i
certificatemanagerCertificateMapEntry>gcp:certificatemanager/certificateMapEntry:CertificateMapEntry¾^CertificateMapEntry is a list of certificate configurations,
that have been issued for a particular hostname



## Example Usage

### Certificate Manager Certificate Map Entry Full


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const certificateMap = new gcp.certificatemanager.CertificateMap("certificate_map", {
    name: "cert-map-entry",
    description: "My acceptance test certificate map",
    labels: {
        terraform: "true",
        "acc-test": "true",
    },
});
const instance = new gcp.certificatemanager.DnsAuthorization("instance", {
    name: "dns-auth",
    description: "The default dnss",
    domain: "subdomain.hashicorptest.com",
});
const instance2 = new gcp.certificatemanager.DnsAuthorization("instance2", {
    name: "dns-auth2",
    description: "The default dnss",
    domain: "subdomain2.hashicorptest.com",
});
const certificate = new gcp.certificatemanager.Certificate("certificate", {
    name: "cert-map-entry",
    description: "The default cert",
    scope: "DEFAULT",
    managed: {
        domains: [
            instance.domain,
            instance2.domain,
        ],
        dnsAuthorizations: [
            instance.id,
            instance2.id,
        ],
    },
});
const _default = new gcp.certificatemanager.CertificateMapEntry("default", {
    name: "cert-map-entry",
    description: "My acceptance test certificate map entry",
    map: certificateMap.name,
    labels: {
        terraform: "true",
        "acc-test": "true",
    },
    certificates: [certificate.id],
    matcher: "PRIMARY",
});
```
```python
import pulumi
import pulumi_gcp as gcp

certificate_map = gcp.certificatemanager.CertificateMap("certificate_map",
    name="cert-map-entry",
    description="My acceptance test certificate map",
    labels={
        "terraform": "true",
        "acc-test": "true",
    })
instance = gcp.certificatemanager.DnsAuthorization("instance",
    name="dns-auth",
    description="The default dnss",
    domain="subdomain.hashicorptest.com")
instance2 = gcp.certificatemanager.DnsAuthorization("instance2",
    name="dns-auth2",
    description="The default dnss",
    domain="subdomain2.hashicorptest.com")
certificate = gcp.certificatemanager.Certificate("certificate",
    name="cert-map-entry",
    description="The default cert",
    scope="DEFAULT",
    managed={
        "domains": [
            instance.domain,
            instance2.domain,
        ],
        "dns_authorizations": [
            instance.id,
            instance2.id,
        ],
    })
default = gcp.certificatemanager.CertificateMapEntry("default",
    name="cert-map-entry",
    description="My acceptance test certificate map entry",
    map=certificate_map.name,
    labels={
        "terraform": "true",
        "acc-test": "true",
    },
    certificates=[certificate.id],
    matcher="PRIMARY")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var certificateMap = new Gcp.CertificateManager.CertificateMap("certificate_map", new()
    {
        Name = "cert-map-entry",
        Description = "My acceptance test certificate map",
        Labels = 
        {
            { "terraform", "true" },
            { "acc-test", "true" },
        },
    });

    var instance = new Gcp.CertificateManager.DnsAuthorization("instance", new()
    {
        Name = "dns-auth",
        Description = "The default dnss",
        Domain = "subdomain.hashicorptest.com",
    });

    var instance2 = new Gcp.CertificateManager.DnsAuthorization("instance2", new()
    {
        Name = "dns-auth2",
        Description = "The default dnss",
        Domain = "subdomain2.hashicorptest.com",
    });

    var certificate = new Gcp.CertificateManager.Certificate("certificate", new()
    {
        Name = "cert-map-entry",
        Description = "The default cert",
        Scope = "DEFAULT",
        Managed = new Gcp.CertificateManager.Inputs.CertificateManagedArgs
        {
            Domains = new[]
            {
                instance.Domain,
                instance2.Domain,
            },
            DnsAuthorizations = new[]
            {
                instance.Id,
                instance2.Id,
            },
        },
    });

    var @default = new Gcp.CertificateManager.CertificateMapEntry("default", new()
    {
        Name = "cert-map-entry",
        Description = "My acceptance test certificate map entry",
        Map = certificateMap.Name,
        Labels = 
        {
            { "terraform", "true" },
            { "acc-test", "true" },
        },
        Certificates = new[]
        {
            certificate.Id,
        },
        Matcher = "PRIMARY",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		certificateMap, err := certificatemanager.NewCertificateMap(ctx, "certificate_map", &certificatemanager.CertificateMapArgs{
			Name:        pulumi.String("cert-map-entry"),
			Description: pulumi.String("My acceptance test certificate map"),
			Labels: pulumi.StringMap{
				"terraform": pulumi.String("true"),
				"acc-test":  pulumi.String("true"),
			},
		})
		if err != nil {
			return err
		}
		instance, err := certificatemanager.NewDnsAuthorization(ctx, "instance", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		instance2, err := certificatemanager.NewDnsAuthorization(ctx, "instance2", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth2"),
			Description: pulumi.String("The default dnss"),
			Domain:      pulumi.String("subdomain2.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		certificate, err := certificatemanager.NewCertificate(ctx, "certificate", &certificatemanager.CertificateArgs{
			Name:        pulumi.String("cert-map-entry"),
			Description: pulumi.String("The default cert"),
			Scope:       pulumi.String("DEFAULT"),
			Managed: &certificatemanager.CertificateManagedArgs{
				Domains: pulumi.StringArray{
					instance.Domain,
					instance2.Domain,
				},
				DnsAuthorizations: pulumi.StringArray{
					instance.ID(),
					instance2.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewCertificateMapEntry(ctx, "default", &certificatemanager.CertificateMapEntryArgs{
			Name:        pulumi.String("cert-map-entry"),
			Description: pulumi.String("My acceptance test certificate map entry"),
			Map:         certificateMap.Name,
			Labels: pulumi.StringMap{
				"terraform": pulumi.String("true"),
				"acc-test":  pulumi.String("true"),
			},
			Certificates: pulumi.StringArray{
				certificate.ID(),
			},
			Matcher: pulumi.String("PRIMARY"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.CertificateMap;
import com.pulumi.gcp.certificatemanager.CertificateMapArgs;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import com.pulumi.gcp.certificatemanager.Certificate;
import com.pulumi.gcp.certificatemanager.CertificateArgs;
import com.pulumi.gcp.certificatemanager.inputs.CertificateManagedArgs;
import com.pulumi.gcp.certificatemanager.CertificateMapEntry;
import com.pulumi.gcp.certificatemanager.CertificateMapEntryArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var certificateMap = new CertificateMap("certificateMap", CertificateMapArgs.builder()
            .name("cert-map-entry")
            .description("My acceptance test certificate map")
            .labels(Map.ofEntries(
                Map.entry("terraform", true),
                Map.entry("acc-test", true)
            ))
            .build());

        var instance = new DnsAuthorization("instance", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .description("The default dnss")
            .domain("subdomain.hashicorptest.com")
            .build());

        var instance2 = new DnsAuthorization("instance2", DnsAuthorizationArgs.builder()
            .name("dns-auth2")
            .description("The default dnss")
            .domain("subdomain2.hashicorptest.com")
            .build());

        var certificate = new Certificate("certificate", CertificateArgs.builder()
            .name("cert-map-entry")
            .description("The default cert")
            .scope("DEFAULT")
            .managed(CertificateManagedArgs.builder()
                .domains(                
                    instance.domain(),
                    instance2.domain())
                .dnsAuthorizations(                
                    instance.id(),
                    instance2.id())
                .build())
            .build());

        var default_ = new CertificateMapEntry("default", CertificateMapEntryArgs.builder()
            .name("cert-map-entry")
            .description("My acceptance test certificate map entry")
            .map(certificateMap.name())
            .labels(Map.ofEntries(
                Map.entry("terraform", true),
                Map.entry("acc-test", true)
            ))
            .certificates(certificate.id())
            .matcher("PRIMARY")
            .build());

    }
}
```
```yaml
resources:
  certificateMap:
    type: gcp:certificatemanager:CertificateMap
    name: certificate_map
    properties:
      name: cert-map-entry
      description: My acceptance test certificate map
      labels:
        terraform: true
        acc-test: true
  default:
    type: gcp:certificatemanager:CertificateMapEntry
    properties:
      name: cert-map-entry
      description: My acceptance test certificate map entry
      map: ${certificateMap.name}
      labels:
        terraform: true
        acc-test: true
      certificates:
        - ${certificate.id}
      matcher: PRIMARY
  certificate:
    type: gcp:certificatemanager:Certificate
    properties:
      name: cert-map-entry
      description: The default cert
      scope: DEFAULT
      managed:
        domains:
          - ${instance.domain}
          - ${instance2.domain}
        dnsAuthorizations:
          - ${instance.id}
          - ${instance2.id}
  instance:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      description: The default dnss
      domain: subdomain.hashicorptest.com
  instance2:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth2
      description: The default dnss
      domain: subdomain2.hashicorptest.com
```
<!--End PulumiCodeChooser -->

## Import

CertificateMapEntry can be imported using any of these accepted formats:

* `projects/{{project}}/locations/global/certificateMaps/{{map}}/certificateMapEntries/{{name}}`

* `{{project}}/{{map}}/{{name}}`

* `{{map}}/{{name}}`

When using the `pulumi import` command, CertificateMapEntry can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/certificateMapEntry:CertificateMapEntry default projects/{{project}}/locations/global/certificateMaps/{{map}}/certificateMapEntries/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateMapEntry:CertificateMapEntry default {{project}}/{{map}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/certificateMapEntry:CertificateMapEntry default {{map}}/{{name}}
```

ç
certificates*" ÐA set of Certificates defines for the given hostname.
There can be defined up to fifteen certificates in each Certificate Map Entry.
Each certificate must match pattern projects/*/locations/*/certificates/*.
C
descriptionB" .A human-readable description of the resource.
Ý
hostnameB" ÊA Hostname (FQDN, e.g. example.com) or a wildcard hostname expression (*.example.com)
for a set of hostnames with common suffix. Used as Server Name Indication (SNI) for
selecting a proper certificate.
‚
labelsB2" ïSet of labels associated with a Certificate Map Entry.
An object containing a list of "key": value pairs.
Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
I
map" >A map entry that is inputted into the cetrificate map


- - -
U
matcherB" DA predefined matcher for particular cases, other than SNI selection
Ê
nameB" »A user-defined name of the Certificate Map Entry. Certificate Map Entry
names must be unique globally and match pattern
'projects/*/locations/*/certificateMaps/*/certificateMapEntries/*'
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ç
certificates*" ÐA set of Certificates defines for the given hostname.
There can be defined up to fifteen certificates in each Certificate Map Entry.
Each certificate must match pattern projects/*/locations/*/certificates/*.
"î

createTime" ÛCreation timestamp of a Certificate Map Entry. Timestamp in RFC3339 UTC "Zulu" format,
with nanosecond resolution and up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
"C
descriptionB" .A human-readable description of the resource.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"Ý
hostnameB" ÊA Hostname (FQDN, e.g. example.com) or a wildcard hostname expression (*.example.com)
for a set of hostnames with common suffix. Used as Server Name Indication (SNI) for
selecting a proper certificate.
"‚
labelsB2" ïSet of labels associated with a Certificate Map Entry.
An object containing a list of "key": value pairs.
Example: { "name": "wrench", "mass": "1.3kg", "count": "3" }.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"I
map" >A map entry that is inputted into the cetrificate map


- - -
"U
matcherB" DA predefined matcher for particular cases, other than SNI selection
"È
name" »A user-defined name of the Certificate Map Entry. Certificate Map Entry
names must be unique globally and match pattern
'projects/*/locations/*/certificateMaps/*/certificateMapEntries/*'
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"<
state" /A serving state of this Certificate Map Entry.
"ì

updateTime" ÙUpdate timestamp of a Certificate Map Entry. Timestamp in RFC3339 UTC "Zulu" format,
with nanosecond resolution and up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
*Ëb
`
certificatemanagerDnsAuthorization8gcp:certificatemanager/dnsAuthorization:DnsAuthorization÷CDnsAuthorization represents a HTTP-reachable backend for a DnsAuthorization.



## Example Usage

### Certificate Manager Dns Authorization Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificatemanager.DnsAuthorization("default", {
    name: "dns-auth",
    location: "global",
    description: "The default dns",
    domain: "subdomain.hashicorptest.com",
});
export const recordNameToInsert = _default.dnsResourceRecords.apply(dnsResourceRecords => dnsResourceRecords[0].name);
export const recordTypeToInsert = _default.dnsResourceRecords.apply(dnsResourceRecords => dnsResourceRecords[0].type);
export const recordDataToInsert = _default.dnsResourceRecords.apply(dnsResourceRecords => dnsResourceRecords[0].data);
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.DnsAuthorization("default",
    name="dns-auth",
    location="global",
    description="The default dns",
    domain="subdomain.hashicorptest.com")
pulumi.export("recordNameToInsert", default.dns_resource_records[0].name)
pulumi.export("recordTypeToInsert", default.dns_resource_records[0].type)
pulumi.export("recordDataToInsert", default.dns_resource_records[0].data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.DnsAuthorization("default", new()
    {
        Name = "dns-auth",
        Location = "global",
        Description = "The default dns",
        Domain = "subdomain.hashicorptest.com",
    });

    return new Dictionary<string, object?>
    {
        ["recordNameToInsert"] = @default.DnsResourceRecords.Apply(dnsResourceRecords => dnsResourceRecords[0].Name),
        ["recordTypeToInsert"] = @default.DnsResourceRecords.Apply(dnsResourceRecords => dnsResourceRecords[0].Type),
        ["recordDataToInsert"] = @default.DnsResourceRecords.Apply(dnsResourceRecords => dnsResourceRecords[0].Data),
    };
});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.NewDnsAuthorization(ctx, "default", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Location:    pulumi.String("global"),
			Description: pulumi.String("The default dns"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		ctx.Export("recordNameToInsert", _default.DnsResourceRecords.ApplyT(func(dnsResourceRecords []certificatemanager.DnsAuthorizationDnsResourceRecord) (*string, error) {
			return &dnsResourceRecords[0].Name, nil
		}).(pulumi.StringPtrOutput))
		ctx.Export("recordTypeToInsert", _default.DnsResourceRecords.ApplyT(func(dnsResourceRecords []certificatemanager.DnsAuthorizationDnsResourceRecord) (*string, error) {
			return &dnsResourceRecords[0].Type, nil
		}).(pulumi.StringPtrOutput))
		ctx.Export("recordDataToInsert", _default.DnsResourceRecords.ApplyT(func(dnsResourceRecords []certificatemanager.DnsAuthorizationDnsResourceRecord) (*string, error) {
			return &dnsResourceRecords[0].Data, nil
		}).(pulumi.StringPtrOutput))
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new DnsAuthorization("default", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .location("global")
            .description("The default dns")
            .domain("subdomain.hashicorptest.com")
            .build());

        ctx.export("recordNameToInsert", default_.dnsResourceRecords().applyValue(dnsResourceRecords -> dnsResourceRecords[0].name()));
        ctx.export("recordTypeToInsert", default_.dnsResourceRecords().applyValue(dnsResourceRecords -> dnsResourceRecords[0].type()));
        ctx.export("recordDataToInsert", default_.dnsResourceRecords().applyValue(dnsResourceRecords -> dnsResourceRecords[0].data()));
    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      location: global
      description: The default dns
      domain: subdomain.hashicorptest.com
outputs:
  recordNameToInsert: ${default.dnsResourceRecords[0].name}
  recordTypeToInsert: ${default.dnsResourceRecords[0].type}
  recordDataToInsert: ${default.dnsResourceRecords[0].data}
```
<!--End PulumiCodeChooser -->
### Certificate Manager Dns Authorization Regional


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const _default = new gcp.certificatemanager.DnsAuthorization("default", {
    name: "dns-auth",
    location: "us-central1",
    description: "reginal dns",
    type: "PER_PROJECT_RECORD",
    domain: "subdomain.hashicorptest.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.DnsAuthorization("default",
    name="dns-auth",
    location="us-central1",
    description="reginal dns",
    type="PER_PROJECT_RECORD",
    domain="subdomain.hashicorptest.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.DnsAuthorization("default", new()
    {
        Name = "dns-auth",
        Location = "us-central1",
        Description = "reginal dns",
        Type = "PER_PROJECT_RECORD",
        Domain = "subdomain.hashicorptest.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.NewDnsAuthorization(ctx, "default", &certificatemanager.DnsAuthorizationArgs{
			Name:        pulumi.String("dns-auth"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("reginal dns"),
			Type:        pulumi.String("PER_PROJECT_RECORD"),
			Domain:      pulumi.String("subdomain.hashicorptest.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.DnsAuthorization;
import com.pulumi.gcp.certificatemanager.DnsAuthorizationArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new DnsAuthorization("default", DnsAuthorizationArgs.builder()
            .name("dns-auth")
            .location("us-central1")
            .description("reginal dns")
            .type("PER_PROJECT_RECORD")
            .domain("subdomain.hashicorptest.com")
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:DnsAuthorization
    properties:
      name: dns-auth
      location: us-central1
      description: reginal dns
      type: PER_PROJECT_RECORD
      domain: subdomain.hashicorptest.com
```
<!--End PulumiCodeChooser -->

## Import

DnsAuthorization can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/dnsAuthorizations/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, DnsAuthorization can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/dnsAuthorization:DnsAuthorization default projects/{{project}}/locations/{{location}}/dnsAuthorizations/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/dnsAuthorization:DnsAuthorization default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/dnsAuthorization:DnsAuthorization default {{location}}/{{name}}
```

C
descriptionB" .A human-readable description of the resource.
æ
domain" ×A domain which is being authorized. A DnsAuthorization resource covers a
single domain and its wildcard, e.g. authorization for "example.com" can
be used to issue certificates for "example.com" and "*.example.com".
›
labelsB2" ˆSet of label tags associated with the DNS Authorization resource.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
X
locationB" FThe Certificate Manager location. If not specified, "global" is used.
½
nameB" ®Name of the resource; provided by the client when the resource is created.
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.


- - -
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
É
typeB" ºtype of DNS authorization. If unset during the resource creation, FIXED_RECORD will
be used for global resources, and PER_PROJECT_RECORD will be used for other locations.
FIXED_RECORD DNS authorization uses DNS-01 validation method
PER_PROJECT_RECORD DNS authorization allows for independent management
of Google-managed certificates with DNS authorization across multiple
projects.
Possible values are: `FIXED_RECORD`, `PER_PROJECT_RECORD`.
"C
descriptionB" .A human-readable description of the resource.
"å
dnsResourceRecordsœ*™:–
“
certificatemanager!DnsAuthorizationDnsResourceRecordZgcp:certificatemanager/DnsAuthorizationDnsResourceRecord:DnsAuthorizationDnsResourceRecord¯The structure describing the DNS Resource Record that needs to be added
to DNS configuration for the authorization to be usable by
certificate.
Structure is documented below.
"æ
domain" ×A domain which is being authorized. A DnsAuthorization resource covers a
single domain and its wildcard, e.g. authorization for "example.com" can
be used to issue certificates for "example.com" and "*.example.com".
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"›
labelsB2" ˆSet of label tags associated with the DNS Authorization resource.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"X
locationB" FThe Certificate Manager location. If not specified, "global" is used.
"»
name" ®Name of the resource; provided by the client when the resource is created.
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.


- - -
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"Ç
type" ºtype of DNS authorization. If unset during the resource creation, FIXED_RECORD will
be used for global resources, and PER_PROJECT_RECORD will be used for other locations.
FIXED_RECORD DNS authorization uses DNS-01 validation method
PER_PROJECT_RECORD DNS authorization allows for independent management
of Google-managed certificates with DNS authorization across multiple
projects.
Possible values are: `FIXED_RECORD`, `PER_PROJECT_RECORD`.
* ‰
Q
certificatemanagerTrustConfig.gcp:certificatemanager/trustConfig:TrustConfig¸kTrustConfig represents a resource that represents your Public Key Infrastructure (PKI) configuration in Certificate Manager for use in mutual TLS authentication scenarios.


To get more information about TrustConfig, see:

* [API documentation](https://cloud.google.com/certificate-manager/docs/reference/certificate-manager/rest/v1/projects.locations.trustConfigs/create)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/certificate-manager/docs)



## Example Usage

### Certificate Manager Trust Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificatemanager.TrustConfig("default", {
    name: "trust-config",
    description: "sample description for the trust config",
    location: "us-central1",
    trustStores: [{
        trustAnchors: [{
            pemCertificate: std.file({
                input: "test-fixtures/cert.pem",
            }).then(invoke => invoke.result),
        }],
        intermediateCas: [{
            pemCertificate: std.file({
                input: "test-fixtures/cert.pem",
            }).then(invoke => invoke.result),
        }],
    }],
    labels: {
        foo: "bar",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificatemanager.TrustConfig("default",
    name="trust-config",
    description="sample description for the trust config",
    location="us-central1",
    trust_stores=[{
        "trust_anchors": [{
            "pem_certificate": std.file(input="test-fixtures/cert.pem").result,
        }],
        "intermediate_cas": [{
            "pem_certificate": std.file(input="test-fixtures/cert.pem").result,
        }],
    }],
    labels={
        "foo": "bar",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.TrustConfig("default", new()
    {
        Name = "trust-config",
        Description = "sample description for the trust config",
        Location = "us-central1",
        TrustStores = new[]
        {
            new Gcp.CertificateManager.Inputs.TrustConfigTrustStoreArgs
            {
                TrustAnchors = new[]
                {
                    new Gcp.CertificateManager.Inputs.TrustConfigTrustStoreTrustAnchorArgs
                    {
                        PemCertificate = Std.File.Invoke(new()
                        {
                            Input = "test-fixtures/cert.pem",
                        }).Apply(invoke => invoke.Result),
                    },
                },
                IntermediateCas = new[]
                {
                    new Gcp.CertificateManager.Inputs.TrustConfigTrustStoreIntermediateCaArgs
                    {
                        PemCertificate = Std.File.Invoke(new()
                        {
                            Input = "test-fixtures/cert.pem",
                        }).Apply(invoke => invoke.Result),
                    },
                },
            },
        },
        Labels = 
        {
            { "foo", "bar" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/cert.pem",
		}, nil)
		if err != nil {
			return err
		}
		invokeFile1, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/cert.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewTrustConfig(ctx, "default", &certificatemanager.TrustConfigArgs{
			Name:        pulumi.String("trust-config"),
			Description: pulumi.String("sample description for the trust config"),
			Location:    pulumi.String("us-central1"),
			TrustStores: certificatemanager.TrustConfigTrustStoreArray{
				&certificatemanager.TrustConfigTrustStoreArgs{
					TrustAnchors: certificatemanager.TrustConfigTrustStoreTrustAnchorArray{
						&certificatemanager.TrustConfigTrustStoreTrustAnchorArgs{
							PemCertificate: pulumi.String(invokeFile.Result),
						},
					},
					IntermediateCas: certificatemanager.TrustConfigTrustStoreIntermediateCaArray{
						&certificatemanager.TrustConfigTrustStoreIntermediateCaArgs{
							PemCertificate: pulumi.String(invokeFile1.Result),
						},
					},
				},
			},
			Labels: pulumi.StringMap{
				"foo": pulumi.String("bar"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.TrustConfig;
import com.pulumi.gcp.certificatemanager.TrustConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.TrustConfigTrustStoreArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new TrustConfig("default", TrustConfigArgs.builder()
            .name("trust-config")
            .description("sample description for the trust config")
            .location("us-central1")
            .trustStores(TrustConfigTrustStoreArgs.builder()
                .trustAnchors(TrustConfigTrustStoreTrustAnchorArgs.builder()
                    .pemCertificate(StdFunctions.file(FileArgs.builder()
                        .input("test-fixtures/cert.pem")
                        .build()).result())
                    .build())
                .intermediateCas(TrustConfigTrustStoreIntermediateCaArgs.builder()
                    .pemCertificate(StdFunctions.file(FileArgs.builder()
                        .input("test-fixtures/cert.pem")
                        .build()).result())
                    .build())
                .build())
            .labels(Map.of("foo", "bar"))
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:TrustConfig
    properties:
      name: trust-config
      description: sample description for the trust config
      location: us-central1
      trustStores:
        - trustAnchors:
            - pemCertificate:
                fn::invoke:
                  function: std:file
                  arguments:
                    input: test-fixtures/cert.pem
                  return: result
          intermediateCas:
            - pemCertificate:
                fn::invoke:
                  function: std:file
                  arguments:
                    input: test-fixtures/cert.pem
                  return: result
      labels:
        foo: bar
```
<!--End PulumiCodeChooser -->
### Certificate Manager Trust Config Allowlisted Certificates


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const _default = new gcp.certificatemanager.TrustConfig("default", {
    name: "trust-config",
    description: "A sample trust config resource with allowlisted certificates",
    location: "global",
    allowlistedCertificates: [
        {
            pemCertificate: std.file({
                input: "test-fixtures/cert.pem",
            }).then(invoke => invoke.result),
        },
        {
            pemCertificate: std.file({
                input: "test-fixtures/cert2.pem",
            }).then(invoke => invoke.result),
        },
    ],
    labels: {
        foo: "bar",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

default = gcp.certificatemanager.TrustConfig("default",
    name="trust-config",
    description="A sample trust config resource with allowlisted certificates",
    location="global",
    allowlisted_certificates=[
        {
            "pem_certificate": std.file(input="test-fixtures/cert.pem").result,
        },
        {
            "pem_certificate": std.file(input="test-fixtures/cert2.pem").result,
        },
    ],
    labels={
        "foo": "bar",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var @default = new Gcp.CertificateManager.TrustConfig("default", new()
    {
        Name = "trust-config",
        Description = "A sample trust config resource with allowlisted certificates",
        Location = "global",
        AllowlistedCertificates = new[]
        {
            new Gcp.CertificateManager.Inputs.TrustConfigAllowlistedCertificateArgs
            {
                PemCertificate = Std.File.Invoke(new()
                {
                    Input = "test-fixtures/cert.pem",
                }).Apply(invoke => invoke.Result),
            },
            new Gcp.CertificateManager.Inputs.TrustConfigAllowlistedCertificateArgs
            {
                PemCertificate = Std.File.Invoke(new()
                {
                    Input = "test-fixtures/cert2.pem",
                }).Apply(invoke => invoke.Result),
            },
        },
        Labels = 
        {
            { "foo", "bar" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/cert.pem",
		}, nil)
		if err != nil {
			return err
		}
		invokeFile1, err := std.File(ctx, &std.FileArgs{
			Input: "test-fixtures/cert2.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = certificatemanager.NewTrustConfig(ctx, "default", &certificatemanager.TrustConfigArgs{
			Name:        pulumi.String("trust-config"),
			Description: pulumi.String("A sample trust config resource with allowlisted certificates"),
			Location:    pulumi.String("global"),
			AllowlistedCertificates: certificatemanager.TrustConfigAllowlistedCertificateArray{
				&certificatemanager.TrustConfigAllowlistedCertificateArgs{
					PemCertificate: pulumi.String(invokeFile.Result),
				},
				&certificatemanager.TrustConfigAllowlistedCertificateArgs{
					PemCertificate: pulumi.String(invokeFile1.Result),
				},
			},
			Labels: pulumi.StringMap{
				"foo": pulumi.String("bar"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.TrustConfig;
import com.pulumi.gcp.certificatemanager.TrustConfigArgs;
import com.pulumi.gcp.certificatemanager.inputs.TrustConfigAllowlistedCertificateArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var default_ = new TrustConfig("default", TrustConfigArgs.builder()
            .name("trust-config")
            .description("A sample trust config resource with allowlisted certificates")
            .location("global")
            .allowlistedCertificates(            
                TrustConfigAllowlistedCertificateArgs.builder()
                    .pemCertificate(StdFunctions.file(FileArgs.builder()
                        .input("test-fixtures/cert.pem")
                        .build()).result())
                    .build(),
                TrustConfigAllowlistedCertificateArgs.builder()
                    .pemCertificate(StdFunctions.file(FileArgs.builder()
                        .input("test-fixtures/cert2.pem")
                        .build()).result())
                    .build())
            .labels(Map.of("foo", "bar"))
            .build());

    }
}
```
```yaml
resources:
  default:
    type: gcp:certificatemanager:TrustConfig
    properties:
      name: trust-config
      description: A sample trust config resource with allowlisted certificates
      location: global
      allowlistedCertificates:
        - pemCertificate:
            fn::invoke:
              function: std:file
              arguments:
                input: test-fixtures/cert.pem
              return: result
        - pemCertificate:
            fn::invoke:
              function: std:file
              arguments:
                input: test-fixtures/cert2.pem
              return: result
      labels:
        foo: bar
```
<!--End PulumiCodeChooser -->

## Import

TrustConfig can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/trustConfigs/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, TrustConfig can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:certificatemanager/trustConfig:TrustConfig default projects/{{project}}/locations/{{location}}/trustConfigs/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/trustConfig:TrustConfig default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:certificatemanager/trustConfig:TrustConfig default {{location}}/{{name}}
```

á
allowlistedCertificatesŸBœ*™:–
“
certificatemanager!TrustConfigAllowlistedCertificateZgcp:certificatemanager/TrustConfigAllowlistedCertificate:TrustConfigAllowlistedCertificate£Allowlisted PEM-encoded certificates. A certificate matching an allowlisted certificate is always considered valid as long as
the certificate is parseable, proof of private key possession is established, and constraints on the certificate's SAN field are met.
Structure is documented below.
S
descriptionB" >One or more paragraphs of text description of a trust config.

labelsB2" úSet of label tags associated with the trust config.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
3
location" #The trust config location.


- - -
c
nameB" UA user-defined name of the trust config. Trust config names must be unique globally.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
â
trustStoreswBu*s:q
o
certificatemanagerTrustConfigTrustStoreBgcp:certificatemanager/TrustConfigTrustStore:TrustConfigTrustStoreÙSet of trust stores to perform validation against.
This field is supported when TrustConfig is configured with Load Balancers, currently not supported for SPIFFE certificate validation.
Structure is documented below.
"á
allowlistedCertificatesŸBœ*™:–
“
certificatemanager!TrustConfigAllowlistedCertificateZgcp:certificatemanager/TrustConfigAllowlistedCertificate:TrustConfigAllowlistedCertificate£Allowlisted PEM-encoded certificates. A certificate matching an allowlisted certificate is always considered valid as long as
the certificate is parseable, proof of private key possession is established, and constraints on the certificate's SAN field are met.
Structure is documented below.
"ê

createTime" ×The creation timestamp of a TrustConfig.
A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
"S
descriptionB" >One or more paragraphs of text description of a trust config.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"
labelsB2" úSet of label tags associated with the trust config.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"3
location" #The trust config location.


- - -
"a
name" UA user-defined name of the trust config. Trust config names must be unique globally.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"â
trustStoreswBu*s:q
o
certificatemanagerTrustConfigTrustStoreBgcp:certificatemanager/TrustConfigTrustStore:TrustConfigTrustStoreÙSet of trust stores to perform validation against.
This field is supported when TrustConfig is configured with Load Balancers, currently not supported for SPIFFE certificate validation.
Structure is documented below.
"í

updateTime" ÚThe last update timestamp of a TrustConfig.
A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to nine fractional digits.
Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
*ã†
>

cloudasset
FolderFeed$gcp:cloudasset/folderFeed:FolderFeedëbDescribes a Cloud Asset Inventory feed used to to listen to asset updates.


To get more information about FolderFeed, see:

* [API documentation](https://cloud.google.com/asset-inventory/docs/reference/rest/)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/asset-inventory/docs)

## Example Usage

### Cloud Asset Folder Feed


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

// The topic where the resource change notifications will be sent.
const feedOutput = new gcp.pubsub.Topic("feed_output", {
    project: "my-project-name",
    name: "network-updates",
});
// The folder that will be monitored for resource updates.
const myFolder = new gcp.organizations.Folder("my_folder", {
    displayName: "Networking",
    parent: "organizations/123456789",
    deletionProtection: false,
});
// Create a feed that sends notifications about network resource updates under a
// particular folder.
const folderFeed = new gcp.cloudasset.FolderFeed("folder_feed", {
    billingProject: "my-project-name",
    folder: myFolder.folderId,
    feedId: "network-updates",
    contentType: "RESOURCE",
    assetTypes: [
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feedOutputConfig: {
        pubsubDestination: {
            topic: feedOutput.id,
        },
    },
    condition: {
        expression: `!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
`,
        title: "created",
        description: "Send notifications on creation events",
    },
});
// Find the project number of the project whose identity will be used for sending
// the asset change notifications.
const project = gcp.organizations.getProject({
    projectId: "my-project-name",
});
```
```python
import pulumi
import pulumi_gcp as gcp

# The topic where the resource change notifications will be sent.
feed_output = gcp.pubsub.Topic("feed_output",
    project="my-project-name",
    name="network-updates")
# The folder that will be monitored for resource updates.
my_folder = gcp.organizations.Folder("my_folder",
    display_name="Networking",
    parent="organizations/123456789",
    deletion_protection=False)
# Create a feed that sends notifications about network resource updates under a
# particular folder.
folder_feed = gcp.cloudasset.FolderFeed("folder_feed",
    billing_project="my-project-name",
    folder=my_folder.folder_id,
    feed_id="network-updates",
    content_type="RESOURCE",
    asset_types=[
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feed_output_config={
        "pubsub_destination": {
            "topic": feed_output.id,
        },
    },
    condition={
        "expression": """!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
""",
        "title": "created",
        "description": "Send notifications on creation events",
    })
# Find the project number of the project whose identity will be used for sending
# the asset change notifications.
project = gcp.organizations.get_project(project_id="my-project-name")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    // The topic where the resource change notifications will be sent.
    var feedOutput = new Gcp.PubSub.Topic("feed_output", new()
    {
        Project = "my-project-name",
        Name = "network-updates",
    });

    // The folder that will be monitored for resource updates.
    var myFolder = new Gcp.Organizations.Folder("my_folder", new()
    {
        DisplayName = "Networking",
        Parent = "organizations/123456789",
        DeletionProtection = false,
    });

    // Create a feed that sends notifications about network resource updates under a
    // particular folder.
    var folderFeed = new Gcp.CloudAsset.FolderFeed("folder_feed", new()
    {
        BillingProject = "my-project-name",
        Folder = myFolder.FolderId,
        FeedId = "network-updates",
        ContentType = "RESOURCE",
        AssetTypes = new[]
        {
            "compute.googleapis.com/Subnetwork",
            "compute.googleapis.com/Network",
        },
        FeedOutputConfig = new Gcp.CloudAsset.Inputs.FolderFeedFeedOutputConfigArgs
        {
            PubsubDestination = new Gcp.CloudAsset.Inputs.FolderFeedFeedOutputConfigPubsubDestinationArgs
            {
                Topic = feedOutput.Id,
            },
        },
        Condition = new Gcp.CloudAsset.Inputs.FolderFeedConditionArgs
        {
            Expression = @"!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
",
            Title = "created",
            Description = "Send notifications on creation events",
        },
    });

    // Find the project number of the project whose identity will be used for sending
    // the asset change notifications.
    var project = Gcp.Organizations.GetProject.Invoke(new()
    {
        ProjectId = "my-project-name",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		// The topic where the resource change notifications will be sent.
		feedOutput, err := pubsub.NewTopic(ctx, "feed_output", &pubsub.TopicArgs{
			Project: pulumi.String("my-project-name"),
			Name:    pulumi.String("network-updates"),
		})
		if err != nil {
			return err
		}
		// The folder that will be monitored for resource updates.
		myFolder, err := organizations.NewFolder(ctx, "my_folder", &organizations.FolderArgs{
			DisplayName:        pulumi.String("Networking"),
			Parent:             pulumi.String("organizations/123456789"),
			DeletionProtection: pulumi.Bool(false),
		})
		if err != nil {
			return err
		}
		// Create a feed that sends notifications about network resource updates under a
		// particular folder.
		_, err = cloudasset.NewFolderFeed(ctx, "folder_feed", &cloudasset.FolderFeedArgs{
			BillingProject: pulumi.String("my-project-name"),
			Folder:         myFolder.FolderId,
			FeedId:         pulumi.String("network-updates"),
			ContentType:    pulumi.String("RESOURCE"),
			AssetTypes: pulumi.StringArray{
				pulumi.String("compute.googleapis.com/Subnetwork"),
				pulumi.String("compute.googleapis.com/Network"),
			},
			FeedOutputConfig: &cloudasset.FolderFeedFeedOutputConfigArgs{
				PubsubDestination: &cloudasset.FolderFeedFeedOutputConfigPubsubDestinationArgs{
					Topic: feedOutput.ID(),
				},
			},
			Condition: &cloudasset.FolderFeedConditionArgs{
				Expression:  pulumi.String("!temporal_asset.deleted &&\ntemporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST\n"),
				Title:       pulumi.String("created"),
				Description: pulumi.String("Send notifications on creation events"),
			},
		})
		if err != nil {
			return err
		}
		// Find the project number of the project whose identity will be used for sending
		// the asset change notifications.
		_, err = organizations.LookupProject(ctx, &organizations.LookupProjectArgs{
			ProjectId: pulumi.StringRef("my-project-name"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.organizations.Folder;
import com.pulumi.gcp.organizations.FolderArgs;
import com.pulumi.gcp.cloudasset.FolderFeed;
import com.pulumi.gcp.cloudasset.FolderFeedArgs;
import com.pulumi.gcp.cloudasset.inputs.FolderFeedFeedOutputConfigArgs;
import com.pulumi.gcp.cloudasset.inputs.FolderFeedFeedOutputConfigPubsubDestinationArgs;
import com.pulumi.gcp.cloudasset.inputs.FolderFeedConditionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        // The topic where the resource change notifications will be sent.
        var feedOutput = new Topic("feedOutput", TopicArgs.builder()
            .project("my-project-name")
            .name("network-updates")
            .build());

        // The folder that will be monitored for resource updates.
        var myFolder = new Folder("myFolder", FolderArgs.builder()
            .displayName("Networking")
            .parent("organizations/123456789")
            .deletionProtection(false)
            .build());

        // Create a feed that sends notifications about network resource updates under a
        // particular folder.
        var folderFeed = new FolderFeed("folderFeed", FolderFeedArgs.builder()
            .billingProject("my-project-name")
            .folder(myFolder.folderId())
            .feedId("network-updates")
            .contentType("RESOURCE")
            .assetTypes(            
                "compute.googleapis.com/Subnetwork",
                "compute.googleapis.com/Network")
            .feedOutputConfig(FolderFeedFeedOutputConfigArgs.builder()
                .pubsubDestination(FolderFeedFeedOutputConfigPubsubDestinationArgs.builder()
                    .topic(feedOutput.id())
                    .build())
                .build())
            .condition(FolderFeedConditionArgs.builder()
                .expression("""
!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
                """)
                .title("created")
                .description("Send notifications on creation events")
                .build())
            .build());

        // Find the project number of the project whose identity will be used for sending
        // the asset change notifications.
        final var project = OrganizationsFunctions.getProject(GetProjectArgs.builder()
            .projectId("my-project-name")
            .build());

    }
}
```
```yaml
resources:
  # Create a feed that sends notifications about network resource updates under a
  # particular folder.
  folderFeed:
    type: gcp:cloudasset:FolderFeed
    name: folder_feed
    properties:
      billingProject: my-project-name
      folder: ${myFolder.folderId}
      feedId: network-updates
      contentType: RESOURCE
      assetTypes:
        - compute.googleapis.com/Subnetwork
        - compute.googleapis.com/Network
      feedOutputConfig:
        pubsubDestination:
          topic: ${feedOutput.id}
      condition:
        expression: |
          !temporal_asset.deleted &&
          temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
        title: created
        description: Send notifications on creation events
  # The topic where the resource change notifications will be sent.
  feedOutput:
    type: gcp:pubsub:Topic
    name: feed_output
    properties:
      project: my-project-name
      name: network-updates
  # The folder that will be monitored for resource updates.
  myFolder:
    type: gcp:organizations:Folder
    name: my_folder
    properties:
      displayName: Networking
      parent: organizations/123456789
      deletionProtection: false
variables:
  # Find the project number of the project whose identity will be used for sending
  # the asset change notifications.
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments:
        projectId: my-project-name
```
<!--End PulumiCodeChooser -->

## Import

FolderFeed can be imported using any of these accepted formats:

* `folders/{{folder_id}}/feeds/{{name}}`

* `{{folder_id}}/{{name}}`

When using the `pulumi import` command, FolderFeed can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudasset/folderFeed:FolderFeed default folders/{{folder_id}}/feeds/{{name}}
```

```sh
$ pulumi import gcp:cloudasset/folderFeed:FolderFeed default {{folder_id}}/{{name}}
```

 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
Â
billingProject" «The project whose identity will be used when sending messages to the
destination pubsub topic. It also specifies the project for API
enablement check, quota, and billing.
€
	condition_B]:[
Y

cloudassetFolderFeedCondition6gcp:cloudasset/FolderFeedCondition:FolderFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
Ø
feedOutputConfigr:p
n

cloudassetFolderFeedFeedOutputConfigDgcp:cloudasset/FolderFeedFeedOutputConfig:FolderFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.
9
folder" +The folder this feed should be created in.
" 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
"ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
"Â
billingProject" «The project whose identity will be used when sending messages to the
destination pubsub topic. It also specifies the project for API
enablement check, quota, and billing.
"€
	condition_B]:[
Y

cloudassetFolderFeedCondition6gcp:cloudasset/FolderFeedCondition:FolderFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
"ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
"s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
"Ø
feedOutputConfigr:p
n

cloudassetFolderFeedFeedOutputConfigDgcp:cloudasset/FolderFeedFeedOutputConfig:FolderFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.
"9
folder" +The folder this feed should be created in.
"†
folderId" vThe ID of the folder where this feed has been created. Both [FOLDER_NUMBER]
and folders/[FOLDER_NUMBER] are accepted.
"`
name" TThe format will be folders/{folder_number}/feeds/{client-assigned_feed_identifier}.
*Ì{
P

cloudassetOrganizationFeed0gcp:cloudasset/organizationFeed:OrganizationFeedçWDescribes a Cloud Asset Inventory feed used to to listen to asset updates.


To get more information about OrganizationFeed, see:

* [API documentation](https://cloud.google.com/asset-inventory/docs/reference/rest/)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/asset-inventory/docs)

## Example Usage

### Cloud Asset Organization Feed


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

// The topic where the resource change notifications will be sent.
const feedOutput = new gcp.pubsub.Topic("feed_output", {
    project: "my-project-name",
    name: "network-updates",
});
// Create a feed that sends notifications about network resource updates under a
// particular organization.
const organizationFeed = new gcp.cloudasset.OrganizationFeed("organization_feed", {
    billingProject: "my-project-name",
    orgId: "123456789",
    feedId: "network-updates",
    contentType: "RESOURCE",
    assetTypes: [
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feedOutputConfig: {
        pubsubDestination: {
            topic: feedOutput.id,
        },
    },
    condition: {
        expression: `!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
`,
        title: "created",
        description: "Send notifications on creation events",
    },
});
// Find the project number of the project whose identity will be used for sending
// the asset change notifications.
const project = gcp.organizations.getProject({
    projectId: "my-project-name",
});
```
```python
import pulumi
import pulumi_gcp as gcp

# The topic where the resource change notifications will be sent.
feed_output = gcp.pubsub.Topic("feed_output",
    project="my-project-name",
    name="network-updates")
# Create a feed that sends notifications about network resource updates under a
# particular organization.
organization_feed = gcp.cloudasset.OrganizationFeed("organization_feed",
    billing_project="my-project-name",
    org_id="123456789",
    feed_id="network-updates",
    content_type="RESOURCE",
    asset_types=[
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feed_output_config={
        "pubsub_destination": {
            "topic": feed_output.id,
        },
    },
    condition={
        "expression": """!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
""",
        "title": "created",
        "description": "Send notifications on creation events",
    })
# Find the project number of the project whose identity will be used for sending
# the asset change notifications.
project = gcp.organizations.get_project(project_id="my-project-name")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    // The topic where the resource change notifications will be sent.
    var feedOutput = new Gcp.PubSub.Topic("feed_output", new()
    {
        Project = "my-project-name",
        Name = "network-updates",
    });

    // Create a feed that sends notifications about network resource updates under a
    // particular organization.
    var organizationFeed = new Gcp.CloudAsset.OrganizationFeed("organization_feed", new()
    {
        BillingProject = "my-project-name",
        OrgId = "123456789",
        FeedId = "network-updates",
        ContentType = "RESOURCE",
        AssetTypes = new[]
        {
            "compute.googleapis.com/Subnetwork",
            "compute.googleapis.com/Network",
        },
        FeedOutputConfig = new Gcp.CloudAsset.Inputs.OrganizationFeedFeedOutputConfigArgs
        {
            PubsubDestination = new Gcp.CloudAsset.Inputs.OrganizationFeedFeedOutputConfigPubsubDestinationArgs
            {
                Topic = feedOutput.Id,
            },
        },
        Condition = new Gcp.CloudAsset.Inputs.OrganizationFeedConditionArgs
        {
            Expression = @"!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
",
            Title = "created",
            Description = "Send notifications on creation events",
        },
    });

    // Find the project number of the project whose identity will be used for sending
    // the asset change notifications.
    var project = Gcp.Organizations.GetProject.Invoke(new()
    {
        ProjectId = "my-project-name",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		// The topic where the resource change notifications will be sent.
		feedOutput, err := pubsub.NewTopic(ctx, "feed_output", &pubsub.TopicArgs{
			Project: pulumi.String("my-project-name"),
			Name:    pulumi.String("network-updates"),
		})
		if err != nil {
			return err
		}
		// Create a feed that sends notifications about network resource updates under a
		// particular organization.
		_, err = cloudasset.NewOrganizationFeed(ctx, "organization_feed", &cloudasset.OrganizationFeedArgs{
			BillingProject: pulumi.String("my-project-name"),
			OrgId:          pulumi.String("123456789"),
			FeedId:         pulumi.String("network-updates"),
			ContentType:    pulumi.String("RESOURCE"),
			AssetTypes: pulumi.StringArray{
				pulumi.String("compute.googleapis.com/Subnetwork"),
				pulumi.String("compute.googleapis.com/Network"),
			},
			FeedOutputConfig: &cloudasset.OrganizationFeedFeedOutputConfigArgs{
				PubsubDestination: &cloudasset.OrganizationFeedFeedOutputConfigPubsubDestinationArgs{
					Topic: feedOutput.ID(),
				},
			},
			Condition: &cloudasset.OrganizationFeedConditionArgs{
				Expression:  pulumi.String("!temporal_asset.deleted &&\ntemporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST\n"),
				Title:       pulumi.String("created"),
				Description: pulumi.String("Send notifications on creation events"),
			},
		})
		if err != nil {
			return err
		}
		// Find the project number of the project whose identity will be used for sending
		// the asset change notifications.
		_, err = organizations.LookupProject(ctx, &organizations.LookupProjectArgs{
			ProjectId: pulumi.StringRef("my-project-name"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.cloudasset.OrganizationFeed;
import com.pulumi.gcp.cloudasset.OrganizationFeedArgs;
import com.pulumi.gcp.cloudasset.inputs.OrganizationFeedFeedOutputConfigArgs;
import com.pulumi.gcp.cloudasset.inputs.OrganizationFeedFeedOutputConfigPubsubDestinationArgs;
import com.pulumi.gcp.cloudasset.inputs.OrganizationFeedConditionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        // The topic where the resource change notifications will be sent.
        var feedOutput = new Topic("feedOutput", TopicArgs.builder()
            .project("my-project-name")
            .name("network-updates")
            .build());

        // Create a feed that sends notifications about network resource updates under a
        // particular organization.
        var organizationFeed = new OrganizationFeed("organizationFeed", OrganizationFeedArgs.builder()
            .billingProject("my-project-name")
            .orgId("123456789")
            .feedId("network-updates")
            .contentType("RESOURCE")
            .assetTypes(            
                "compute.googleapis.com/Subnetwork",
                "compute.googleapis.com/Network")
            .feedOutputConfig(OrganizationFeedFeedOutputConfigArgs.builder()
                .pubsubDestination(OrganizationFeedFeedOutputConfigPubsubDestinationArgs.builder()
                    .topic(feedOutput.id())
                    .build())
                .build())
            .condition(OrganizationFeedConditionArgs.builder()
                .expression("""
!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
                """)
                .title("created")
                .description("Send notifications on creation events")
                .build())
            .build());

        // Find the project number of the project whose identity will be used for sending
        // the asset change notifications.
        final var project = OrganizationsFunctions.getProject(GetProjectArgs.builder()
            .projectId("my-project-name")
            .build());

    }
}
```
```yaml
resources:
  # Create a feed that sends notifications about network resource updates under a
  # particular organization.
  organizationFeed:
    type: gcp:cloudasset:OrganizationFeed
    name: organization_feed
    properties:
      billingProject: my-project-name
      orgId: '123456789'
      feedId: network-updates
      contentType: RESOURCE
      assetTypes:
        - compute.googleapis.com/Subnetwork
        - compute.googleapis.com/Network
      feedOutputConfig:
        pubsubDestination:
          topic: ${feedOutput.id}
      condition:
        expression: |
          !temporal_asset.deleted &&
          temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
        title: created
        description: Send notifications on creation events
  # The topic where the resource change notifications will be sent.
  feedOutput:
    type: gcp:pubsub:Topic
    name: feed_output
    properties:
      project: my-project-name
      name: network-updates
variables:
  # Find the project number of the project whose identity will be used for sending
  # the asset change notifications.
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments:
        projectId: my-project-name
```
<!--End PulumiCodeChooser -->

## Import

OrganizationFeed can be imported using any of these accepted formats:

* `organizations/{{org_id}}/feeds/{{name}}`

* `{{org_id}}/{{name}}`

When using the `pulumi import` command, OrganizationFeed can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudasset/organizationFeed:OrganizationFeed default organizations/{{org_id}}/feeds/{{name}}
```

```sh
$ pulumi import gcp:cloudasset/organizationFeed:OrganizationFeed default {{org_id}}/{{name}}
```

 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
Â
billingProject" «The project whose identity will be used when sending messages to the
destination pubsub topic. It also specifies the project for API
enablement check, quota, and billing.
’
	conditionqBo:m
k

cloudassetOrganizationFeedConditionBgcp:cloudasset/OrganizationFeedCondition:OrganizationFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
í
feedOutputConfig†:ƒ
€

cloudasset OrganizationFeedFeedOutputConfigPgcp:cloudasset/OrganizationFeedFeedOutputConfig:OrganizationFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.
>
orgId" 1The organization this feed should be created in.
" 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
"ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
"Â
billingProject" «The project whose identity will be used when sending messages to the
destination pubsub topic. It also specifies the project for API
enablement check, quota, and billing.
"’
	conditionqBo:m
k

cloudassetOrganizationFeedConditionBgcp:cloudasset/OrganizationFeedCondition:OrganizationFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
"ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
"s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
"í
feedOutputConfig†:ƒ
€

cloudasset OrganizationFeedFeedOutputConfigPgcp:cloudasset/OrganizationFeedFeedOutputConfig:OrganizationFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.
"l
name" `The format will be organizations/{organization_number}/feeds/{client-assigned_feed_identifier}.
">
orgId" 1The organization this feed should be created in.
*Îv
A

cloudassetProjectFeed&gcp:cloudasset/projectFeed:ProjectFeed³SDescribes a Cloud Asset Inventory feed used to to listen to asset updates.


To get more information about ProjectFeed, see:

* [API documentation](https://cloud.google.com/asset-inventory/docs/reference/rest/)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/asset-inventory/docs)

## Example Usage

### Cloud Asset Project Feed


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

// The topic where the resource change notifications will be sent.
const feedOutput = new gcp.pubsub.Topic("feed_output", {
    project: "my-project-name",
    name: "network-updates",
});
// Create a feed that sends notifications about network resource updates.
const projectFeed = new gcp.cloudasset.ProjectFeed("project_feed", {
    project: "my-project-name",
    feedId: "network-updates",
    contentType: "RESOURCE",
    assetTypes: [
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feedOutputConfig: {
        pubsubDestination: {
            topic: feedOutput.id,
        },
    },
    condition: {
        expression: `!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
`,
        title: "created",
        description: "Send notifications on creation events",
    },
});
// Find the project number of the project whose identity will be used for sending
// the asset change notifications.
const project = gcp.organizations.getProject({
    projectId: "my-project-name",
});
```
```python
import pulumi
import pulumi_gcp as gcp

# The topic where the resource change notifications will be sent.
feed_output = gcp.pubsub.Topic("feed_output",
    project="my-project-name",
    name="network-updates")
# Create a feed that sends notifications about network resource updates.
project_feed = gcp.cloudasset.ProjectFeed("project_feed",
    project="my-project-name",
    feed_id="network-updates",
    content_type="RESOURCE",
    asset_types=[
        "compute.googleapis.com/Subnetwork",
        "compute.googleapis.com/Network",
    ],
    feed_output_config={
        "pubsub_destination": {
            "topic": feed_output.id,
        },
    },
    condition={
        "expression": """!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
""",
        "title": "created",
        "description": "Send notifications on creation events",
    })
# Find the project number of the project whose identity will be used for sending
# the asset change notifications.
project = gcp.organizations.get_project(project_id="my-project-name")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    // The topic where the resource change notifications will be sent.
    var feedOutput = new Gcp.PubSub.Topic("feed_output", new()
    {
        Project = "my-project-name",
        Name = "network-updates",
    });

    // Create a feed that sends notifications about network resource updates.
    var projectFeed = new Gcp.CloudAsset.ProjectFeed("project_feed", new()
    {
        Project = "my-project-name",
        FeedId = "network-updates",
        ContentType = "RESOURCE",
        AssetTypes = new[]
        {
            "compute.googleapis.com/Subnetwork",
            "compute.googleapis.com/Network",
        },
        FeedOutputConfig = new Gcp.CloudAsset.Inputs.ProjectFeedFeedOutputConfigArgs
        {
            PubsubDestination = new Gcp.CloudAsset.Inputs.ProjectFeedFeedOutputConfigPubsubDestinationArgs
            {
                Topic = feedOutput.Id,
            },
        },
        Condition = new Gcp.CloudAsset.Inputs.ProjectFeedConditionArgs
        {
            Expression = @"!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
",
            Title = "created",
            Description = "Send notifications on creation events",
        },
    });

    // Find the project number of the project whose identity will be used for sending
    // the asset change notifications.
    var project = Gcp.Organizations.GetProject.Invoke(new()
    {
        ProjectId = "my-project-name",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		// The topic where the resource change notifications will be sent.
		feedOutput, err := pubsub.NewTopic(ctx, "feed_output", &pubsub.TopicArgs{
			Project: pulumi.String("my-project-name"),
			Name:    pulumi.String("network-updates"),
		})
		if err != nil {
			return err
		}
		// Create a feed that sends notifications about network resource updates.
		_, err = cloudasset.NewProjectFeed(ctx, "project_feed", &cloudasset.ProjectFeedArgs{
			Project:     pulumi.String("my-project-name"),
			FeedId:      pulumi.String("network-updates"),
			ContentType: pulumi.String("RESOURCE"),
			AssetTypes: pulumi.StringArray{
				pulumi.String("compute.googleapis.com/Subnetwork"),
				pulumi.String("compute.googleapis.com/Network"),
			},
			FeedOutputConfig: &cloudasset.ProjectFeedFeedOutputConfigArgs{
				PubsubDestination: &cloudasset.ProjectFeedFeedOutputConfigPubsubDestinationArgs{
					Topic: feedOutput.ID(),
				},
			},
			Condition: &cloudasset.ProjectFeedConditionArgs{
				Expression:  pulumi.String("!temporal_asset.deleted &&\ntemporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST\n"),
				Title:       pulumi.String("created"),
				Description: pulumi.String("Send notifications on creation events"),
			},
		})
		if err != nil {
			return err
		}
		// Find the project number of the project whose identity will be used for sending
		// the asset change notifications.
		_, err = organizations.LookupProject(ctx, &organizations.LookupProjectArgs{
			ProjectId: pulumi.StringRef("my-project-name"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.cloudasset.ProjectFeed;
import com.pulumi.gcp.cloudasset.ProjectFeedArgs;
import com.pulumi.gcp.cloudasset.inputs.ProjectFeedFeedOutputConfigArgs;
import com.pulumi.gcp.cloudasset.inputs.ProjectFeedFeedOutputConfigPubsubDestinationArgs;
import com.pulumi.gcp.cloudasset.inputs.ProjectFeedConditionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        // The topic where the resource change notifications will be sent.
        var feedOutput = new Topic("feedOutput", TopicArgs.builder()
            .project("my-project-name")
            .name("network-updates")
            .build());

        // Create a feed that sends notifications about network resource updates.
        var projectFeed = new ProjectFeed("projectFeed", ProjectFeedArgs.builder()
            .project("my-project-name")
            .feedId("network-updates")
            .contentType("RESOURCE")
            .assetTypes(            
                "compute.googleapis.com/Subnetwork",
                "compute.googleapis.com/Network")
            .feedOutputConfig(ProjectFeedFeedOutputConfigArgs.builder()
                .pubsubDestination(ProjectFeedFeedOutputConfigPubsubDestinationArgs.builder()
                    .topic(feedOutput.id())
                    .build())
                .build())
            .condition(ProjectFeedConditionArgs.builder()
                .expression("""
!temporal_asset.deleted &&
temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
                """)
                .title("created")
                .description("Send notifications on creation events")
                .build())
            .build());

        // Find the project number of the project whose identity will be used for sending
        // the asset change notifications.
        final var project = OrganizationsFunctions.getProject(GetProjectArgs.builder()
            .projectId("my-project-name")
            .build());

    }
}
```
```yaml
resources:
  # Create a feed that sends notifications about network resource updates.
  projectFeed:
    type: gcp:cloudasset:ProjectFeed
    name: project_feed
    properties:
      project: my-project-name
      feedId: network-updates
      contentType: RESOURCE
      assetTypes:
        - compute.googleapis.com/Subnetwork
        - compute.googleapis.com/Network
      feedOutputConfig:
        pubsubDestination:
          topic: ${feedOutput.id}
      condition:
        expression: |
          !temporal_asset.deleted &&
          temporal_asset.prior_asset_state == google.cloud.asset.v1.TemporalAsset.PriorAssetState.DOES_NOT_EXIST
        title: created
        description: Send notifications on creation events
  # The topic where the resource change notifications will be sent.
  feedOutput:
    type: gcp:pubsub:Topic
    name: feed_output
    properties:
      project: my-project-name
      name: network-updates
variables:
  # Find the project number of the project whose identity will be used for sending
  # the asset change notifications.
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments:
        projectId: my-project-name
```
<!--End PulumiCodeChooser -->

## Import

ProjectFeed can be imported using any of these accepted formats:

* `projects/{{project}}/feeds/{{name}}`

* `{{project}}/{{name}}`

* `{{name}}`

When using the `pulumi import` command, ProjectFeed can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudasset/projectFeed:ProjectFeed default projects/{{project}}/feeds/{{name}}
```

```sh
$ pulumi import gcp:cloudasset/projectFeed:ProjectFeed default {{project}}/{{name}}
```

```sh
$ pulumi import gcp:cloudasset/projectFeed:ProjectFeed default {{name}}
```

 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
û
billingProjectB" âThe project whose identity will be used when sending messages to the destination pubsub topic. It also specifies the
project for API enablement check, quota, and billing. If not specified, the resource's project will be used.
ƒ
	conditionbB`:^
\

cloudassetProjectFeedCondition8gcp:cloudasset/ProjectFeedCondition:ProjectFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
Û
feedOutputConfigu:s
q

cloudassetProjectFeedFeedOutputConfigFgcp:cloudasset/ProjectFeedFeedOutputConfig:ProjectFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.

projectB" " 

assetNamesB*" ‰A list of the full names of the assets to receive updates. You must specify either or both of assetNames and assetTypes.
Only asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
//compute.googleapis.com/projects/my_project_123/zones/zone1/instances/instance1. See
https://cloud.google.com/apis/design/resourceNames#fullResourceName for more info.
"ý

assetTypesB*" æA list of types of the assets to receive updates. You must specify either or both of assetNames and assetTypes. Only
asset updates matching specified assetNames and assetTypes are exported to the feed. For example:
"compute.googleapis.com/Disk" See https://cloud.google.com/asset-inventory/docs/supported-asset-types for a list of all
supported asset types.
"û
billingProjectB" âThe project whose identity will be used when sending messages to the destination pubsub topic. It also specifies the
project for API enablement check, quota, and billing. If not specified, the resource's project will be used.
"ƒ
	conditionbB`:^
\

cloudassetProjectFeedCondition8gcp:cloudasset/ProjectFeedCondition:ProjectFeedCondition‘A condition which determines whether an asset update should be published. If specified, an asset will be returned only
when the expression evaluates to true. When set, expression field must be a valid CEL expression on a TemporalAsset with
name temporal_asset. Example: a Feed with expression "temporal_asset.deleted == true" will only publish Asset deletions.
Other fields of condition are optional.
"ì
contentTypeB" ÖAsset content type. If not specified, no content but the asset name and type will be returned. Possible values:
["CONTENT_TYPE_UNSPECIFIED", "RESOURCE", "IAM_POLICY", "ORG_POLICY", "OS_INVENTORY", "ACCESS_POLICY"]
"s
feedId" eThis is the client-assigned asset feed identifier and it needs to be unique under a specific parent.
"Û
feedOutputConfigu:s
q

cloudassetProjectFeedFeedOutputConfigFgcp:cloudasset/ProjectFeedFeedOutputConfig:ProjectFeedFeedOutputConfigPOutput configuration for asset feed destination.
Structure is documented below.
"a
name" UThe format will be projects/{projectNumber}/feeds/{client-assigned_feed_identifier}.
"
project" *óö
_

cloudbuildBitbucketServerConfig:gcp:cloudbuild/bitbucketServerConfig:BitbucketServerConfigøÖBitbucketServerConfig represents the configuration for a Bitbucket Server.


To get more information about BitbucketServerConfig, see:

* [API documentation](https://cloud.google.com/build/docs/api/reference/rest/v1/projects.locations.bitbucketServerConfigs)
* How-to Guides
    * [Connect to a Bitbucket Server host](https://cloud.google.com/build/docs/automating-builds/bitbucket/connect-host-bitbucket-server)

## Example Usage

### Cloudbuild Bitbucket Server Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bbs_config = new gcp.cloudbuild.BitbucketServerConfig("bbs-config", {
    configId: "bbs-config",
    location: "us-central1",
    hostUri: "https://bbs.com",
    secrets: {
        adminAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        readAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        webhookSecretVersionName: "projects/myProject/secrets/mybbspat/versions/1",
    },
    username: "test",
    apiKey: "<api-key>",
});
```
```python
import pulumi
import pulumi_gcp as gcp

bbs_config = gcp.cloudbuild.BitbucketServerConfig("bbs-config",
    config_id="bbs-config",
    location="us-central1",
    host_uri="https://bbs.com",
    secrets={
        "admin_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "read_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "webhook_secret_version_name": "projects/myProject/secrets/mybbspat/versions/1",
    },
    username="test",
    api_key="<api-key>")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bbs_config = new Gcp.CloudBuild.BitbucketServerConfig("bbs-config", new()
    {
        ConfigId = "bbs-config",
        Location = "us-central1",
        HostUri = "https://bbs.com",
        Secrets = new Gcp.CloudBuild.Inputs.BitbucketServerConfigSecretsArgs
        {
            AdminAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            ReadAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            WebhookSecretVersionName = "projects/myProject/secrets/mybbspat/versions/1",
        },
        Username = "test",
        ApiKey = "<api-key>",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewBitbucketServerConfig(ctx, "bbs-config", &cloudbuild.BitbucketServerConfigArgs{
			ConfigId: pulumi.String("bbs-config"),
			Location: pulumi.String("us-central1"),
			HostUri:  pulumi.String("https://bbs.com"),
			Secrets: &cloudbuild.BitbucketServerConfigSecretsArgs{
				AdminAccessTokenVersionName: pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				ReadAccessTokenVersionName:  pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				WebhookSecretVersionName:    pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
			},
			Username: pulumi.String("test"),
			ApiKey:   pulumi.String("<api-key>"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfig;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.BitbucketServerConfigSecretsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bbs_config = new BitbucketServerConfig("bbs-config", BitbucketServerConfigArgs.builder()
            .configId("bbs-config")
            .location("us-central1")
            .hostUri("https://bbs.com")
            .secrets(BitbucketServerConfigSecretsArgs.builder()
                .adminAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .readAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .webhookSecretVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .build())
            .username("test")
            .apiKey("<api-key>")
            .build());

    }
}
```
```yaml
resources:
  bbs-config:
    type: gcp:cloudbuild:BitbucketServerConfig
    properties:
      configId: bbs-config
      location: us-central1
      hostUri: https://bbs.com
      secrets:
        adminAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        readAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        webhookSecretVersionName: projects/myProject/secrets/mybbspat/versions/1
      username: test
      apiKey: <api-key>
```
<!--End PulumiCodeChooser -->
### Cloudbuild Bitbucket Server Config Repositories


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bbs_config_with_repos = new gcp.cloudbuild.BitbucketServerConfig("bbs-config-with-repos", {
    configId: "bbs-config",
    location: "us-central1",
    hostUri: "https://bbs.com",
    secrets: {
        adminAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        readAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        webhookSecretVersionName: "projects/myProject/secrets/mybbspat/versions/1",
    },
    username: "test",
    apiKey: "<api-key>",
    connectedRepositories: [
        {
            projectKey: "DEV",
            repoSlug: "repo1",
        },
        {
            projectKey: "PROD",
            repoSlug: "repo1",
        },
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

bbs_config_with_repos = gcp.cloudbuild.BitbucketServerConfig("bbs-config-with-repos",
    config_id="bbs-config",
    location="us-central1",
    host_uri="https://bbs.com",
    secrets={
        "admin_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "read_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "webhook_secret_version_name": "projects/myProject/secrets/mybbspat/versions/1",
    },
    username="test",
    api_key="<api-key>",
    connected_repositories=[
        {
            "project_key": "DEV",
            "repo_slug": "repo1",
        },
        {
            "project_key": "PROD",
            "repo_slug": "repo1",
        },
    ])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bbs_config_with_repos = new Gcp.CloudBuild.BitbucketServerConfig("bbs-config-with-repos", new()
    {
        ConfigId = "bbs-config",
        Location = "us-central1",
        HostUri = "https://bbs.com",
        Secrets = new Gcp.CloudBuild.Inputs.BitbucketServerConfigSecretsArgs
        {
            AdminAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            ReadAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            WebhookSecretVersionName = "projects/myProject/secrets/mybbspat/versions/1",
        },
        Username = "test",
        ApiKey = "<api-key>",
        ConnectedRepositories = new[]
        {
            new Gcp.CloudBuild.Inputs.BitbucketServerConfigConnectedRepositoryArgs
            {
                ProjectKey = "DEV",
                RepoSlug = "repo1",
            },
            new Gcp.CloudBuild.Inputs.BitbucketServerConfigConnectedRepositoryArgs
            {
                ProjectKey = "PROD",
                RepoSlug = "repo1",
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewBitbucketServerConfig(ctx, "bbs-config-with-repos", &cloudbuild.BitbucketServerConfigArgs{
			ConfigId: pulumi.String("bbs-config"),
			Location: pulumi.String("us-central1"),
			HostUri:  pulumi.String("https://bbs.com"),
			Secrets: &cloudbuild.BitbucketServerConfigSecretsArgs{
				AdminAccessTokenVersionName: pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				ReadAccessTokenVersionName:  pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				WebhookSecretVersionName:    pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
			},
			Username: pulumi.String("test"),
			ApiKey:   pulumi.String("<api-key>"),
			ConnectedRepositories: cloudbuild.BitbucketServerConfigConnectedRepositoryArray{
				&cloudbuild.BitbucketServerConfigConnectedRepositoryArgs{
					ProjectKey: pulumi.String("DEV"),
					RepoSlug:   pulumi.String("repo1"),
				},
				&cloudbuild.BitbucketServerConfigConnectedRepositoryArgs{
					ProjectKey: pulumi.String("PROD"),
					RepoSlug:   pulumi.String("repo1"),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfig;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.BitbucketServerConfigSecretsArgs;
import com.pulumi.gcp.cloudbuild.inputs.BitbucketServerConfigConnectedRepositoryArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bbs_config_with_repos = new BitbucketServerConfig("bbs-config-with-repos", BitbucketServerConfigArgs.builder()
            .configId("bbs-config")
            .location("us-central1")
            .hostUri("https://bbs.com")
            .secrets(BitbucketServerConfigSecretsArgs.builder()
                .adminAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .readAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .webhookSecretVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .build())
            .username("test")
            .apiKey("<api-key>")
            .connectedRepositories(            
                BitbucketServerConfigConnectedRepositoryArgs.builder()
                    .projectKey("DEV")
                    .repoSlug("repo1")
                    .build(),
                BitbucketServerConfigConnectedRepositoryArgs.builder()
                    .projectKey("PROD")
                    .repoSlug("repo1")
                    .build())
            .build());

    }
}
```
```yaml
resources:
  bbs-config-with-repos:
    type: gcp:cloudbuild:BitbucketServerConfig
    properties:
      configId: bbs-config
      location: us-central1
      hostUri: https://bbs.com
      secrets:
        adminAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        readAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        webhookSecretVersionName: projects/myProject/secrets/mybbspat/versions/1
      username: test
      apiKey: <api-key>
      connectedRepositories:
        - projectKey: DEV
          repoSlug: repo1
        - projectKey: PROD
          repoSlug: repo1
```
<!--End PulumiCodeChooser -->
### Cloudbuild Bitbucket Server Config Peered Network


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const project = gcp.organizations.getProject({});
const servicenetworking = new gcp.projects.Service("servicenetworking", {
    service: "servicenetworking.googleapis.com",
    disableOnDestroy: false,
});
const vpcNetwork = new gcp.compute.Network("vpc_network", {name: "vpc-network"}, {
    dependsOn: [servicenetworking],
});
const privateIpAlloc = new gcp.compute.GlobalAddress("private_ip_alloc", {
    name: "private-ip-alloc",
    purpose: "VPC_PEERING",
    addressType: "INTERNAL",
    prefixLength: 16,
    network: vpcNetwork.id,
});
const _default = new gcp.servicenetworking.Connection("default", {
    network: vpcNetwork.id,
    service: "servicenetworking.googleapis.com",
    reservedPeeringRanges: [privateIpAlloc.name],
}, {
    dependsOn: [servicenetworking],
});
const bbs_config_with_peered_network = new gcp.cloudbuild.BitbucketServerConfig("bbs-config-with-peered-network", {
    configId: "bbs-config",
    location: "us-central1",
    hostUri: "https://bbs.com",
    secrets: {
        adminAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        readAccessTokenVersionName: "projects/myProject/secrets/mybbspat/versions/1",
        webhookSecretVersionName: "projects/myProject/secrets/mybbspat/versions/1",
    },
    username: "test",
    apiKey: "<api-key>",
    peeredNetwork: pulumi.all([vpcNetwork.id, project, project]).apply(([id, project, project1]) => std.replaceOutput({
        text: id,
        search: project.name,
        replace: project1.number,
    })).apply(invoke => invoke.result),
    sslCa: `-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
`,
}, {
    dependsOn: [_default],
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

project = gcp.organizations.get_project()
servicenetworking = gcp.projects.Service("servicenetworking",
    service="servicenetworking.googleapis.com",
    disable_on_destroy=False)
vpc_network = gcp.compute.Network("vpc_network", name="vpc-network",
opts = pulumi.ResourceOptions(depends_on=[servicenetworking]))
private_ip_alloc = gcp.compute.GlobalAddress("private_ip_alloc",
    name="private-ip-alloc",
    purpose="VPC_PEERING",
    address_type="INTERNAL",
    prefix_length=16,
    network=vpc_network.id)
default = gcp.servicenetworking.Connection("default",
    network=vpc_network.id,
    service="servicenetworking.googleapis.com",
    reserved_peering_ranges=[private_ip_alloc.name],
    opts = pulumi.ResourceOptions(depends_on=[servicenetworking]))
bbs_config_with_peered_network = gcp.cloudbuild.BitbucketServerConfig("bbs-config-with-peered-network",
    config_id="bbs-config",
    location="us-central1",
    host_uri="https://bbs.com",
    secrets={
        "admin_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "read_access_token_version_name": "projects/myProject/secrets/mybbspat/versions/1",
        "webhook_secret_version_name": "projects/myProject/secrets/mybbspat/versions/1",
    },
    username="test",
    api_key="<api-key>",
    peered_network=vpc_network.id.apply(lambda id: std.replace_output(text=id,
        search=project.name,
        replace=project.number)).apply(lambda invoke: invoke.result),
    ssl_ca="""-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
""",
    opts = pulumi.ResourceOptions(depends_on=[default]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var project = Gcp.Organizations.GetProject.Invoke();

    var servicenetworking = new Gcp.Projects.Service("servicenetworking", new()
    {
        ServiceName = "servicenetworking.googleapis.com",
        DisableOnDestroy = false,
    });

    var vpcNetwork = new Gcp.Compute.Network("vpc_network", new()
    {
        Name = "vpc-network",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            servicenetworking,
        },
    });

    var privateIpAlloc = new Gcp.Compute.GlobalAddress("private_ip_alloc", new()
    {
        Name = "private-ip-alloc",
        Purpose = "VPC_PEERING",
        AddressType = "INTERNAL",
        PrefixLength = 16,
        Network = vpcNetwork.Id,
    });

    var @default = new Gcp.ServiceNetworking.Connection("default", new()
    {
        Network = vpcNetwork.Id,
        Service = "servicenetworking.googleapis.com",
        ReservedPeeringRanges = new[]
        {
            privateIpAlloc.Name,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            servicenetworking,
        },
    });

    var bbs_config_with_peered_network = new Gcp.CloudBuild.BitbucketServerConfig("bbs-config-with-peered-network", new()
    {
        ConfigId = "bbs-config",
        Location = "us-central1",
        HostUri = "https://bbs.com",
        Secrets = new Gcp.CloudBuild.Inputs.BitbucketServerConfigSecretsArgs
        {
            AdminAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            ReadAccessTokenVersionName = "projects/myProject/secrets/mybbspat/versions/1",
            WebhookSecretVersionName = "projects/myProject/secrets/mybbspat/versions/1",
        },
        Username = "test",
        ApiKey = "<api-key>",
        PeeredNetwork = Output.Tuple(vpcNetwork.Id, project, project).Apply(values =>
        {
            var id = values.Item1;
            var project = values.Item2;
            var project1 = values.Item3;
            return Std.Replace.Invoke(new()
            {
                Text = id,
                Search = project.Apply(getProjectResult => getProjectResult.Name),
                Replace = project1.Number,
            });
        }).Apply(invoke => invoke.Result),
        SslCa = @"-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            @default,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/servicenetworking"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project, err := organizations.LookupProject(ctx, &organizations.LookupProjectArgs{}, nil)
		if err != nil {
			return err
		}
		servicenetworking, err := projects.NewService(ctx, "servicenetworking", &projects.ServiceArgs{
			Service:          pulumi.String("servicenetworking.googleapis.com"),
			DisableOnDestroy: pulumi.Bool(false),
		})
		if err != nil {
			return err
		}
		vpcNetwork, err := compute.NewNetwork(ctx, "vpc_network", &compute.NetworkArgs{
			Name: pulumi.String("vpc-network"),
		}, pulumi.DependsOn([]pulumi.Resource{
			servicenetworking,
		}))
		if err != nil {
			return err
		}
		privateIpAlloc, err := compute.NewGlobalAddress(ctx, "private_ip_alloc", &compute.GlobalAddressArgs{
			Name:         pulumi.String("private-ip-alloc"),
			Purpose:      pulumi.String("VPC_PEERING"),
			AddressType:  pulumi.String("INTERNAL"),
			PrefixLength: pulumi.Int(16),
			Network:      vpcNetwork.ID(),
		})
		if err != nil {
			return err
		}
		_, err = servicenetworking.NewConnection(ctx, "default", &servicenetworking.ConnectionArgs{
			Network: vpcNetwork.ID(),
			Service: pulumi.String("servicenetworking.googleapis.com"),
			ReservedPeeringRanges: pulumi.StringArray{
				privateIpAlloc.Name,
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			servicenetworking,
		}))
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewBitbucketServerConfig(ctx, "bbs-config-with-peered-network", &cloudbuild.BitbucketServerConfigArgs{
			ConfigId: pulumi.String("bbs-config"),
			Location: pulumi.String("us-central1"),
			HostUri:  pulumi.String("https://bbs.com"),
			Secrets: &cloudbuild.BitbucketServerConfigSecretsArgs{
				AdminAccessTokenVersionName: pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				ReadAccessTokenVersionName:  pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
				WebhookSecretVersionName:    pulumi.String("projects/myProject/secrets/mybbspat/versions/1"),
			},
			Username: pulumi.String("test"),
			ApiKey:   pulumi.String("<api-key>"),
			PeeredNetwork: pulumi.String(vpcNetwork.ID().ApplyT(func(id string) (std.ReplaceResult, error) {
				return std.ReplaceResult(interface{}(std.ReplaceOutput(ctx, std.ReplaceOutputArgs{
					Text:    id,
					Search:  project.Name,
					Replace: project.Number,
				}, nil))), nil
			}).(std.ReplaceResultOutput).ApplyT(func(invoke std.ReplaceResult) (*string, error) {
				return invoke.Result, nil
			}).(pulumi.StringPtrOutput)),
			SslCa: pulumi.String("-----BEGIN CERTIFICATE-----\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n-----END CERTIFICATE-----\n"),
		}, pulumi.DependsOn([]pulumi.Resource{
			_default,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import com.pulumi.gcp.projects.Service;
import com.pulumi.gcp.projects.ServiceArgs;
import com.pulumi.gcp.compute.Network;
import com.pulumi.gcp.compute.NetworkArgs;
import com.pulumi.gcp.compute.GlobalAddress;
import com.pulumi.gcp.compute.GlobalAddressArgs;
import com.pulumi.gcp.servicenetworking.Connection;
import com.pulumi.gcp.servicenetworking.ConnectionArgs;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfig;
import com.pulumi.gcp.cloudbuild.BitbucketServerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.BitbucketServerConfigSecretsArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = OrganizationsFunctions.getProject();

        var servicenetworking = new Service("servicenetworking", ServiceArgs.builder()
            .service("servicenetworking.googleapis.com")
            .disableOnDestroy(false)
            .build());

        var vpcNetwork = new Network("vpcNetwork", NetworkArgs.builder()
            .name("vpc-network")
            .build(), CustomResourceOptions.builder()
                .dependsOn(servicenetworking)
                .build());

        var privateIpAlloc = new GlobalAddress("privateIpAlloc", GlobalAddressArgs.builder()
            .name("private-ip-alloc")
            .purpose("VPC_PEERING")
            .addressType("INTERNAL")
            .prefixLength(16)
            .network(vpcNetwork.id())
            .build());

        var default_ = new Connection("default", ConnectionArgs.builder()
            .network(vpcNetwork.id())
            .service("servicenetworking.googleapis.com")
            .reservedPeeringRanges(privateIpAlloc.name())
            .build(), CustomResourceOptions.builder()
                .dependsOn(servicenetworking)
                .build());

        var bbs_config_with_peered_network = new BitbucketServerConfig("bbs-config-with-peered-network", BitbucketServerConfigArgs.builder()
            .configId("bbs-config")
            .location("us-central1")
            .hostUri("https://bbs.com")
            .secrets(BitbucketServerConfigSecretsArgs.builder()
                .adminAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .readAccessTokenVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .webhookSecretVersionName("projects/myProject/secrets/mybbspat/versions/1")
                .build())
            .username("test")
            .apiKey("<api-key>")
            .peeredNetwork(vpcNetwork.id().applyValue(id -> StdFunctions.replace()).applyValue(invoke -> invoke.result()))
            .sslCa("""
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
            """)
            .build(), CustomResourceOptions.builder()
                .dependsOn(default_)
                .build());

    }
}
```
```yaml
resources:
  servicenetworking:
    type: gcp:projects:Service
    properties:
      service: servicenetworking.googleapis.com
      disableOnDestroy: false
  vpcNetwork:
    type: gcp:compute:Network
    name: vpc_network
    properties:
      name: vpc-network
    options:
      dependsOn:
        - ${servicenetworking}
  privateIpAlloc:
    type: gcp:compute:GlobalAddress
    name: private_ip_alloc
    properties:
      name: private-ip-alloc
      purpose: VPC_PEERING
      addressType: INTERNAL
      prefixLength: 16
      network: ${vpcNetwork.id}
  default:
    type: gcp:servicenetworking:Connection
    properties:
      network: ${vpcNetwork.id}
      service: servicenetworking.googleapis.com
      reservedPeeringRanges:
        - ${privateIpAlloc.name}
    options:
      dependsOn:
        - ${servicenetworking}
  bbs-config-with-peered-network:
    type: gcp:cloudbuild:BitbucketServerConfig
    properties:
      configId: bbs-config
      location: us-central1
      hostUri: https://bbs.com
      secrets:
        adminAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        readAccessTokenVersionName: projects/myProject/secrets/mybbspat/versions/1
        webhookSecretVersionName: projects/myProject/secrets/mybbspat/versions/1
      username: test
      apiKey: <api-key>
      peeredNetwork:
        fn::invoke:
          function: std:replace
          arguments:
            text: ${vpcNetwork.id}
            search: ${project.name}
            replace: ${project.number}
          return: result
      sslCa: |
        -----BEGIN CERTIFICATE-----
        -----END CERTIFICATE-----
        -----BEGIN CERTIFICATE-----
        -----END CERTIFICATE-----
    options:
      dependsOn:
        - ${default}
variables:
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments: {}
```
<!--End PulumiCodeChooser -->

## Import

BitbucketServerConfig can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/bitbucketServerConfigs/{{config_id}}`

* `{{project}}/{{location}}/{{config_id}}`

* `{{location}}/{{config_id}}`

When using the `pulumi import` command, BitbucketServerConfig can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudbuild/bitbucketServerConfig:BitbucketServerConfig default projects/{{project}}/locations/{{location}}/bitbucketServerConfigs/{{config_id}}
```

```sh
$ pulumi import gcp:cloudbuild/bitbucketServerConfig:BitbucketServerConfig default {{project}}/{{location}}/{{config_id}}
```

```sh
$ pulumi import gcp:cloudbuild/bitbucketServerConfig:BitbucketServerConfig default {{location}}/{{config_id}}
```

¾
apiKey" ¯Immutable. API Key that will be attached to webhook. Once this field has been set, it cannot be changed.
Changing this field will result in deleting/ recreating the resource.
’
configId" The ID to use for the BitbucketServerConfig, which will become the final component of the BitbucketServerConfig's resource name.
ù
connectedRepositories¤B¡*ž:›
˜

cloudbuild(BitbucketServerConfigConnectedRepository`gcp:cloudbuild/BitbucketServerConfigConnectedRepository:BitbucketServerConfigConnectedRepository9Connected Bitbucket Server repositories for this config.
¼
hostUri" ¬Immutable. The URI of the Bitbucket Server host. Once this field has been set, it cannot be changed.
If you need to change it, please create another BitbucketServerConfig.
>
location" .The location of this bitbucket server config.
É
peeredNetworkB" ±The network to be used when reaching out to the Bitbucket Server instance. The VPC network must be enabled for private
service connection. This should be set if the Bitbucket Server instance is hosted on-premises and not reachable by
public internet. If this field is left empty, no network peering will occur and calls to the Bitbucket Server instance
will be made over the public internet. Must be in the format projects/{project}/global/networks/{network}, where
{project} is a project number or id and {network} is the name of a VPC network in the project.

projectB" Ñ
secretsx:v
t

cloudbuildBitbucketServerConfigSecretsHgcp:cloudbuild/BitbucketServerConfigSecrets:BitbucketServerConfigSecretsLSecret Manager secrets needed by the config.
Structure is documented below.
ž
sslCaB" ŽSSL certificate to use for requests to Bitbucket Server. The format should be PEM format but the extension can be one of
.pem, .cer, or .crt.
R
username" BUsername of the account Cloud Build will use on Bitbucket Server.
"¾
apiKey" ¯Immutable. API Key that will be attached to webhook. Once this field has been set, it cannot be changed.
Changing this field will result in deleting/ recreating the resource.
"’
configId" The ID to use for the BitbucketServerConfig, which will become the final component of the BitbucketServerConfig's resource name.
"ù
connectedRepositories¤B¡*ž:›
˜

cloudbuild(BitbucketServerConfigConnectedRepository`gcp:cloudbuild/BitbucketServerConfigConnectedRepository:BitbucketServerConfigConnectedRepository9Connected Bitbucket Server repositories for this config.
"¼
hostUri" ¬Immutable. The URI of the Bitbucket Server host. Once this field has been set, it cannot be changed.
If you need to change it, please create another BitbucketServerConfig.
">
location" .The location of this bitbucket server config.
".
name" "The resource name for the config.
"É
peeredNetworkB" ±The network to be used when reaching out to the Bitbucket Server instance. The VPC network must be enabled for private
service connection. This should be set if the Bitbucket Server instance is hosted on-premises and not reachable by
public internet. If this field is left empty, no network peering will occur and calls to the Bitbucket Server instance
will be made over the public internet. Must be in the format projects/{project}/global/networks/{network}, where
{project} is a project number or id and {network} is the name of a VPC network in the project.
"
project" "Ñ
secretsx:v
t

cloudbuildBitbucketServerConfigSecretsHgcp:cloudbuild/BitbucketServerConfigSecrets:BitbucketServerConfigSecretsLSecret Manager secrets needed by the config.
Structure is documented below.
"ž
sslCaB" ŽSSL certificate to use for requests to Bitbucket Server. The format should be PEM format but the extension can be one of
.pem, .cer, or .crt.
"R
username" BUsername of the account Cloud Build will use on Bitbucket Server.
"x

webhookKey" fOutput only. UUID included in webhook requests. The UUID is used to look up the corresponding config.
*÷ý	
5

cloudbuildTriggergcp:cloudbuild/trigger:Triggerš	Configuration for an automated build in response to source repository changes.


To get more information about Trigger, see:

* [API documentation](https://cloud.google.com/cloud-build/docs/api/reference/rest/v1/projects.triggers)
* How-to Guides
    * [Automating builds using build triggers](https://cloud.google.com/cloud-build/docs/running-builds/automate-builds)

> **Note:** You can retrieve the email of the Cloud Build Service Account used in jobs by using the `gcp.projects.ServiceIdentity` resource.

## Example Usage

### Cloudbuild Trigger Filename


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const filename_trigger = new gcp.cloudbuild.Trigger("filename-trigger", {
    location: "us-central1",
    triggerTemplate: {
        branchName: "main",
        repoName: "my-repo",
    },
    substitutions: {
        _FOO: "bar",
        _BAZ: "qux",
    },
    filename: "cloudbuild.yaml",
});
```
```python
import pulumi
import pulumi_gcp as gcp

filename_trigger = gcp.cloudbuild.Trigger("filename-trigger",
    location="us-central1",
    trigger_template={
        "branch_name": "main",
        "repo_name": "my-repo",
    },
    substitutions={
        "_FOO": "bar",
        "_BAZ": "qux",
    },
    filename="cloudbuild.yaml")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var filename_trigger = new Gcp.CloudBuild.Trigger("filename-trigger", new()
    {
        Location = "us-central1",
        TriggerTemplate = new Gcp.CloudBuild.Inputs.TriggerTriggerTemplateArgs
        {
            BranchName = "main",
            RepoName = "my-repo",
        },
        Substitutions = 
        {
            { "_FOO", "bar" },
            { "_BAZ", "qux" },
        },
        Filename = "cloudbuild.yaml",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "filename-trigger", &cloudbuild.TriggerArgs{
			Location: pulumi.String("us-central1"),
			TriggerTemplate: &cloudbuild.TriggerTriggerTemplateArgs{
				BranchName: pulumi.String("main"),
				RepoName:   pulumi.String("my-repo"),
			},
			Substitutions: pulumi.StringMap{
				"_FOO": pulumi.String("bar"),
				"_BAZ": pulumi.String("qux"),
			},
			Filename: pulumi.String("cloudbuild.yaml"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerTriggerTemplateArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var filename_trigger = new Trigger("filename-trigger", TriggerArgs.builder()
            .location("us-central1")
            .triggerTemplate(TriggerTriggerTemplateArgs.builder()
                .branchName("main")
                .repoName("my-repo")
                .build())
            .substitutions(Map.ofEntries(
                Map.entry("_FOO", "bar"),
                Map.entry("_BAZ", "qux")
            ))
            .filename("cloudbuild.yaml")
            .build());

    }
}
```
```yaml
resources:
  filename-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      location: us-central1
      triggerTemplate:
        branchName: main
        repoName: my-repo
      substitutions:
        _FOO: bar
        _BAZ: qux
      filename: cloudbuild.yaml
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Build


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const build_trigger = new gcp.cloudbuild.Trigger("build-trigger", {
    name: "my-trigger",
    location: "global",
    triggerTemplate: {
        branchName: "main",
        repoName: "my-repo",
    },
    build: {
        steps: [
            {
                name: "gcr.io/cloud-builders/gsutil",
                args: [
                    "cp",
                    "gs://mybucket/remotefile.zip",
                    "localfile.zip",
                ],
                timeout: "120s",
                secretEnvs: ["MY_SECRET"],
            },
            {
                name: "ubuntu",
                script: "echo hello",
            },
        ],
        source: {
            storageSource: {
                bucket: "mybucket",
                object: "source_code.tar.gz",
            },
        },
        tags: [
            "build",
            "newFeature",
        ],
        substitutions: {
            _FOO: "bar",
            _BAZ: "qux",
        },
        queueTtl: "20s",
        logsBucket: "gs://mybucket/logs",
        secrets: [{
            kmsKeyName: "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            secretEnv: {
                PASSWORD: "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        availableSecrets: {
            secretManagers: [{
                env: "MY_SECRET",
                versionName: "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        artifacts: {
            images: ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            objects: {
                location: "gs://bucket/path/to/somewhere/",
                paths: ["path"],
            },
            npmPackages: [{
                packagePath: "package.json",
                repository: "https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo",
            }],
            pythonPackages: [{
                paths: ["dist/*"],
                repository: "https://us-west1-python.pkg.dev/myProject/quickstart-python-repo",
            }],
            mavenArtifacts: [{
                repository: "https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo",
                path: "/workspace/my-app/target/my-app-1.0.SNAPSHOT.jar",
                artifactId: "my-app",
                groupId: "com.mycompany.app",
                version: "1.0",
            }],
        },
        options: {
            sourceProvenanceHashes: ["MD5"],
            requestedVerifyOption: "VERIFIED",
            machineType: "N1_HIGHCPU_8",
            diskSizeGb: 100,
            substitutionOption: "ALLOW_LOOSE",
            dynamicSubstitutions: true,
            logStreamingOption: "STREAM_OFF",
            workerPool: "pool",
            logging: "LEGACY",
            envs: ["ekey = evalue"],
            secretEnvs: ["secretenv = svalue"],
            volumes: [{
                name: "v1",
                path: "v1",
            }],
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

build_trigger = gcp.cloudbuild.Trigger("build-trigger",
    name="my-trigger",
    location="global",
    trigger_template={
        "branch_name": "main",
        "repo_name": "my-repo",
    },
    build={
        "steps": [
            {
                "name": "gcr.io/cloud-builders/gsutil",
                "args": [
                    "cp",
                    "gs://mybucket/remotefile.zip",
                    "localfile.zip",
                ],
                "timeout": "120s",
                "secret_envs": ["MY_SECRET"],
            },
            {
                "name": "ubuntu",
                "script": "echo hello",
            },
        ],
        "source": {
            "storage_source": {
                "bucket": "mybucket",
                "object": "source_code.tar.gz",
            },
        },
        "tags": [
            "build",
            "newFeature",
        ],
        "substitutions": {
            "_FOO": "bar",
            "_BAZ": "qux",
        },
        "queue_ttl": "20s",
        "logs_bucket": "gs://mybucket/logs",
        "secrets": [{
            "kms_key_name": "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            "secret_env": {
                "PASSWORD": "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        "available_secrets": {
            "secret_managers": [{
                "env": "MY_SECRET",
                "version_name": "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        "artifacts": {
            "images": ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            "objects": {
                "location": "gs://bucket/path/to/somewhere/",
                "paths": ["path"],
            },
            "npm_packages": [{
                "package_path": "package.json",
                "repository": "https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo",
            }],
            "python_packages": [{
                "paths": ["dist/*"],
                "repository": "https://us-west1-python.pkg.dev/myProject/quickstart-python-repo",
            }],
            "maven_artifacts": [{
                "repository": "https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo",
                "path": "/workspace/my-app/target/my-app-1.0.SNAPSHOT.jar",
                "artifact_id": "my-app",
                "group_id": "com.mycompany.app",
                "version": "1.0",
            }],
        },
        "options": {
            "source_provenance_hashes": ["MD5"],
            "requested_verify_option": "VERIFIED",
            "machine_type": "N1_HIGHCPU_8",
            "disk_size_gb": 100,
            "substitution_option": "ALLOW_LOOSE",
            "dynamic_substitutions": True,
            "log_streaming_option": "STREAM_OFF",
            "worker_pool": "pool",
            "logging": "LEGACY",
            "envs": ["ekey = evalue"],
            "secret_envs": ["secretenv = svalue"],
            "volumes": [{
                "name": "v1",
                "path": "v1",
            }],
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var build_trigger = new Gcp.CloudBuild.Trigger("build-trigger", new()
    {
        Name = "my-trigger",
        Location = "global",
        TriggerTemplate = new Gcp.CloudBuild.Inputs.TriggerTriggerTemplateArgs
        {
            BranchName = "main",
            RepoName = "my-repo",
        },
        Build = new Gcp.CloudBuild.Inputs.TriggerBuildArgs
        {
            Steps = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildStepArgs
                {
                    Name = "gcr.io/cloud-builders/gsutil",
                    Args = new[]
                    {
                        "cp",
                        "gs://mybucket/remotefile.zip",
                        "localfile.zip",
                    },
                    Timeout = "120s",
                    SecretEnvs = new[]
                    {
                        "MY_SECRET",
                    },
                },
                new Gcp.CloudBuild.Inputs.TriggerBuildStepArgs
                {
                    Name = "ubuntu",
                    Script = "echo hello",
                },
            },
            Source = new Gcp.CloudBuild.Inputs.TriggerBuildSourceArgs
            {
                StorageSource = new Gcp.CloudBuild.Inputs.TriggerBuildSourceStorageSourceArgs
                {
                    Bucket = "mybucket",
                    Object = "source_code.tar.gz",
                },
            },
            Tags = new[]
            {
                "build",
                "newFeature",
            },
            Substitutions = 
            {
                { "_FOO", "bar" },
                { "_BAZ", "qux" },
            },
            QueueTtl = "20s",
            LogsBucket = "gs://mybucket/logs",
            Secrets = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildSecretArgs
                {
                    KmsKeyName = "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
                    SecretEnv = 
                    {
                        { "PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg==" },
                    },
                },
            },
            AvailableSecrets = new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsArgs
            {
                SecretManagers = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsSecretManagerArgs
                    {
                        Env = "MY_SECRET",
                        VersionName = "projects/myProject/secrets/mySecret/versions/latest",
                    },
                },
            },
            Artifacts = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsArgs
            {
                Images = new[]
                {
                    "gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA",
                },
                Objects = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsObjectsArgs
                {
                    Location = "gs://bucket/path/to/somewhere/",
                    Paths = new[]
                    {
                        "path",
                    },
                },
                NpmPackages = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsNpmPackageArgs
                    {
                        PackagePath = "package.json",
                        Repository = "https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo",
                    },
                },
                PythonPackages = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsPythonPackageArgs
                    {
                        Paths = new[]
                        {
                            "dist/*",
                        },
                        Repository = "https://us-west1-python.pkg.dev/myProject/quickstart-python-repo",
                    },
                },
                MavenArtifacts = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsMavenArtifactArgs
                    {
                        Repository = "https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo",
                        Path = "/workspace/my-app/target/my-app-1.0.SNAPSHOT.jar",
                        ArtifactId = "my-app",
                        GroupId = "com.mycompany.app",
                        Version = "1.0",
                    },
                },
            },
            Options = new Gcp.CloudBuild.Inputs.TriggerBuildOptionsArgs
            {
                SourceProvenanceHashes = new[]
                {
                    "MD5",
                },
                RequestedVerifyOption = "VERIFIED",
                MachineType = "N1_HIGHCPU_8",
                DiskSizeGb = 100,
                SubstitutionOption = "ALLOW_LOOSE",
                DynamicSubstitutions = true,
                LogStreamingOption = "STREAM_OFF",
                WorkerPool = "pool",
                Logging = "LEGACY",
                Envs = new[]
                {
                    "ekey = evalue",
                },
                SecretEnvs = new[]
                {
                    "secretenv = svalue",
                },
                Volumes = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildOptionsVolumeArgs
                    {
                        Name = "v1",
                        Path = "v1",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "build-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("my-trigger"),
			Location: pulumi.String("global"),
			TriggerTemplate: &cloudbuild.TriggerTriggerTemplateArgs{
				BranchName: pulumi.String("main"),
				RepoName:   pulumi.String("my-repo"),
			},
			Build: &cloudbuild.TriggerBuildArgs{
				Steps: cloudbuild.TriggerBuildStepArray{
					&cloudbuild.TriggerBuildStepArgs{
						Name: pulumi.String("gcr.io/cloud-builders/gsutil"),
						Args: pulumi.StringArray{
							pulumi.String("cp"),
							pulumi.String("gs://mybucket/remotefile.zip"),
							pulumi.String("localfile.zip"),
						},
						Timeout: pulumi.String("120s"),
						SecretEnvs: pulumi.StringArray{
							pulumi.String("MY_SECRET"),
						},
					},
					&cloudbuild.TriggerBuildStepArgs{
						Name:   pulumi.String("ubuntu"),
						Script: pulumi.String("echo hello"),
					},
				},
				Source: &cloudbuild.TriggerBuildSourceArgs{
					StorageSource: &cloudbuild.TriggerBuildSourceStorageSourceArgs{
						Bucket: pulumi.String("mybucket"),
						Object: pulumi.String("source_code.tar.gz"),
					},
				},
				Tags: pulumi.StringArray{
					pulumi.String("build"),
					pulumi.String("newFeature"),
				},
				Substitutions: pulumi.StringMap{
					"_FOO": pulumi.String("bar"),
					"_BAZ": pulumi.String("qux"),
				},
				QueueTtl:   pulumi.String("20s"),
				LogsBucket: pulumi.String("gs://mybucket/logs"),
				Secrets: cloudbuild.TriggerBuildSecretArray{
					&cloudbuild.TriggerBuildSecretArgs{
						KmsKeyName: pulumi.String("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name"),
						SecretEnv: pulumi.StringMap{
							"PASSWORD": pulumi.String("ZW5jcnlwdGVkLXBhc3N3b3JkCg=="),
						},
					},
				},
				AvailableSecrets: &cloudbuild.TriggerBuildAvailableSecretsArgs{
					SecretManagers: cloudbuild.TriggerBuildAvailableSecretsSecretManagerArray{
						&cloudbuild.TriggerBuildAvailableSecretsSecretManagerArgs{
							Env:         pulumi.String("MY_SECRET"),
							VersionName: pulumi.String("projects/myProject/secrets/mySecret/versions/latest"),
						},
					},
				},
				Artifacts: &cloudbuild.TriggerBuildArtifactsArgs{
					Images: pulumi.StringArray{
						pulumi.String("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"),
					},
					Objects: &cloudbuild.TriggerBuildArtifactsObjectsArgs{
						Location: pulumi.String("gs://bucket/path/to/somewhere/"),
						Paths: pulumi.StringArray{
							pulumi.String("path"),
						},
					},
					NpmPackages: cloudbuild.TriggerBuildArtifactsNpmPackageArray{
						&cloudbuild.TriggerBuildArtifactsNpmPackageArgs{
							PackagePath: pulumi.String("package.json"),
							Repository:  pulumi.String("https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo"),
						},
					},
					PythonPackages: cloudbuild.TriggerBuildArtifactsPythonPackageArray{
						&cloudbuild.TriggerBuildArtifactsPythonPackageArgs{
							Paths: pulumi.StringArray{
								pulumi.String("dist/*"),
							},
							Repository: pulumi.String("https://us-west1-python.pkg.dev/myProject/quickstart-python-repo"),
						},
					},
					MavenArtifacts: cloudbuild.TriggerBuildArtifactsMavenArtifactArray{
						&cloudbuild.TriggerBuildArtifactsMavenArtifactArgs{
							Repository: pulumi.String("https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo"),
							Path:       pulumi.String("/workspace/my-app/target/my-app-1.0.SNAPSHOT.jar"),
							ArtifactId: pulumi.String("my-app"),
							GroupId:    pulumi.String("com.mycompany.app"),
							Version:    pulumi.String("1.0"),
						},
					},
				},
				Options: &cloudbuild.TriggerBuildOptionsArgs{
					SourceProvenanceHashes: pulumi.StringArray{
						pulumi.String("MD5"),
					},
					RequestedVerifyOption: pulumi.String("VERIFIED"),
					MachineType:           pulumi.String("N1_HIGHCPU_8"),
					DiskSizeGb:            pulumi.Int(100),
					SubstitutionOption:    pulumi.String("ALLOW_LOOSE"),
					DynamicSubstitutions:  pulumi.Bool(true),
					LogStreamingOption:    pulumi.String("STREAM_OFF"),
					WorkerPool:            pulumi.String("pool"),
					Logging:               pulumi.String("LEGACY"),
					Envs: pulumi.StringArray{
						pulumi.String("ekey = evalue"),
					},
					SecretEnvs: pulumi.StringArray{
						pulumi.String("secretenv = svalue"),
					},
					Volumes: cloudbuild.TriggerBuildOptionsVolumeArray{
						&cloudbuild.TriggerBuildOptionsVolumeArgs{
							Name: pulumi.String("v1"),
							Path: pulumi.String("v1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerTriggerTemplateArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceStorageSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildAvailableSecretsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsObjectsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildOptionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var build_trigger = new Trigger("build-trigger", TriggerArgs.builder()
            .name("my-trigger")
            .location("global")
            .triggerTemplate(TriggerTriggerTemplateArgs.builder()
                .branchName("main")
                .repoName("my-repo")
                .build())
            .build(TriggerBuildArgs.builder()
                .steps(                
                    TriggerBuildStepArgs.builder()
                        .name("gcr.io/cloud-builders/gsutil")
                        .args(                        
                            "cp",
                            "gs://mybucket/remotefile.zip",
                            "localfile.zip")
                        .timeout("120s")
                        .secretEnvs("MY_SECRET")
                        .build(),
                    TriggerBuildStepArgs.builder()
                        .name("ubuntu")
                        .script("echo hello")
                        .build())
                .source(TriggerBuildSourceArgs.builder()
                    .storageSource(TriggerBuildSourceStorageSourceArgs.builder()
                        .bucket("mybucket")
                        .object("source_code.tar.gz")
                        .build())
                    .build())
                .tags(                
                    "build",
                    "newFeature")
                .substitutions(Map.ofEntries(
                    Map.entry("_FOO", "bar"),
                    Map.entry("_BAZ", "qux")
                ))
                .queueTtl("20s")
                .logsBucket("gs://mybucket/logs")
                .secrets(TriggerBuildSecretArgs.builder()
                    .kmsKeyName("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name")
                    .secretEnv(Map.of("PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg=="))
                    .build())
                .availableSecrets(TriggerBuildAvailableSecretsArgs.builder()
                    .secretManagers(TriggerBuildAvailableSecretsSecretManagerArgs.builder()
                        .env("MY_SECRET")
                        .versionName("projects/myProject/secrets/mySecret/versions/latest")
                        .build())
                    .build())
                .artifacts(TriggerBuildArtifactsArgs.builder()
                    .images("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA")
                    .objects(TriggerBuildArtifactsObjectsArgs.builder()
                        .location("gs://bucket/path/to/somewhere/")
                        .paths("path")
                        .build())
                    .npmPackages(TriggerBuildArtifactsNpmPackageArgs.builder()
                        .packagePath("package.json")
                        .repository("https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo")
                        .build())
                    .pythonPackages(TriggerBuildArtifactsPythonPackageArgs.builder()
                        .paths("dist/*")
                        .repository("https://us-west1-python.pkg.dev/myProject/quickstart-python-repo")
                        .build())
                    .mavenArtifacts(TriggerBuildArtifactsMavenArtifactArgs.builder()
                        .repository("https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo")
                        .path("/workspace/my-app/target/my-app-1.0.SNAPSHOT.jar")
                        .artifactId("my-app")
                        .groupId("com.mycompany.app")
                        .version("1.0")
                        .build())
                    .build())
                .options(TriggerBuildOptionsArgs.builder()
                    .sourceProvenanceHashes("MD5")
                    .requestedVerifyOption("VERIFIED")
                    .machineType("N1_HIGHCPU_8")
                    .diskSizeGb(100)
                    .substitutionOption("ALLOW_LOOSE")
                    .dynamicSubstitutions(true)
                    .logStreamingOption("STREAM_OFF")
                    .workerPool("pool")
                    .logging("LEGACY")
                    .envs("ekey = evalue")
                    .secretEnvs("secretenv = svalue")
                    .volumes(TriggerBuildOptionsVolumeArgs.builder()
                        .name("v1")
                        .path("v1")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  build-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: my-trigger
      location: global
      triggerTemplate:
        branchName: main
        repoName: my-repo
      build:
        steps:
          - name: gcr.io/cloud-builders/gsutil
            args:
              - cp
              - gs://mybucket/remotefile.zip
              - localfile.zip
            timeout: 120s
            secretEnvs:
              - MY_SECRET
          - name: ubuntu
            script: echo hello
        source:
          storageSource:
            bucket: mybucket
            object: source_code.tar.gz
        tags:
          - build
          - newFeature
        substitutions:
          _FOO: bar
          _BAZ: qux
        queueTtl: 20s
        logsBucket: gs://mybucket/logs
        secrets:
          - kmsKeyName: projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name
            secretEnv:
              PASSWORD: ZW5jcnlwdGVkLXBhc3N3b3JkCg==
        availableSecrets:
          secretManagers:
            - env: MY_SECRET
              versionName: projects/myProject/secrets/mySecret/versions/latest
        artifacts:
          images:
            - gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA
          objects:
            location: gs://bucket/path/to/somewhere/
            paths:
              - path
          npmPackages:
            - packagePath: package.json
              repository: https://us-west1-npm.pkg.dev/myProject/quickstart-nodejs-repo
          pythonPackages:
            - paths:
                - dist/*
              repository: https://us-west1-python.pkg.dev/myProject/quickstart-python-repo
          mavenArtifacts:
            - repository: https://us-west1-maven.pkg.dev/myProject/quickstart-java-repo
              path: /workspace/my-app/target/my-app-1.0.SNAPSHOT.jar
              artifactId: my-app
              groupId: com.mycompany.app
              version: '1.0'
        options:
          sourceProvenanceHashes:
            - MD5
          requestedVerifyOption: VERIFIED
          machineType: N1_HIGHCPU_8
          diskSizeGb: 100
          substitutionOption: ALLOW_LOOSE
          dynamicSubstitutions: true
          logStreamingOption: STREAM_OFF
          workerPool: pool
          logging: LEGACY
          envs:
            - ekey = evalue
          secretEnvs:
            - secretenv = svalue
          volumes:
            - name: v1
              path: v1
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Service Account


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = gcp.organizations.getProject({});
const cloudbuildServiceAccount = new gcp.serviceaccount.Account("cloudbuild_service_account", {accountId: "cloud-sa"});
const actAs = new gcp.projects.IAMMember("act_as", {
    project: project.then(project => project.projectId),
    role: "roles/iam.serviceAccountUser",
    member: pulumi.interpolate`serviceAccount:${cloudbuildServiceAccount.email}`,
});
const logsWriter = new gcp.projects.IAMMember("logs_writer", {
    project: project.then(project => project.projectId),
    role: "roles/logging.logWriter",
    member: pulumi.interpolate`serviceAccount:${cloudbuildServiceAccount.email}`,
});
const service_account_trigger = new gcp.cloudbuild.Trigger("service-account-trigger", {
    triggerTemplate: {
        branchName: "main",
        repoName: "my-repo",
    },
    serviceAccount: cloudbuildServiceAccount.id,
    filename: "cloudbuild.yaml",
}, {
    dependsOn: [
        actAs,
        logsWriter,
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = gcp.organizations.get_project()
cloudbuild_service_account = gcp.serviceaccount.Account("cloudbuild_service_account", account_id="cloud-sa")
act_as = gcp.projects.IAMMember("act_as",
    project=project.project_id,
    role="roles/iam.serviceAccountUser",
    member=cloudbuild_service_account.email.apply(lambda email: f"serviceAccount:{email}"))
logs_writer = gcp.projects.IAMMember("logs_writer",
    project=project.project_id,
    role="roles/logging.logWriter",
    member=cloudbuild_service_account.email.apply(lambda email: f"serviceAccount:{email}"))
service_account_trigger = gcp.cloudbuild.Trigger("service-account-trigger",
    trigger_template={
        "branch_name": "main",
        "repo_name": "my-repo",
    },
    service_account=cloudbuild_service_account.id,
    filename="cloudbuild.yaml",
    opts = pulumi.ResourceOptions(depends_on=[
            act_as,
            logs_writer,
        ]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = Gcp.Organizations.GetProject.Invoke();

    var cloudbuildServiceAccount = new Gcp.ServiceAccount.Account("cloudbuild_service_account", new()
    {
        AccountId = "cloud-sa",
    });

    var actAs = new Gcp.Projects.IAMMember("act_as", new()
    {
        Project = project.Apply(getProjectResult => getProjectResult.ProjectId),
        Role = "roles/iam.serviceAccountUser",
        Member = cloudbuildServiceAccount.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var logsWriter = new Gcp.Projects.IAMMember("logs_writer", new()
    {
        Project = project.Apply(getProjectResult => getProjectResult.ProjectId),
        Role = "roles/logging.logWriter",
        Member = cloudbuildServiceAccount.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var service_account_trigger = new Gcp.CloudBuild.Trigger("service-account-trigger", new()
    {
        TriggerTemplate = new Gcp.CloudBuild.Inputs.TriggerTriggerTemplateArgs
        {
            BranchName = "main",
            RepoName = "my-repo",
        },
        ServiceAccount = cloudbuildServiceAccount.Id,
        Filename = "cloudbuild.yaml",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            actAs,
            logsWriter,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project, err := organizations.LookupProject(ctx, &organizations.LookupProjectArgs{}, nil)
		if err != nil {
			return err
		}
		cloudbuildServiceAccount, err := serviceaccount.NewAccount(ctx, "cloudbuild_service_account", &serviceaccount.AccountArgs{
			AccountId: pulumi.String("cloud-sa"),
		})
		if err != nil {
			return err
		}
		actAs, err := projects.NewIAMMember(ctx, "act_as", &projects.IAMMemberArgs{
			Project: pulumi.String(project.ProjectId),
			Role:    pulumi.String("roles/iam.serviceAccountUser"),
			Member: cloudbuildServiceAccount.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		logsWriter, err := projects.NewIAMMember(ctx, "logs_writer", &projects.IAMMemberArgs{
			Project: pulumi.String(project.ProjectId),
			Role:    pulumi.String("roles/logging.logWriter"),
			Member: cloudbuildServiceAccount.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewTrigger(ctx, "service-account-trigger", &cloudbuild.TriggerArgs{
			TriggerTemplate: &cloudbuild.TriggerTriggerTemplateArgs{
				BranchName: pulumi.String("main"),
				RepoName:   pulumi.String("my-repo"),
			},
			ServiceAccount: cloudbuildServiceAccount.ID(),
			Filename:       pulumi.String("cloudbuild.yaml"),
		}, pulumi.DependsOn([]pulumi.Resource{
			actAs,
			logsWriter,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.projects.IAMMember;
import com.pulumi.gcp.projects.IAMMemberArgs;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerTriggerTemplateArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = OrganizationsFunctions.getProject();

        var cloudbuildServiceAccount = new Account("cloudbuildServiceAccount", AccountArgs.builder()
            .accountId("cloud-sa")
            .build());

        var actAs = new IAMMember("actAs", IAMMemberArgs.builder()
            .project(project.applyValue(getProjectResult -> getProjectResult.projectId()))
            .role("roles/iam.serviceAccountUser")
            .member(cloudbuildServiceAccount.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var logsWriter = new IAMMember("logsWriter", IAMMemberArgs.builder()
            .project(project.applyValue(getProjectResult -> getProjectResult.projectId()))
            .role("roles/logging.logWriter")
            .member(cloudbuildServiceAccount.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var service_account_trigger = new Trigger("service-account-trigger", TriggerArgs.builder()
            .triggerTemplate(TriggerTriggerTemplateArgs.builder()
                .branchName("main")
                .repoName("my-repo")
                .build())
            .serviceAccount(cloudbuildServiceAccount.id())
            .filename("cloudbuild.yaml")
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    actAs,
                    logsWriter)
                .build());

    }
}
```
```yaml
resources:
  service-account-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      triggerTemplate:
        branchName: main
        repoName: my-repo
      serviceAccount: ${cloudbuildServiceAccount.id}
      filename: cloudbuild.yaml
    options:
      dependsOn:
        - ${actAs}
        - ${logsWriter}
  cloudbuildServiceAccount:
    type: gcp:serviceaccount:Account
    name: cloudbuild_service_account
    properties:
      accountId: cloud-sa
  actAs:
    type: gcp:projects:IAMMember
    name: act_as
    properties:
      project: ${project.projectId}
      role: roles/iam.serviceAccountUser
      member: serviceAccount:${cloudbuildServiceAccount.email}
  logsWriter:
    type: gcp:projects:IAMMember
    name: logs_writer
    properties:
      project: ${project.projectId}
      role: roles/logging.logWriter
      member: serviceAccount:${cloudbuildServiceAccount.email}
variables:
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments: {}
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Include Build Logs


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const include_build_logs_trigger = new gcp.cloudbuild.Trigger("include-build-logs-trigger", {
    location: "us-central1",
    name: "include-build-logs-trigger",
    filename: "cloudbuild.yaml",
    github: {
        owner: "hashicorp",
        name: "terraform-provider-google-beta",
        push: {
            branch: "^main$",
        },
    },
    includeBuildLogs: "INCLUDE_BUILD_LOGS_WITH_STATUS",
});
```
```python
import pulumi
import pulumi_gcp as gcp

include_build_logs_trigger = gcp.cloudbuild.Trigger("include-build-logs-trigger",
    location="us-central1",
    name="include-build-logs-trigger",
    filename="cloudbuild.yaml",
    github={
        "owner": "hashicorp",
        "name": "terraform-provider-google-beta",
        "push": {
            "branch": "^main$",
        },
    },
    include_build_logs="INCLUDE_BUILD_LOGS_WITH_STATUS")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var include_build_logs_trigger = new Gcp.CloudBuild.Trigger("include-build-logs-trigger", new()
    {
        Location = "us-central1",
        Name = "include-build-logs-trigger",
        Filename = "cloudbuild.yaml",
        Github = new Gcp.CloudBuild.Inputs.TriggerGithubArgs
        {
            Owner = "hashicorp",
            Name = "terraform-provider-google-beta",
            Push = new Gcp.CloudBuild.Inputs.TriggerGithubPushArgs
            {
                Branch = "^main$",
            },
        },
        IncludeBuildLogs = "INCLUDE_BUILD_LOGS_WITH_STATUS",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "include-build-logs-trigger", &cloudbuild.TriggerArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("include-build-logs-trigger"),
			Filename: pulumi.String("cloudbuild.yaml"),
			Github: &cloudbuild.TriggerGithubArgs{
				Owner: pulumi.String("hashicorp"),
				Name:  pulumi.String("terraform-provider-google-beta"),
				Push: &cloudbuild.TriggerGithubPushArgs{
					Branch: pulumi.String("^main$"),
				},
			},
			IncludeBuildLogs: pulumi.String("INCLUDE_BUILD_LOGS_WITH_STATUS"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGithubArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGithubPushArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var include_build_logs_trigger = new Trigger("include-build-logs-trigger", TriggerArgs.builder()
            .location("us-central1")
            .name("include-build-logs-trigger")
            .filename("cloudbuild.yaml")
            .github(TriggerGithubArgs.builder()
                .owner("hashicorp")
                .name("terraform-provider-google-beta")
                .push(TriggerGithubPushArgs.builder()
                    .branch("^main$")
                    .build())
                .build())
            .includeBuildLogs("INCLUDE_BUILD_LOGS_WITH_STATUS")
            .build());

    }
}
```
```yaml
resources:
  include-build-logs-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      location: us-central1
      name: include-build-logs-trigger
      filename: cloudbuild.yaml
      github:
        owner: hashicorp
        name: terraform-provider-google-beta
        push:
          branch: ^main$
      includeBuildLogs: INCLUDE_BUILD_LOGS_WITH_STATUS
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Pubsub Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const mytopic = new gcp.pubsub.Topic("mytopic", {name: "my-topic"});
const pubsub_config_trigger = new gcp.cloudbuild.Trigger("pubsub-config-trigger", {
    location: "us-central1",
    name: "pubsub-trigger",
    description: "acceptance test example pubsub build trigger",
    pubsubConfig: {
        topic: mytopic.id,
    },
    sourceToBuild: {
        uri: "https://hashicorp/terraform-provider-google-beta",
        ref: "refs/heads/main",
        repoType: "GITHUB",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        uri: "https://hashicorp/terraform-provider-google-beta",
        revision: "refs/heads/main",
        repoType: "GITHUB",
    },
    substitutions: {
        _ACTION: "$(body.message.data.action)",
    },
    filter: "_ACTION.matches('INSERT')",
});
```
```python
import pulumi
import pulumi_gcp as gcp

mytopic = gcp.pubsub.Topic("mytopic", name="my-topic")
pubsub_config_trigger = gcp.cloudbuild.Trigger("pubsub-config-trigger",
    location="us-central1",
    name="pubsub-trigger",
    description="acceptance test example pubsub build trigger",
    pubsub_config={
        "topic": mytopic.id,
    },
    source_to_build={
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "ref": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "revision": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    substitutions={
        "_ACTION": "$(body.message.data.action)",
    },
    filter="_ACTION.matches('INSERT')")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var mytopic = new Gcp.PubSub.Topic("mytopic", new()
    {
        Name = "my-topic",
    });

    var pubsub_config_trigger = new Gcp.CloudBuild.Trigger("pubsub-config-trigger", new()
    {
        Location = "us-central1",
        Name = "pubsub-trigger",
        Description = "acceptance test example pubsub build trigger",
        PubsubConfig = new Gcp.CloudBuild.Inputs.TriggerPubsubConfigArgs
        {
            Topic = mytopic.Id,
        },
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Ref = "refs/heads/main",
            RepoType = "GITHUB",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Revision = "refs/heads/main",
            RepoType = "GITHUB",
        },
        Substitutions = 
        {
            { "_ACTION", "$(body.message.data.action)" },
        },
        Filter = "_ACTION.matches('INSERT')",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		mytopic, err := pubsub.NewTopic(ctx, "mytopic", &pubsub.TopicArgs{
			Name: pulumi.String("my-topic"),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewTrigger(ctx, "pubsub-config-trigger", &cloudbuild.TriggerArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("pubsub-trigger"),
			Description: pulumi.String("acceptance test example pubsub build trigger"),
			PubsubConfig: &cloudbuild.TriggerPubsubConfigArgs{
				Topic: mytopic.ID(),
			},
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Ref:      pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:     pulumi.String("cloudbuild.yaml"),
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Revision: pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
			Substitutions: pulumi.StringMap{
				"_ACTION": pulumi.String("$(body.message.data.action)"),
			},
			Filter: pulumi.String("_ACTION.matches('INSERT')"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerPubsubConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var mytopic = new Topic("mytopic", TopicArgs.builder()
            .name("my-topic")
            .build());

        var pubsub_config_trigger = new Trigger("pubsub-config-trigger", TriggerArgs.builder()
            .location("us-central1")
            .name("pubsub-trigger")
            .description("acceptance test example pubsub build trigger")
            .pubsubConfig(TriggerPubsubConfigArgs.builder()
                .topic(mytopic.id())
                .build())
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .uri("https://hashicorp/terraform-provider-google-beta")
                .ref("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .uri("https://hashicorp/terraform-provider-google-beta")
                .revision("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .substitutions(Map.of("_ACTION", "$(body.message.data.action)"))
            .filter("_ACTION.matches('INSERT')")
            .build());

    }
}
```
```yaml
resources:
  mytopic:
    type: gcp:pubsub:Topic
    properties:
      name: my-topic
  pubsub-config-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      location: us-central1
      name: pubsub-trigger
      description: acceptance test example pubsub build trigger
      pubsubConfig:
        topic: ${mytopic.id}
      sourceToBuild:
        uri: https://hashicorp/terraform-provider-google-beta
        ref: refs/heads/main
        repoType: GITHUB
      gitFileSource:
        path: cloudbuild.yaml
        uri: https://hashicorp/terraform-provider-google-beta
        revision: refs/heads/main
        repoType: GITHUB
      substitutions:
        _ACTION: $(body.message.data.action)
      filter: _ACTION.matches('INSERT')
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Webhook Config


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const webhookTriggerSecretKey = new gcp.secretmanager.Secret("webhook_trigger_secret_key", {
    secretId: "webhook-trigger-secret-key",
    replication: {
        userManaged: {
            replicas: [{
                location: "us-central1",
            }],
        },
    },
});
const webhookTriggerSecretKeyData = new gcp.secretmanager.SecretVersion("webhook_trigger_secret_key_data", {
    secret: webhookTriggerSecretKey.id,
    secretData: "secretkeygoeshere",
});
const project = gcp.organizations.getProject({});
const secretAccessor = project.then(project => gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/secretmanager.secretAccessor",
        members: [`serviceAccount:service-${project.number}@gcp-sa-cloudbuild.iam.gserviceaccount.com`],
    }],
}));
const policy = new gcp.secretmanager.SecretIamPolicy("policy", {
    project: webhookTriggerSecretKey.project,
    secretId: webhookTriggerSecretKey.secretId,
    policyData: secretAccessor.then(secretAccessor => secretAccessor.policyData),
});
const webhook_config_trigger = new gcp.cloudbuild.Trigger("webhook-config-trigger", {
    name: "webhook-trigger",
    description: "acceptance test example webhook build trigger",
    webhookConfig: {
        secret: webhookTriggerSecretKeyData.id,
    },
    sourceToBuild: {
        uri: "https://hashicorp/terraform-provider-google-beta",
        ref: "refs/heads/main",
        repoType: "GITHUB",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        uri: "https://hashicorp/terraform-provider-google-beta",
        revision: "refs/heads/main",
        repoType: "GITHUB",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

webhook_trigger_secret_key = gcp.secretmanager.Secret("webhook_trigger_secret_key",
    secret_id="webhook-trigger-secret-key",
    replication={
        "user_managed": {
            "replicas": [{
                "location": "us-central1",
            }],
        },
    })
webhook_trigger_secret_key_data = gcp.secretmanager.SecretVersion("webhook_trigger_secret_key_data",
    secret=webhook_trigger_secret_key.id,
    secret_data="secretkeygoeshere")
project = gcp.organizations.get_project()
secret_accessor = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/secretmanager.secretAccessor",
    "members": [f"serviceAccount:service-{project.number}@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
}])
policy = gcp.secretmanager.SecretIamPolicy("policy",
    project=webhook_trigger_secret_key.project,
    secret_id=webhook_trigger_secret_key.secret_id,
    policy_data=secret_accessor.policy_data)
webhook_config_trigger = gcp.cloudbuild.Trigger("webhook-config-trigger",
    name="webhook-trigger",
    description="acceptance test example webhook build trigger",
    webhook_config={
        "secret": webhook_trigger_secret_key_data.id,
    },
    source_to_build={
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "ref": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "revision": "refs/heads/main",
        "repo_type": "GITHUB",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var webhookTriggerSecretKey = new Gcp.SecretManager.Secret("webhook_trigger_secret_key", new()
    {
        SecretId = "webhook-trigger-secret-key",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            UserManaged = new Gcp.SecretManager.Inputs.SecretReplicationUserManagedArgs
            {
                Replicas = new[]
                {
                    new Gcp.SecretManager.Inputs.SecretReplicationUserManagedReplicaArgs
                    {
                        Location = "us-central1",
                    },
                },
            },
        },
    });

    var webhookTriggerSecretKeyData = new Gcp.SecretManager.SecretVersion("webhook_trigger_secret_key_data", new()
    {
        Secret = webhookTriggerSecretKey.Id,
        SecretData = "secretkeygoeshere",
    });

    var project = Gcp.Organizations.GetProject.Invoke();

    var secretAccessor = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/secretmanager.secretAccessor",
                Members = new[]
                {
                    $"serviceAccount:service-{project.Apply(getProjectResult => getProjectResult.Number)}@gcp-sa-cloudbuild.iam.gserviceaccount.com",
                },
            },
        },
    });

    var policy = new Gcp.SecretManager.SecretIamPolicy("policy", new()
    {
        Project = webhookTriggerSecretKey.Project,
        SecretId = webhookTriggerSecretKey.SecretId,
        PolicyData = secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

    var webhook_config_trigger = new Gcp.CloudBuild.Trigger("webhook-config-trigger", new()
    {
        Name = "webhook-trigger",
        Description = "acceptance test example webhook build trigger",
        WebhookConfig = new Gcp.CloudBuild.Inputs.TriggerWebhookConfigArgs
        {
            Secret = webhookTriggerSecretKeyData.Id,
        },
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Ref = "refs/heads/main",
            RepoType = "GITHUB",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Revision = "refs/heads/main",
            RepoType = "GITHUB",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		webhookTriggerSecretKey, err := secretmanager.NewSecret(ctx, "webhook_trigger_secret_key", &secretmanager.SecretArgs{
			SecretId: pulumi.String("webhook-trigger-secret-key"),
			Replication: &secretmanager.SecretReplicationArgs{
				UserManaged: &secretmanager.SecretReplicationUserManagedArgs{
					Replicas: secretmanager.SecretReplicationUserManagedReplicaArray{
						&secretmanager.SecretReplicationUserManagedReplicaArgs{
							Location: pulumi.String("us-central1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		webhookTriggerSecretKeyData, err := secretmanager.NewSecretVersion(ctx, "webhook_trigger_secret_key_data", &secretmanager.SecretVersionArgs{
			Secret:     webhookTriggerSecretKey.ID(),
			SecretData: pulumi.String("secretkeygoeshere"),
		})
		if err != nil {
			return err
		}
		project, err := organizations.LookupProject(ctx, &organizations.LookupProjectArgs{}, nil)
		if err != nil {
			return err
		}
		secretAccessor, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/secretmanager.secretAccessor",
					Members: []string{
						fmt.Sprintf("serviceAccount:service-%v@gcp-sa-cloudbuild.iam.gserviceaccount.com", project.Number),
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy", &secretmanager.SecretIamPolicyArgs{
			Project:    webhookTriggerSecretKey.Project,
			SecretId:   webhookTriggerSecretKey.SecretId,
			PolicyData: pulumi.String(secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewTrigger(ctx, "webhook-config-trigger", &cloudbuild.TriggerArgs{
			Name:        pulumi.String("webhook-trigger"),
			Description: pulumi.String("acceptance test example webhook build trigger"),
			WebhookConfig: &cloudbuild.TriggerWebhookConfigArgs{
				Secret: webhookTriggerSecretKeyData.ID(),
			},
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Ref:      pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:     pulumi.String("cloudbuild.yaml"),
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Revision: pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationUserManagedArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.secretmanager.SecretIamPolicy;
import com.pulumi.gcp.secretmanager.SecretIamPolicyArgs;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerWebhookConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var webhookTriggerSecretKey = new Secret("webhookTriggerSecretKey", SecretArgs.builder()
            .secretId("webhook-trigger-secret-key")
            .replication(SecretReplicationArgs.builder()
                .userManaged(SecretReplicationUserManagedArgs.builder()
                    .replicas(SecretReplicationUserManagedReplicaArgs.builder()
                        .location("us-central1")
                        .build())
                    .build())
                .build())
            .build());

        var webhookTriggerSecretKeyData = new SecretVersion("webhookTriggerSecretKeyData", SecretVersionArgs.builder()
            .secret(webhookTriggerSecretKey.id())
            .secretData("secretkeygoeshere")
            .build());

        final var project = OrganizationsFunctions.getProject();

        final var secretAccessor = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/secretmanager.secretAccessor")
                .members(String.format("serviceAccount:service-%s@gcp-sa-cloudbuild.iam.gserviceaccount.com", project.applyValue(getProjectResult -> getProjectResult.number())))
                .build())
            .build());

        var policy = new SecretIamPolicy("policy", SecretIamPolicyArgs.builder()
            .project(webhookTriggerSecretKey.project())
            .secretId(webhookTriggerSecretKey.secretId())
            .policyData(secretAccessor.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

        var webhook_config_trigger = new Trigger("webhook-config-trigger", TriggerArgs.builder()
            .name("webhook-trigger")
            .description("acceptance test example webhook build trigger")
            .webhookConfig(TriggerWebhookConfigArgs.builder()
                .secret(webhookTriggerSecretKeyData.id())
                .build())
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .uri("https://hashicorp/terraform-provider-google-beta")
                .ref("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .uri("https://hashicorp/terraform-provider-google-beta")
                .revision("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .build());

    }
}
```
```yaml
resources:
  webhookTriggerSecretKey:
    type: gcp:secretmanager:Secret
    name: webhook_trigger_secret_key
    properties:
      secretId: webhook-trigger-secret-key
      replication:
        userManaged:
          replicas:
            - location: us-central1
  webhookTriggerSecretKeyData:
    type: gcp:secretmanager:SecretVersion
    name: webhook_trigger_secret_key_data
    properties:
      secret: ${webhookTriggerSecretKey.id}
      secretData: secretkeygoeshere
  policy:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      project: ${webhookTriggerSecretKey.project}
      secretId: ${webhookTriggerSecretKey.secretId}
      policyData: ${secretAccessor.policyData}
  webhook-config-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: webhook-trigger
      description: acceptance test example webhook build trigger
      webhookConfig:
        secret: ${webhookTriggerSecretKeyData.id}
      sourceToBuild:
        uri: https://hashicorp/terraform-provider-google-beta
        ref: refs/heads/main
        repoType: GITHUB
      gitFileSource:
        path: cloudbuild.yaml
        uri: https://hashicorp/terraform-provider-google-beta
        revision: refs/heads/main
        repoType: GITHUB
variables:
  project:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments: {}
  secretAccessor:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/secretmanager.secretAccessor
            members:
              - serviceAccount:service-${project.number}@gcp-sa-cloudbuild.iam.gserviceaccount.com
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Manual


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const manual_trigger = new gcp.cloudbuild.Trigger("manual-trigger", {
    name: "manual-trigger",
    sourceToBuild: {
        uri: "https://hashicorp/terraform-provider-google-beta",
        ref: "refs/heads/main",
        repoType: "GITHUB",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        uri: "https://hashicorp/terraform-provider-google-beta",
        revision: "refs/heads/main",
        repoType: "GITHUB",
    },
    approvalConfig: {
        approvalRequired: true,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

manual_trigger = gcp.cloudbuild.Trigger("manual-trigger",
    name="manual-trigger",
    source_to_build={
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "ref": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "revision": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    approval_config={
        "approval_required": True,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var manual_trigger = new Gcp.CloudBuild.Trigger("manual-trigger", new()
    {
        Name = "manual-trigger",
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Ref = "refs/heads/main",
            RepoType = "GITHUB",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Revision = "refs/heads/main",
            RepoType = "GITHUB",
        },
        ApprovalConfig = new Gcp.CloudBuild.Inputs.TriggerApprovalConfigArgs
        {
            ApprovalRequired = true,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "manual-trigger", &cloudbuild.TriggerArgs{
			Name: pulumi.String("manual-trigger"),
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Ref:      pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:     pulumi.String("cloudbuild.yaml"),
				Uri:      pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Revision: pulumi.String("refs/heads/main"),
				RepoType: pulumi.String("GITHUB"),
			},
			ApprovalConfig: &cloudbuild.TriggerApprovalConfigArgs{
				ApprovalRequired: pulumi.Bool(true),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerApprovalConfigArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var manual_trigger = new Trigger("manual-trigger", TriggerArgs.builder()
            .name("manual-trigger")
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .uri("https://hashicorp/terraform-provider-google-beta")
                .ref("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .uri("https://hashicorp/terraform-provider-google-beta")
                .revision("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .approvalConfig(TriggerApprovalConfigArgs.builder()
                .approvalRequired(true)
                .build())
            .build());

    }
}
```
```yaml
resources:
  manual-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: manual-trigger
      sourceToBuild:
        uri: https://hashicorp/terraform-provider-google-beta
        ref: refs/heads/main
        repoType: GITHUB
      gitFileSource:
        path: cloudbuild.yaml
        uri: https://hashicorp/terraform-provider-google-beta
        revision: refs/heads/main
        repoType: GITHUB
      approvalConfig:
        approvalRequired: true
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Manual Github Enterprise


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const manual_ghe_trigger = new gcp.cloudbuild.Trigger("manual-ghe-trigger", {
    name: "",
    sourceToBuild: {
        uri: "https://hashicorp/terraform-provider-google-beta",
        ref: "refs/heads/main",
        repoType: "GITHUB",
        githubEnterpriseConfig: "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        uri: "https://hashicorp/terraform-provider-google-beta",
        revision: "refs/heads/main",
        repoType: "GITHUB",
        githubEnterpriseConfig: "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

manual_ghe_trigger = gcp.cloudbuild.Trigger("manual-ghe-trigger",
    name="",
    source_to_build={
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "ref": "refs/heads/main",
        "repo_type": "GITHUB",
        "github_enterprise_config": "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "uri": "https://hashicorp/terraform-provider-google-beta",
        "revision": "refs/heads/main",
        "repo_type": "GITHUB",
        "github_enterprise_config": "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var manual_ghe_trigger = new Gcp.CloudBuild.Trigger("manual-ghe-trigger", new()
    {
        Name = "",
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Ref = "refs/heads/main",
            RepoType = "GITHUB",
            GithubEnterpriseConfig = "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Uri = "https://hashicorp/terraform-provider-google-beta",
            Revision = "refs/heads/main",
            RepoType = "GITHUB",
            GithubEnterpriseConfig = "projects/myProject/locations/global/githubEnterpriseConfigs/configID",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "manual-ghe-trigger", &cloudbuild.TriggerArgs{
			Name: pulumi.String(""),
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Uri:                    pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Ref:                    pulumi.String("refs/heads/main"),
				RepoType:               pulumi.String("GITHUB"),
				GithubEnterpriseConfig: pulumi.String("projects/myProject/locations/global/githubEnterpriseConfigs/configID"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:                   pulumi.String("cloudbuild.yaml"),
				Uri:                    pulumi.String("https://hashicorp/terraform-provider-google-beta"),
				Revision:               pulumi.String("refs/heads/main"),
				RepoType:               pulumi.String("GITHUB"),
				GithubEnterpriseConfig: pulumi.String("projects/myProject/locations/global/githubEnterpriseConfigs/configID"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var manual_ghe_trigger = new Trigger("manual-ghe-trigger", TriggerArgs.builder()
            .name("")
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .uri("https://hashicorp/terraform-provider-google-beta")
                .ref("refs/heads/main")
                .repoType("GITHUB")
                .githubEnterpriseConfig("projects/myProject/locations/global/githubEnterpriseConfigs/configID")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .uri("https://hashicorp/terraform-provider-google-beta")
                .revision("refs/heads/main")
                .repoType("GITHUB")
                .githubEnterpriseConfig("projects/myProject/locations/global/githubEnterpriseConfigs/configID")
                .build())
            .build());

    }
}
```
```yaml
resources:
  manual-ghe-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: ""
      sourceToBuild:
        uri: https://hashicorp/terraform-provider-google-beta
        ref: refs/heads/main
        repoType: GITHUB
        githubEnterpriseConfig: projects/myProject/locations/global/githubEnterpriseConfigs/configID
      gitFileSource:
        path: cloudbuild.yaml
        uri: https://hashicorp/terraform-provider-google-beta
        revision: refs/heads/main
        repoType: GITHUB
        githubEnterpriseConfig: projects/myProject/locations/global/githubEnterpriseConfigs/configID
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Manual Bitbucket Server


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const manual_bitbucket_trigger = new gcp.cloudbuild.Trigger("manual-bitbucket-trigger", {
    name: "terraform-manual-bbs-trigger",
    sourceToBuild: {
        uri: "https://bbs.com/scm/stag/test-repo.git",
        ref: "refs/heads/main",
        repoType: "BITBUCKET_SERVER",
        bitbucketServerConfig: "projects/myProject/locations/global/bitbucketServerConfigs/configID",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        uri: "https://bbs.com/scm/stag/test-repo.git",
        revision: "refs/heads/main",
        repoType: "BITBUCKET_SERVER",
        bitbucketServerConfig: "projects/myProject/locations/global/bitbucketServerConfigs/configID",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

manual_bitbucket_trigger = gcp.cloudbuild.Trigger("manual-bitbucket-trigger",
    name="terraform-manual-bbs-trigger",
    source_to_build={
        "uri": "https://bbs.com/scm/stag/test-repo.git",
        "ref": "refs/heads/main",
        "repo_type": "BITBUCKET_SERVER",
        "bitbucket_server_config": "projects/myProject/locations/global/bitbucketServerConfigs/configID",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "uri": "https://bbs.com/scm/stag/test-repo.git",
        "revision": "refs/heads/main",
        "repo_type": "BITBUCKET_SERVER",
        "bitbucket_server_config": "projects/myProject/locations/global/bitbucketServerConfigs/configID",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var manual_bitbucket_trigger = new Gcp.CloudBuild.Trigger("manual-bitbucket-trigger", new()
    {
        Name = "terraform-manual-bbs-trigger",
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Uri = "https://bbs.com/scm/stag/test-repo.git",
            Ref = "refs/heads/main",
            RepoType = "BITBUCKET_SERVER",
            BitbucketServerConfig = "projects/myProject/locations/global/bitbucketServerConfigs/configID",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Uri = "https://bbs.com/scm/stag/test-repo.git",
            Revision = "refs/heads/main",
            RepoType = "BITBUCKET_SERVER",
            BitbucketServerConfig = "projects/myProject/locations/global/bitbucketServerConfigs/configID",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "manual-bitbucket-trigger", &cloudbuild.TriggerArgs{
			Name: pulumi.String("terraform-manual-bbs-trigger"),
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Uri:                   pulumi.String("https://bbs.com/scm/stag/test-repo.git"),
				Ref:                   pulumi.String("refs/heads/main"),
				RepoType:              pulumi.String("BITBUCKET_SERVER"),
				BitbucketServerConfig: pulumi.String("projects/myProject/locations/global/bitbucketServerConfigs/configID"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:                  pulumi.String("cloudbuild.yaml"),
				Uri:                   pulumi.String("https://bbs.com/scm/stag/test-repo.git"),
				Revision:              pulumi.String("refs/heads/main"),
				RepoType:              pulumi.String("BITBUCKET_SERVER"),
				BitbucketServerConfig: pulumi.String("projects/myProject/locations/global/bitbucketServerConfigs/configID"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var manual_bitbucket_trigger = new Trigger("manual-bitbucket-trigger", TriggerArgs.builder()
            .name("terraform-manual-bbs-trigger")
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .uri("https://bbs.com/scm/stag/test-repo.git")
                .ref("refs/heads/main")
                .repoType("BITBUCKET_SERVER")
                .bitbucketServerConfig("projects/myProject/locations/global/bitbucketServerConfigs/configID")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .uri("https://bbs.com/scm/stag/test-repo.git")
                .revision("refs/heads/main")
                .repoType("BITBUCKET_SERVER")
                .bitbucketServerConfig("projects/myProject/locations/global/bitbucketServerConfigs/configID")
                .build())
            .build());

    }
}
```
```yaml
resources:
  manual-bitbucket-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: terraform-manual-bbs-trigger
      sourceToBuild:
        uri: https://bbs.com/scm/stag/test-repo.git
        ref: refs/heads/main
        repoType: BITBUCKET_SERVER
        bitbucketServerConfig: projects/myProject/locations/global/bitbucketServerConfigs/configID
      gitFileSource:
        path: cloudbuild.yaml
        uri: https://bbs.com/scm/stag/test-repo.git
        revision: refs/heads/main
        repoType: BITBUCKET_SERVER
        bitbucketServerConfig: projects/myProject/locations/global/bitbucketServerConfigs/configID
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Repo


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-connection",
    githubConfig: {
        appInstallationId: 123123,
        authorizerCredential: {
            oauthTokenSecretVersion: "projects/my-project/secrets/github-pat-secret/versions/latest",
        },
    },
});
const my_repository = new gcp.cloudbuildv2.Repository("my-repository", {
    name: "my-repo",
    parentConnection: my_connection.id,
    remoteUri: "https://github.com/myuser/my-repo.git",
});
const repo_trigger = new gcp.cloudbuild.Trigger("repo-trigger", {
    location: "us-central1",
    repositoryEventConfig: {
        repository: my_repository.id,
        push: {
            branch: "feature-.*",
        },
    },
    filename: "cloudbuild.yaml",
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-connection",
    github_config={
        "app_installation_id": 123123,
        "authorizer_credential": {
            "oauth_token_secret_version": "projects/my-project/secrets/github-pat-secret/versions/latest",
        },
    })
my_repository = gcp.cloudbuildv2.Repository("my-repository",
    name="my-repo",
    parent_connection=my_connection.id,
    remote_uri="https://github.com/myuser/my-repo.git")
repo_trigger = gcp.cloudbuild.Trigger("repo-trigger",
    location="us-central1",
    repository_event_config={
        "repository": my_repository.id,
        "push": {
            "branch": "feature-.*",
        },
    },
    filename="cloudbuild.yaml")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-connection",
        GithubConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigArgs
        {
            AppInstallationId = 123123,
            AuthorizerCredential = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigAuthorizerCredentialArgs
            {
                OauthTokenSecretVersion = "projects/my-project/secrets/github-pat-secret/versions/latest",
            },
        },
    });

    var my_repository = new Gcp.CloudBuildV2.Repository("my-repository", new()
    {
        Name = "my-repo",
        ParentConnection = my_connection.Id,
        RemoteUri = "https://github.com/myuser/my-repo.git",
    });

    var repo_trigger = new Gcp.CloudBuild.Trigger("repo-trigger", new()
    {
        Location = "us-central1",
        RepositoryEventConfig = new Gcp.CloudBuild.Inputs.TriggerRepositoryEventConfigArgs
        {
            Repository = my_repository.Id,
            Push = new Gcp.CloudBuild.Inputs.TriggerRepositoryEventConfigPushArgs
            {
                Branch = "feature-.*",
            },
        },
        Filename = "cloudbuild.yaml",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-connection"),
			GithubConfig: &cloudbuildv2.ConnectionGithubConfigArgs{
				AppInstallationId: pulumi.Int(123123),
				AuthorizerCredential: &cloudbuildv2.ConnectionGithubConfigAuthorizerCredentialArgs{
					OauthTokenSecretVersion: pulumi.String("projects/my-project/secrets/github-pat-secret/versions/latest"),
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewRepository(ctx, "my-repository", &cloudbuildv2.RepositoryArgs{
			Name:             pulumi.String("my-repo"),
			ParentConnection: my_connection.ID(),
			RemoteUri:        pulumi.String("https://github.com/myuser/my-repo.git"),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewTrigger(ctx, "repo-trigger", &cloudbuild.TriggerArgs{
			Location: pulumi.String("us-central1"),
			RepositoryEventConfig: &cloudbuild.TriggerRepositoryEventConfigArgs{
				Repository: my_repository.ID(),
				Push: &cloudbuild.TriggerRepositoryEventConfigPushArgs{
					Branch: pulumi.String("feature-.*"),
				},
			},
			Filename: pulumi.String("cloudbuild.yaml"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigAuthorizerCredentialArgs;
import com.pulumi.gcp.cloudbuildv2.Repository;
import com.pulumi.gcp.cloudbuildv2.RepositoryArgs;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerRepositoryEventConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerRepositoryEventConfigPushArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-connection")
            .githubConfig(ConnectionGithubConfigArgs.builder()
                .appInstallationId(123123)
                .authorizerCredential(ConnectionGithubConfigAuthorizerCredentialArgs.builder()
                    .oauthTokenSecretVersion("projects/my-project/secrets/github-pat-secret/versions/latest")
                    .build())
                .build())
            .build());

        var my_repository = new Repository("my-repository", RepositoryArgs.builder()
            .name("my-repo")
            .parentConnection(my_connection.id())
            .remoteUri("https://github.com/myuser/my-repo.git")
            .build());

        var repo_trigger = new Trigger("repo-trigger", TriggerArgs.builder()
            .location("us-central1")
            .repositoryEventConfig(TriggerRepositoryEventConfigArgs.builder()
                .repository(my_repository.id())
                .push(TriggerRepositoryEventConfigPushArgs.builder()
                    .branch("feature-.*")
                    .build())
                .build())
            .filename("cloudbuild.yaml")
            .build());

    }
}
```
```yaml
resources:
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-connection
      githubConfig:
        appInstallationId: 123123
        authorizerCredential:
          oauthTokenSecretVersion: projects/my-project/secrets/github-pat-secret/versions/latest
  my-repository:
    type: gcp:cloudbuildv2:Repository
    properties:
      name: my-repo
      parentConnection: ${["my-connection"].id}
      remoteUri: https://github.com/myuser/my-repo.git
  repo-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      location: us-central1
      repositoryEventConfig:
        repository: ${["my-repository"].id}
        push:
          branch: feature-.*
      filename: cloudbuild.yaml
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Bitbucket Server Push


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bbs_push_trigger = new gcp.cloudbuild.Trigger("bbs-push-trigger", {
    name: "bbs-push-trigger",
    location: "us-central1",
    bitbucketServerTriggerConfig: {
        repoSlug: "bbs-push-trigger",
        projectKey: "STAG",
        bitbucketServerConfigResource: "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
        push: {
            tag: "^0.1.*",
            invertRegex: true,
        },
    },
    filename: "cloudbuild.yaml",
});
```
```python
import pulumi
import pulumi_gcp as gcp

bbs_push_trigger = gcp.cloudbuild.Trigger("bbs-push-trigger",
    name="bbs-push-trigger",
    location="us-central1",
    bitbucket_server_trigger_config={
        "repo_slug": "bbs-push-trigger",
        "project_key": "STAG",
        "bitbucket_server_config_resource": "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
        "push": {
            "tag": "^0.1.*",
            "invert_regex": True,
        },
    },
    filename="cloudbuild.yaml")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bbs_push_trigger = new Gcp.CloudBuild.Trigger("bbs-push-trigger", new()
    {
        Name = "bbs-push-trigger",
        Location = "us-central1",
        BitbucketServerTriggerConfig = new Gcp.CloudBuild.Inputs.TriggerBitbucketServerTriggerConfigArgs
        {
            RepoSlug = "bbs-push-trigger",
            ProjectKey = "STAG",
            BitbucketServerConfigResource = "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
            Push = new Gcp.CloudBuild.Inputs.TriggerBitbucketServerTriggerConfigPushArgs
            {
                Tag = "^0.1.*",
                InvertRegex = true,
            },
        },
        Filename = "cloudbuild.yaml",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "bbs-push-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("bbs-push-trigger"),
			Location: pulumi.String("us-central1"),
			BitbucketServerTriggerConfig: &cloudbuild.TriggerBitbucketServerTriggerConfigArgs{
				RepoSlug:                      pulumi.String("bbs-push-trigger"),
				ProjectKey:                    pulumi.String("STAG"),
				BitbucketServerConfigResource: pulumi.String("projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig"),
				Push: &cloudbuild.TriggerBitbucketServerTriggerConfigPushArgs{
					Tag:         pulumi.String("^0.1.*"),
					InvertRegex: pulumi.Bool(true),
				},
			},
			Filename: pulumi.String("cloudbuild.yaml"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBitbucketServerTriggerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBitbucketServerTriggerConfigPushArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bbs_push_trigger = new Trigger("bbs-push-trigger", TriggerArgs.builder()
            .name("bbs-push-trigger")
            .location("us-central1")
            .bitbucketServerTriggerConfig(TriggerBitbucketServerTriggerConfigArgs.builder()
                .repoSlug("bbs-push-trigger")
                .projectKey("STAG")
                .bitbucketServerConfigResource("projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig")
                .push(TriggerBitbucketServerTriggerConfigPushArgs.builder()
                    .tag("^0.1.*")
                    .invertRegex(true)
                    .build())
                .build())
            .filename("cloudbuild.yaml")
            .build());

    }
}
```
```yaml
resources:
  bbs-push-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: bbs-push-trigger
      location: us-central1
      bitbucketServerTriggerConfig:
        repoSlug: bbs-push-trigger
        projectKey: STAG
        bitbucketServerConfigResource: projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig
        push:
          tag: ^0.1.*
          invertRegex: true
      filename: cloudbuild.yaml
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Bitbucket Server Pull Request


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bbs_pull_request_trigger = new gcp.cloudbuild.Trigger("bbs-pull-request-trigger", {
    name: "ghe-trigger",
    location: "us-central1",
    bitbucketServerTriggerConfig: {
        repoSlug: "terraform-provider-google",
        projectKey: "STAG",
        bitbucketServerConfigResource: "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
        pullRequest: {
            branch: "^master$",
            invertRegex: false,
            commentControl: "COMMENTS_ENABLED",
        },
    },
    filename: "cloudbuild.yaml",
});
```
```python
import pulumi
import pulumi_gcp as gcp

bbs_pull_request_trigger = gcp.cloudbuild.Trigger("bbs-pull-request-trigger",
    name="ghe-trigger",
    location="us-central1",
    bitbucket_server_trigger_config={
        "repo_slug": "terraform-provider-google",
        "project_key": "STAG",
        "bitbucket_server_config_resource": "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
        "pull_request": {
            "branch": "^master$",
            "invert_regex": False,
            "comment_control": "COMMENTS_ENABLED",
        },
    },
    filename="cloudbuild.yaml")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bbs_pull_request_trigger = new Gcp.CloudBuild.Trigger("bbs-pull-request-trigger", new()
    {
        Name = "ghe-trigger",
        Location = "us-central1",
        BitbucketServerTriggerConfig = new Gcp.CloudBuild.Inputs.TriggerBitbucketServerTriggerConfigArgs
        {
            RepoSlug = "terraform-provider-google",
            ProjectKey = "STAG",
            BitbucketServerConfigResource = "projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig",
            PullRequest = new Gcp.CloudBuild.Inputs.TriggerBitbucketServerTriggerConfigPullRequestArgs
            {
                Branch = "^master$",
                InvertRegex = false,
                CommentControl = "COMMENTS_ENABLED",
            },
        },
        Filename = "cloudbuild.yaml",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "bbs-pull-request-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("ghe-trigger"),
			Location: pulumi.String("us-central1"),
			BitbucketServerTriggerConfig: &cloudbuild.TriggerBitbucketServerTriggerConfigArgs{
				RepoSlug:                      pulumi.String("terraform-provider-google"),
				ProjectKey:                    pulumi.String("STAG"),
				BitbucketServerConfigResource: pulumi.String("projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig"),
				PullRequest: &cloudbuild.TriggerBitbucketServerTriggerConfigPullRequestArgs{
					Branch:         pulumi.String("^master$"),
					InvertRegex:    pulumi.Bool(false),
					CommentControl: pulumi.String("COMMENTS_ENABLED"),
				},
			},
			Filename: pulumi.String("cloudbuild.yaml"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBitbucketServerTriggerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBitbucketServerTriggerConfigPullRequestArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bbs_pull_request_trigger = new Trigger("bbs-pull-request-trigger", TriggerArgs.builder()
            .name("ghe-trigger")
            .location("us-central1")
            .bitbucketServerTriggerConfig(TriggerBitbucketServerTriggerConfigArgs.builder()
                .repoSlug("terraform-provider-google")
                .projectKey("STAG")
                .bitbucketServerConfigResource("projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig")
                .pullRequest(TriggerBitbucketServerTriggerConfigPullRequestArgs.builder()
                    .branch("^master$")
                    .invertRegex(false)
                    .commentControl("COMMENTS_ENABLED")
                    .build())
                .build())
            .filename("cloudbuild.yaml")
            .build());

    }
}
```
```yaml
resources:
  bbs-pull-request-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: ghe-trigger
      location: us-central1
      bitbucketServerTriggerConfig:
        repoSlug: terraform-provider-google
        projectKey: STAG
        bitbucketServerConfigResource: projects/123456789/locations/us-central1/bitbucketServerConfigs/myBitbucketConfig
        pullRequest:
          branch: ^master$
          invertRegex: false
          commentControl: COMMENTS_ENABLED
      filename: cloudbuild.yaml
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Github Enterprise


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const ghe_trigger = new gcp.cloudbuild.Trigger("ghe-trigger", {
    name: "ghe-trigger",
    location: "us-central1",
    github: {
        owner: "hashicorp",
        name: "terraform-provider-google",
        push: {
            branch: "^main$",
        },
        enterpriseConfigResourceName: "projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID",
    },
    filename: "cloudbuild.yaml",
});
```
```python
import pulumi
import pulumi_gcp as gcp

ghe_trigger = gcp.cloudbuild.Trigger("ghe-trigger",
    name="ghe-trigger",
    location="us-central1",
    github={
        "owner": "hashicorp",
        "name": "terraform-provider-google",
        "push": {
            "branch": "^main$",
        },
        "enterprise_config_resource_name": "projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID",
    },
    filename="cloudbuild.yaml")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var ghe_trigger = new Gcp.CloudBuild.Trigger("ghe-trigger", new()
    {
        Name = "ghe-trigger",
        Location = "us-central1",
        Github = new Gcp.CloudBuild.Inputs.TriggerGithubArgs
        {
            Owner = "hashicorp",
            Name = "terraform-provider-google",
            Push = new Gcp.CloudBuild.Inputs.TriggerGithubPushArgs
            {
                Branch = "^main$",
            },
            EnterpriseConfigResourceName = "projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID",
        },
        Filename = "cloudbuild.yaml",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "ghe-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("ghe-trigger"),
			Location: pulumi.String("us-central1"),
			Github: &cloudbuild.TriggerGithubArgs{
				Owner: pulumi.String("hashicorp"),
				Name:  pulumi.String("terraform-provider-google"),
				Push: &cloudbuild.TriggerGithubPushArgs{
					Branch: pulumi.String("^main$"),
				},
				EnterpriseConfigResourceName: pulumi.String("projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID"),
			},
			Filename: pulumi.String("cloudbuild.yaml"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGithubArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGithubPushArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var ghe_trigger = new Trigger("ghe-trigger", TriggerArgs.builder()
            .name("ghe-trigger")
            .location("us-central1")
            .github(TriggerGithubArgs.builder()
                .owner("hashicorp")
                .name("terraform-provider-google")
                .push(TriggerGithubPushArgs.builder()
                    .branch("^main$")
                    .build())
                .enterpriseConfigResourceName("projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID")
                .build())
            .filename("cloudbuild.yaml")
            .build());

    }
}
```
```yaml
resources:
  ghe-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: ghe-trigger
      location: us-central1
      github:
        owner: hashicorp
        name: terraform-provider-google
        push:
          branch: ^main$
        enterpriseConfigResourceName: projects/123456789/locations/us-central1/githubEnterpriseConfigs/configID
      filename: cloudbuild.yaml
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Allow Failure


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const allow_failure_trigger = new gcp.cloudbuild.Trigger("allow-failure-trigger", {
    name: "my-trigger",
    location: "global",
    triggerTemplate: {
        branchName: "main",
        repoName: "my-repo",
    },
    build: {
        steps: [{
            name: "ubuntu",
            args: [
                "-c",
                "exit 1",
            ],
            allowFailure: true,
        }],
        source: {
            storageSource: {
                bucket: "mybucket",
                object: "source_code.tar.gz",
            },
        },
        tags: [
            "build",
            "newFeature",
        ],
        substitutions: {
            _FOO: "bar",
            _BAZ: "qux",
        },
        queueTtl: "20s",
        logsBucket: "gs://mybucket/logs",
        secrets: [{
            kmsKeyName: "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            secretEnv: {
                PASSWORD: "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        availableSecrets: {
            secretManagers: [{
                env: "MY_SECRET",
                versionName: "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        artifacts: {
            images: ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            objects: {
                location: "gs://bucket/path/to/somewhere/",
                paths: ["path"],
            },
        },
        options: {
            sourceProvenanceHashes: ["MD5"],
            requestedVerifyOption: "VERIFIED",
            machineType: "N1_HIGHCPU_8",
            diskSizeGb: 100,
            substitutionOption: "ALLOW_LOOSE",
            dynamicSubstitutions: true,
            logStreamingOption: "STREAM_OFF",
            workerPool: "pool",
            logging: "LEGACY",
            envs: ["ekey = evalue"],
            secretEnvs: ["secretenv = svalue"],
            volumes: [{
                name: "v1",
                path: "v1",
            }],
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

allow_failure_trigger = gcp.cloudbuild.Trigger("allow-failure-trigger",
    name="my-trigger",
    location="global",
    trigger_template={
        "branch_name": "main",
        "repo_name": "my-repo",
    },
    build={
        "steps": [{
            "name": "ubuntu",
            "args": [
                "-c",
                "exit 1",
            ],
            "allow_failure": True,
        }],
        "source": {
            "storage_source": {
                "bucket": "mybucket",
                "object": "source_code.tar.gz",
            },
        },
        "tags": [
            "build",
            "newFeature",
        ],
        "substitutions": {
            "_FOO": "bar",
            "_BAZ": "qux",
        },
        "queue_ttl": "20s",
        "logs_bucket": "gs://mybucket/logs",
        "secrets": [{
            "kms_key_name": "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            "secret_env": {
                "PASSWORD": "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        "available_secrets": {
            "secret_managers": [{
                "env": "MY_SECRET",
                "version_name": "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        "artifacts": {
            "images": ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            "objects": {
                "location": "gs://bucket/path/to/somewhere/",
                "paths": ["path"],
            },
        },
        "options": {
            "source_provenance_hashes": ["MD5"],
            "requested_verify_option": "VERIFIED",
            "machine_type": "N1_HIGHCPU_8",
            "disk_size_gb": 100,
            "substitution_option": "ALLOW_LOOSE",
            "dynamic_substitutions": True,
            "log_streaming_option": "STREAM_OFF",
            "worker_pool": "pool",
            "logging": "LEGACY",
            "envs": ["ekey = evalue"],
            "secret_envs": ["secretenv = svalue"],
            "volumes": [{
                "name": "v1",
                "path": "v1",
            }],
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var allow_failure_trigger = new Gcp.CloudBuild.Trigger("allow-failure-trigger", new()
    {
        Name = "my-trigger",
        Location = "global",
        TriggerTemplate = new Gcp.CloudBuild.Inputs.TriggerTriggerTemplateArgs
        {
            BranchName = "main",
            RepoName = "my-repo",
        },
        Build = new Gcp.CloudBuild.Inputs.TriggerBuildArgs
        {
            Steps = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildStepArgs
                {
                    Name = "ubuntu",
                    Args = new[]
                    {
                        "-c",
                        "exit 1",
                    },
                    AllowFailure = true,
                },
            },
            Source = new Gcp.CloudBuild.Inputs.TriggerBuildSourceArgs
            {
                StorageSource = new Gcp.CloudBuild.Inputs.TriggerBuildSourceStorageSourceArgs
                {
                    Bucket = "mybucket",
                    Object = "source_code.tar.gz",
                },
            },
            Tags = new[]
            {
                "build",
                "newFeature",
            },
            Substitutions = 
            {
                { "_FOO", "bar" },
                { "_BAZ", "qux" },
            },
            QueueTtl = "20s",
            LogsBucket = "gs://mybucket/logs",
            Secrets = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildSecretArgs
                {
                    KmsKeyName = "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
                    SecretEnv = 
                    {
                        { "PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg==" },
                    },
                },
            },
            AvailableSecrets = new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsArgs
            {
                SecretManagers = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsSecretManagerArgs
                    {
                        Env = "MY_SECRET",
                        VersionName = "projects/myProject/secrets/mySecret/versions/latest",
                    },
                },
            },
            Artifacts = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsArgs
            {
                Images = new[]
                {
                    "gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA",
                },
                Objects = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsObjectsArgs
                {
                    Location = "gs://bucket/path/to/somewhere/",
                    Paths = new[]
                    {
                        "path",
                    },
                },
            },
            Options = new Gcp.CloudBuild.Inputs.TriggerBuildOptionsArgs
            {
                SourceProvenanceHashes = new[]
                {
                    "MD5",
                },
                RequestedVerifyOption = "VERIFIED",
                MachineType = "N1_HIGHCPU_8",
                DiskSizeGb = 100,
                SubstitutionOption = "ALLOW_LOOSE",
                DynamicSubstitutions = true,
                LogStreamingOption = "STREAM_OFF",
                WorkerPool = "pool",
                Logging = "LEGACY",
                Envs = new[]
                {
                    "ekey = evalue",
                },
                SecretEnvs = new[]
                {
                    "secretenv = svalue",
                },
                Volumes = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildOptionsVolumeArgs
                    {
                        Name = "v1",
                        Path = "v1",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "allow-failure-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("my-trigger"),
			Location: pulumi.String("global"),
			TriggerTemplate: &cloudbuild.TriggerTriggerTemplateArgs{
				BranchName: pulumi.String("main"),
				RepoName:   pulumi.String("my-repo"),
			},
			Build: &cloudbuild.TriggerBuildArgs{
				Steps: cloudbuild.TriggerBuildStepArray{
					&cloudbuild.TriggerBuildStepArgs{
						Name: pulumi.String("ubuntu"),
						Args: pulumi.StringArray{
							pulumi.String("-c"),
							pulumi.String("exit 1"),
						},
						AllowFailure: pulumi.Bool(true),
					},
				},
				Source: &cloudbuild.TriggerBuildSourceArgs{
					StorageSource: &cloudbuild.TriggerBuildSourceStorageSourceArgs{
						Bucket: pulumi.String("mybucket"),
						Object: pulumi.String("source_code.tar.gz"),
					},
				},
				Tags: pulumi.StringArray{
					pulumi.String("build"),
					pulumi.String("newFeature"),
				},
				Substitutions: pulumi.StringMap{
					"_FOO": pulumi.String("bar"),
					"_BAZ": pulumi.String("qux"),
				},
				QueueTtl:   pulumi.String("20s"),
				LogsBucket: pulumi.String("gs://mybucket/logs"),
				Secrets: cloudbuild.TriggerBuildSecretArray{
					&cloudbuild.TriggerBuildSecretArgs{
						KmsKeyName: pulumi.String("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name"),
						SecretEnv: pulumi.StringMap{
							"PASSWORD": pulumi.String("ZW5jcnlwdGVkLXBhc3N3b3JkCg=="),
						},
					},
				},
				AvailableSecrets: &cloudbuild.TriggerBuildAvailableSecretsArgs{
					SecretManagers: cloudbuild.TriggerBuildAvailableSecretsSecretManagerArray{
						&cloudbuild.TriggerBuildAvailableSecretsSecretManagerArgs{
							Env:         pulumi.String("MY_SECRET"),
							VersionName: pulumi.String("projects/myProject/secrets/mySecret/versions/latest"),
						},
					},
				},
				Artifacts: &cloudbuild.TriggerBuildArtifactsArgs{
					Images: pulumi.StringArray{
						pulumi.String("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"),
					},
					Objects: &cloudbuild.TriggerBuildArtifactsObjectsArgs{
						Location: pulumi.String("gs://bucket/path/to/somewhere/"),
						Paths: pulumi.StringArray{
							pulumi.String("path"),
						},
					},
				},
				Options: &cloudbuild.TriggerBuildOptionsArgs{
					SourceProvenanceHashes: pulumi.StringArray{
						pulumi.String("MD5"),
					},
					RequestedVerifyOption: pulumi.String("VERIFIED"),
					MachineType:           pulumi.String("N1_HIGHCPU_8"),
					DiskSizeGb:            pulumi.Int(100),
					SubstitutionOption:    pulumi.String("ALLOW_LOOSE"),
					DynamicSubstitutions:  pulumi.Bool(true),
					LogStreamingOption:    pulumi.String("STREAM_OFF"),
					WorkerPool:            pulumi.String("pool"),
					Logging:               pulumi.String("LEGACY"),
					Envs: pulumi.StringArray{
						pulumi.String("ekey = evalue"),
					},
					SecretEnvs: pulumi.StringArray{
						pulumi.String("secretenv = svalue"),
					},
					Volumes: cloudbuild.TriggerBuildOptionsVolumeArray{
						&cloudbuild.TriggerBuildOptionsVolumeArgs{
							Name: pulumi.String("v1"),
							Path: pulumi.String("v1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerTriggerTemplateArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceStorageSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildAvailableSecretsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsObjectsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildOptionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var allow_failure_trigger = new Trigger("allow-failure-trigger", TriggerArgs.builder()
            .name("my-trigger")
            .location("global")
            .triggerTemplate(TriggerTriggerTemplateArgs.builder()
                .branchName("main")
                .repoName("my-repo")
                .build())
            .build(TriggerBuildArgs.builder()
                .steps(TriggerBuildStepArgs.builder()
                    .name("ubuntu")
                    .args(                    
                        "-c",
                        "exit 1")
                    .allowFailure(true)
                    .build())
                .source(TriggerBuildSourceArgs.builder()
                    .storageSource(TriggerBuildSourceStorageSourceArgs.builder()
                        .bucket("mybucket")
                        .object("source_code.tar.gz")
                        .build())
                    .build())
                .tags(                
                    "build",
                    "newFeature")
                .substitutions(Map.ofEntries(
                    Map.entry("_FOO", "bar"),
                    Map.entry("_BAZ", "qux")
                ))
                .queueTtl("20s")
                .logsBucket("gs://mybucket/logs")
                .secrets(TriggerBuildSecretArgs.builder()
                    .kmsKeyName("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name")
                    .secretEnv(Map.of("PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg=="))
                    .build())
                .availableSecrets(TriggerBuildAvailableSecretsArgs.builder()
                    .secretManagers(TriggerBuildAvailableSecretsSecretManagerArgs.builder()
                        .env("MY_SECRET")
                        .versionName("projects/myProject/secrets/mySecret/versions/latest")
                        .build())
                    .build())
                .artifacts(TriggerBuildArtifactsArgs.builder()
                    .images("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA")
                    .objects(TriggerBuildArtifactsObjectsArgs.builder()
                        .location("gs://bucket/path/to/somewhere/")
                        .paths("path")
                        .build())
                    .build())
                .options(TriggerBuildOptionsArgs.builder()
                    .sourceProvenanceHashes("MD5")
                    .requestedVerifyOption("VERIFIED")
                    .machineType("N1_HIGHCPU_8")
                    .diskSizeGb(100)
                    .substitutionOption("ALLOW_LOOSE")
                    .dynamicSubstitutions(true)
                    .logStreamingOption("STREAM_OFF")
                    .workerPool("pool")
                    .logging("LEGACY")
                    .envs("ekey = evalue")
                    .secretEnvs("secretenv = svalue")
                    .volumes(TriggerBuildOptionsVolumeArgs.builder()
                        .name("v1")
                        .path("v1")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  allow-failure-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: my-trigger
      location: global
      triggerTemplate:
        branchName: main
        repoName: my-repo
      build:
        steps:
          - name: ubuntu
            args:
              - -c
              - exit 1
            allowFailure: true
        source:
          storageSource:
            bucket: mybucket
            object: source_code.tar.gz
        tags:
          - build
          - newFeature
        substitutions:
          _FOO: bar
          _BAZ: qux
        queueTtl: 20s
        logsBucket: gs://mybucket/logs
        secrets:
          - kmsKeyName: projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name
            secretEnv:
              PASSWORD: ZW5jcnlwdGVkLXBhc3N3b3JkCg==
        availableSecrets:
          secretManagers:
            - env: MY_SECRET
              versionName: projects/myProject/secrets/mySecret/versions/latest
        artifacts:
          images:
            - gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA
          objects:
            location: gs://bucket/path/to/somewhere/
            paths:
              - path
        options:
          sourceProvenanceHashes:
            - MD5
          requestedVerifyOption: VERIFIED
          machineType: N1_HIGHCPU_8
          diskSizeGb: 100
          substitutionOption: ALLOW_LOOSE
          dynamicSubstitutions: true
          logStreamingOption: STREAM_OFF
          workerPool: pool
          logging: LEGACY
          envs:
            - ekey = evalue
          secretEnvs:
            - secretenv = svalue
          volumes:
            - name: v1
              path: v1
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Allow Exit Codes


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const allow_exit_codes_trigger = new gcp.cloudbuild.Trigger("allow-exit-codes-trigger", {
    name: "my-trigger",
    location: "global",
    triggerTemplate: {
        branchName: "main",
        repoName: "my-repo",
    },
    build: {
        steps: [{
            name: "ubuntu",
            args: [
                "-c",
                "exit 1",
            ],
            allowExitCodes: [
                1,
                3,
            ],
        }],
        source: {
            storageSource: {
                bucket: "mybucket",
                object: "source_code.tar.gz",
            },
        },
        tags: [
            "build",
            "newFeature",
        ],
        substitutions: {
            _FOO: "bar",
            _BAZ: "qux",
        },
        queueTtl: "20s",
        logsBucket: "gs://mybucket/logs",
        secrets: [{
            kmsKeyName: "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            secretEnv: {
                PASSWORD: "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        availableSecrets: {
            secretManagers: [{
                env: "MY_SECRET",
                versionName: "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        artifacts: {
            images: ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            objects: {
                location: "gs://bucket/path/to/somewhere/",
                paths: ["path"],
            },
        },
        options: {
            sourceProvenanceHashes: ["MD5"],
            requestedVerifyOption: "VERIFIED",
            machineType: "N1_HIGHCPU_8",
            diskSizeGb: 100,
            substitutionOption: "ALLOW_LOOSE",
            dynamicSubstitutions: true,
            logStreamingOption: "STREAM_OFF",
            workerPool: "pool",
            logging: "LEGACY",
            envs: ["ekey = evalue"],
            secretEnvs: ["secretenv = svalue"],
            volumes: [{
                name: "v1",
                path: "v1",
            }],
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

allow_exit_codes_trigger = gcp.cloudbuild.Trigger("allow-exit-codes-trigger",
    name="my-trigger",
    location="global",
    trigger_template={
        "branch_name": "main",
        "repo_name": "my-repo",
    },
    build={
        "steps": [{
            "name": "ubuntu",
            "args": [
                "-c",
                "exit 1",
            ],
            "allow_exit_codes": [
                1,
                3,
            ],
        }],
        "source": {
            "storage_source": {
                "bucket": "mybucket",
                "object": "source_code.tar.gz",
            },
        },
        "tags": [
            "build",
            "newFeature",
        ],
        "substitutions": {
            "_FOO": "bar",
            "_BAZ": "qux",
        },
        "queue_ttl": "20s",
        "logs_bucket": "gs://mybucket/logs",
        "secrets": [{
            "kms_key_name": "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
            "secret_env": {
                "PASSWORD": "ZW5jcnlwdGVkLXBhc3N3b3JkCg==",
            },
        }],
        "available_secrets": {
            "secret_managers": [{
                "env": "MY_SECRET",
                "version_name": "projects/myProject/secrets/mySecret/versions/latest",
            }],
        },
        "artifacts": {
            "images": ["gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"],
            "objects": {
                "location": "gs://bucket/path/to/somewhere/",
                "paths": ["path"],
            },
        },
        "options": {
            "source_provenance_hashes": ["MD5"],
            "requested_verify_option": "VERIFIED",
            "machine_type": "N1_HIGHCPU_8",
            "disk_size_gb": 100,
            "substitution_option": "ALLOW_LOOSE",
            "dynamic_substitutions": True,
            "log_streaming_option": "STREAM_OFF",
            "worker_pool": "pool",
            "logging": "LEGACY",
            "envs": ["ekey = evalue"],
            "secret_envs": ["secretenv = svalue"],
            "volumes": [{
                "name": "v1",
                "path": "v1",
            }],
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var allow_exit_codes_trigger = new Gcp.CloudBuild.Trigger("allow-exit-codes-trigger", new()
    {
        Name = "my-trigger",
        Location = "global",
        TriggerTemplate = new Gcp.CloudBuild.Inputs.TriggerTriggerTemplateArgs
        {
            BranchName = "main",
            RepoName = "my-repo",
        },
        Build = new Gcp.CloudBuild.Inputs.TriggerBuildArgs
        {
            Steps = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildStepArgs
                {
                    Name = "ubuntu",
                    Args = new[]
                    {
                        "-c",
                        "exit 1",
                    },
                    AllowExitCodes = new[]
                    {
                        1,
                        3,
                    },
                },
            },
            Source = new Gcp.CloudBuild.Inputs.TriggerBuildSourceArgs
            {
                StorageSource = new Gcp.CloudBuild.Inputs.TriggerBuildSourceStorageSourceArgs
                {
                    Bucket = "mybucket",
                    Object = "source_code.tar.gz",
                },
            },
            Tags = new[]
            {
                "build",
                "newFeature",
            },
            Substitutions = 
            {
                { "_FOO", "bar" },
                { "_BAZ", "qux" },
            },
            QueueTtl = "20s",
            LogsBucket = "gs://mybucket/logs",
            Secrets = new[]
            {
                new Gcp.CloudBuild.Inputs.TriggerBuildSecretArgs
                {
                    KmsKeyName = "projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name",
                    SecretEnv = 
                    {
                        { "PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg==" },
                    },
                },
            },
            AvailableSecrets = new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsArgs
            {
                SecretManagers = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildAvailableSecretsSecretManagerArgs
                    {
                        Env = "MY_SECRET",
                        VersionName = "projects/myProject/secrets/mySecret/versions/latest",
                    },
                },
            },
            Artifacts = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsArgs
            {
                Images = new[]
                {
                    "gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA",
                },
                Objects = new Gcp.CloudBuild.Inputs.TriggerBuildArtifactsObjectsArgs
                {
                    Location = "gs://bucket/path/to/somewhere/",
                    Paths = new[]
                    {
                        "path",
                    },
                },
            },
            Options = new Gcp.CloudBuild.Inputs.TriggerBuildOptionsArgs
            {
                SourceProvenanceHashes = new[]
                {
                    "MD5",
                },
                RequestedVerifyOption = "VERIFIED",
                MachineType = "N1_HIGHCPU_8",
                DiskSizeGb = 100,
                SubstitutionOption = "ALLOW_LOOSE",
                DynamicSubstitutions = true,
                LogStreamingOption = "STREAM_OFF",
                WorkerPool = "pool",
                Logging = "LEGACY",
                Envs = new[]
                {
                    "ekey = evalue",
                },
                SecretEnvs = new[]
                {
                    "secretenv = svalue",
                },
                Volumes = new[]
                {
                    new Gcp.CloudBuild.Inputs.TriggerBuildOptionsVolumeArgs
                    {
                        Name = "v1",
                        Path = "v1",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewTrigger(ctx, "allow-exit-codes-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("my-trigger"),
			Location: pulumi.String("global"),
			TriggerTemplate: &cloudbuild.TriggerTriggerTemplateArgs{
				BranchName: pulumi.String("main"),
				RepoName:   pulumi.String("my-repo"),
			},
			Build: &cloudbuild.TriggerBuildArgs{
				Steps: cloudbuild.TriggerBuildStepArray{
					&cloudbuild.TriggerBuildStepArgs{
						Name: pulumi.String("ubuntu"),
						Args: pulumi.StringArray{
							pulumi.String("-c"),
							pulumi.String("exit 1"),
						},
						AllowExitCodes: pulumi.IntArray{
							pulumi.Int(1),
							pulumi.Int(3),
						},
					},
				},
				Source: &cloudbuild.TriggerBuildSourceArgs{
					StorageSource: &cloudbuild.TriggerBuildSourceStorageSourceArgs{
						Bucket: pulumi.String("mybucket"),
						Object: pulumi.String("source_code.tar.gz"),
					},
				},
				Tags: pulumi.StringArray{
					pulumi.String("build"),
					pulumi.String("newFeature"),
				},
				Substitutions: pulumi.StringMap{
					"_FOO": pulumi.String("bar"),
					"_BAZ": pulumi.String("qux"),
				},
				QueueTtl:   pulumi.String("20s"),
				LogsBucket: pulumi.String("gs://mybucket/logs"),
				Secrets: cloudbuild.TriggerBuildSecretArray{
					&cloudbuild.TriggerBuildSecretArgs{
						KmsKeyName: pulumi.String("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name"),
						SecretEnv: pulumi.StringMap{
							"PASSWORD": pulumi.String("ZW5jcnlwdGVkLXBhc3N3b3JkCg=="),
						},
					},
				},
				AvailableSecrets: &cloudbuild.TriggerBuildAvailableSecretsArgs{
					SecretManagers: cloudbuild.TriggerBuildAvailableSecretsSecretManagerArray{
						&cloudbuild.TriggerBuildAvailableSecretsSecretManagerArgs{
							Env:         pulumi.String("MY_SECRET"),
							VersionName: pulumi.String("projects/myProject/secrets/mySecret/versions/latest"),
						},
					},
				},
				Artifacts: &cloudbuild.TriggerBuildArtifactsArgs{
					Images: pulumi.StringArray{
						pulumi.String("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA"),
					},
					Objects: &cloudbuild.TriggerBuildArtifactsObjectsArgs{
						Location: pulumi.String("gs://bucket/path/to/somewhere/"),
						Paths: pulumi.StringArray{
							pulumi.String("path"),
						},
					},
				},
				Options: &cloudbuild.TriggerBuildOptionsArgs{
					SourceProvenanceHashes: pulumi.StringArray{
						pulumi.String("MD5"),
					},
					RequestedVerifyOption: pulumi.String("VERIFIED"),
					MachineType:           pulumi.String("N1_HIGHCPU_8"),
					DiskSizeGb:            pulumi.Int(100),
					SubstitutionOption:    pulumi.String("ALLOW_LOOSE"),
					DynamicSubstitutions:  pulumi.Bool(true),
					LogStreamingOption:    pulumi.String("STREAM_OFF"),
					WorkerPool:            pulumi.String("pool"),
					Logging:               pulumi.String("LEGACY"),
					Envs: pulumi.StringArray{
						pulumi.String("ekey = evalue"),
					},
					SecretEnvs: pulumi.StringArray{
						pulumi.String("secretenv = svalue"),
					},
					Volumes: cloudbuild.TriggerBuildOptionsVolumeArray{
						&cloudbuild.TriggerBuildOptionsVolumeArgs{
							Name: pulumi.String("v1"),
							Path: pulumi.String("v1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerTriggerTemplateArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildSourceStorageSourceArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildAvailableSecretsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildArtifactsObjectsArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerBuildOptionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var allow_exit_codes_trigger = new Trigger("allow-exit-codes-trigger", TriggerArgs.builder()
            .name("my-trigger")
            .location("global")
            .triggerTemplate(TriggerTriggerTemplateArgs.builder()
                .branchName("main")
                .repoName("my-repo")
                .build())
            .build(TriggerBuildArgs.builder()
                .steps(TriggerBuildStepArgs.builder()
                    .name("ubuntu")
                    .args(                    
                        "-c",
                        "exit 1")
                    .allowExitCodes(                    
                        1,
                        3)
                    .build())
                .source(TriggerBuildSourceArgs.builder()
                    .storageSource(TriggerBuildSourceStorageSourceArgs.builder()
                        .bucket("mybucket")
                        .object("source_code.tar.gz")
                        .build())
                    .build())
                .tags(                
                    "build",
                    "newFeature")
                .substitutions(Map.ofEntries(
                    Map.entry("_FOO", "bar"),
                    Map.entry("_BAZ", "qux")
                ))
                .queueTtl("20s")
                .logsBucket("gs://mybucket/logs")
                .secrets(TriggerBuildSecretArgs.builder()
                    .kmsKeyName("projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name")
                    .secretEnv(Map.of("PASSWORD", "ZW5jcnlwdGVkLXBhc3N3b3JkCg=="))
                    .build())
                .availableSecrets(TriggerBuildAvailableSecretsArgs.builder()
                    .secretManagers(TriggerBuildAvailableSecretsSecretManagerArgs.builder()
                        .env("MY_SECRET")
                        .versionName("projects/myProject/secrets/mySecret/versions/latest")
                        .build())
                    .build())
                .artifacts(TriggerBuildArtifactsArgs.builder()
                    .images("gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA")
                    .objects(TriggerBuildArtifactsObjectsArgs.builder()
                        .location("gs://bucket/path/to/somewhere/")
                        .paths("path")
                        .build())
                    .build())
                .options(TriggerBuildOptionsArgs.builder()
                    .sourceProvenanceHashes("MD5")
                    .requestedVerifyOption("VERIFIED")
                    .machineType("N1_HIGHCPU_8")
                    .diskSizeGb(100)
                    .substitutionOption("ALLOW_LOOSE")
                    .dynamicSubstitutions(true)
                    .logStreamingOption("STREAM_OFF")
                    .workerPool("pool")
                    .logging("LEGACY")
                    .envs("ekey = evalue")
                    .secretEnvs("secretenv = svalue")
                    .volumes(TriggerBuildOptionsVolumeArgs.builder()
                        .name("v1")
                        .path("v1")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  allow-exit-codes-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: my-trigger
      location: global
      triggerTemplate:
        branchName: main
        repoName: my-repo
      build:
        steps:
          - name: ubuntu
            args:
              - -c
              - exit 1
            allowExitCodes:
              - 1
              - 3
        source:
          storageSource:
            bucket: mybucket
            object: source_code.tar.gz
        tags:
          - build
          - newFeature
        substitutions:
          _FOO: bar
          _BAZ: qux
        queueTtl: 20s
        logsBucket: gs://mybucket/logs
        secrets:
          - kmsKeyName: projects/myProject/locations/global/keyRings/keyring-name/cryptoKeys/key-name
            secretEnv:
              PASSWORD: ZW5jcnlwdGVkLXBhc3N3b3JkCg==
        availableSecrets:
          secretManagers:
            - env: MY_SECRET
              versionName: projects/myProject/secrets/mySecret/versions/latest
        artifacts:
          images:
            - gcr.io/$PROJECT_ID/$REPO_NAME:$COMMIT_SHA
          objects:
            location: gs://bucket/path/to/somewhere/
            paths:
              - path
        options:
          sourceProvenanceHashes:
            - MD5
          requestedVerifyOption: VERIFIED
          machineType: N1_HIGHCPU_8
          diskSizeGb: 100
          substitutionOption: ALLOW_LOOSE
          dynamicSubstitutions: true
          logStreamingOption: STREAM_OFF
          workerPool: pool
          logging: LEGACY
          envs:
            - ekey = evalue
          secretEnvs:
            - secretenv = svalue
          volumes:
            - name: v1
              path: v1
```
<!--End PulumiCodeChooser -->
### Cloudbuild Trigger Pubsub With Repo


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-connection",
    githubConfig: {
        appInstallationId: 123123,
        authorizerCredential: {
            oauthTokenSecretVersion: "projects/my-project/secrets/github-pat-secret/versions/latest",
        },
    },
});
const my_repository = new gcp.cloudbuildv2.Repository("my-repository", {
    name: "my-repo",
    parentConnection: my_connection.id,
    remoteUri: "https://github.com/myuser/my-repo.git",
});
const mytopic = new gcp.pubsub.Topic("mytopic", {name: "my-topic"});
const pubsub_with_repo_trigger = new gcp.cloudbuild.Trigger("pubsub-with-repo-trigger", {
    name: "pubsub-with-repo-trigger",
    location: "us-central1",
    pubsubConfig: {
        topic: mytopic.id,
    },
    sourceToBuild: {
        repository: my_repository.id,
        ref: "refs/heads/main",
        repoType: "GITHUB",
    },
    gitFileSource: {
        path: "cloudbuild.yaml",
        repository: my_repository.id,
        revision: "refs/heads/main",
        repoType: "GITHUB",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-connection",
    github_config={
        "app_installation_id": 123123,
        "authorizer_credential": {
            "oauth_token_secret_version": "projects/my-project/secrets/github-pat-secret/versions/latest",
        },
    })
my_repository = gcp.cloudbuildv2.Repository("my-repository",
    name="my-repo",
    parent_connection=my_connection.id,
    remote_uri="https://github.com/myuser/my-repo.git")
mytopic = gcp.pubsub.Topic("mytopic", name="my-topic")
pubsub_with_repo_trigger = gcp.cloudbuild.Trigger("pubsub-with-repo-trigger",
    name="pubsub-with-repo-trigger",
    location="us-central1",
    pubsub_config={
        "topic": mytopic.id,
    },
    source_to_build={
        "repository": my_repository.id,
        "ref": "refs/heads/main",
        "repo_type": "GITHUB",
    },
    git_file_source={
        "path": "cloudbuild.yaml",
        "repository": my_repository.id,
        "revision": "refs/heads/main",
        "repo_type": "GITHUB",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-connection",
        GithubConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigArgs
        {
            AppInstallationId = 123123,
            AuthorizerCredential = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigAuthorizerCredentialArgs
            {
                OauthTokenSecretVersion = "projects/my-project/secrets/github-pat-secret/versions/latest",
            },
        },
    });

    var my_repository = new Gcp.CloudBuildV2.Repository("my-repository", new()
    {
        Name = "my-repo",
        ParentConnection = my_connection.Id,
        RemoteUri = "https://github.com/myuser/my-repo.git",
    });

    var mytopic = new Gcp.PubSub.Topic("mytopic", new()
    {
        Name = "my-topic",
    });

    var pubsub_with_repo_trigger = new Gcp.CloudBuild.Trigger("pubsub-with-repo-trigger", new()
    {
        Name = "pubsub-with-repo-trigger",
        Location = "us-central1",
        PubsubConfig = new Gcp.CloudBuild.Inputs.TriggerPubsubConfigArgs
        {
            Topic = mytopic.Id,
        },
        SourceToBuild = new Gcp.CloudBuild.Inputs.TriggerSourceToBuildArgs
        {
            Repository = my_repository.Id,
            Ref = "refs/heads/main",
            RepoType = "GITHUB",
        },
        GitFileSource = new Gcp.CloudBuild.Inputs.TriggerGitFileSourceArgs
        {
            Path = "cloudbuild.yaml",
            Repository = my_repository.Id,
            Revision = "refs/heads/main",
            RepoType = "GITHUB",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-connection"),
			GithubConfig: &cloudbuildv2.ConnectionGithubConfigArgs{
				AppInstallationId: pulumi.Int(123123),
				AuthorizerCredential: &cloudbuildv2.ConnectionGithubConfigAuthorizerCredentialArgs{
					OauthTokenSecretVersion: pulumi.String("projects/my-project/secrets/github-pat-secret/versions/latest"),
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewRepository(ctx, "my-repository", &cloudbuildv2.RepositoryArgs{
			Name:             pulumi.String("my-repo"),
			ParentConnection: my_connection.ID(),
			RemoteUri:        pulumi.String("https://github.com/myuser/my-repo.git"),
		})
		if err != nil {
			return err
		}
		mytopic, err := pubsub.NewTopic(ctx, "mytopic", &pubsub.TopicArgs{
			Name: pulumi.String("my-topic"),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewTrigger(ctx, "pubsub-with-repo-trigger", &cloudbuild.TriggerArgs{
			Name:     pulumi.String("pubsub-with-repo-trigger"),
			Location: pulumi.String("us-central1"),
			PubsubConfig: &cloudbuild.TriggerPubsubConfigArgs{
				Topic: mytopic.ID(),
			},
			SourceToBuild: &cloudbuild.TriggerSourceToBuildArgs{
				Repository: my_repository.ID(),
				Ref:        pulumi.String("refs/heads/main"),
				RepoType:   pulumi.String("GITHUB"),
			},
			GitFileSource: &cloudbuild.TriggerGitFileSourceArgs{
				Path:       pulumi.String("cloudbuild.yaml"),
				Repository: my_repository.ID(),
				Revision:   pulumi.String("refs/heads/main"),
				RepoType:   pulumi.String("GITHUB"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigAuthorizerCredentialArgs;
import com.pulumi.gcp.cloudbuildv2.Repository;
import com.pulumi.gcp.cloudbuildv2.RepositoryArgs;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.cloudbuild.Trigger;
import com.pulumi.gcp.cloudbuild.TriggerArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerPubsubConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerSourceToBuildArgs;
import com.pulumi.gcp.cloudbuild.inputs.TriggerGitFileSourceArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-connection")
            .githubConfig(ConnectionGithubConfigArgs.builder()
                .appInstallationId(123123)
                .authorizerCredential(ConnectionGithubConfigAuthorizerCredentialArgs.builder()
                    .oauthTokenSecretVersion("projects/my-project/secrets/github-pat-secret/versions/latest")
                    .build())
                .build())
            .build());

        var my_repository = new Repository("my-repository", RepositoryArgs.builder()
            .name("my-repo")
            .parentConnection(my_connection.id())
            .remoteUri("https://github.com/myuser/my-repo.git")
            .build());

        var mytopic = new Topic("mytopic", TopicArgs.builder()
            .name("my-topic")
            .build());

        var pubsub_with_repo_trigger = new Trigger("pubsub-with-repo-trigger", TriggerArgs.builder()
            .name("pubsub-with-repo-trigger")
            .location("us-central1")
            .pubsubConfig(TriggerPubsubConfigArgs.builder()
                .topic(mytopic.id())
                .build())
            .sourceToBuild(TriggerSourceToBuildArgs.builder()
                .repository(my_repository.id())
                .ref("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .gitFileSource(TriggerGitFileSourceArgs.builder()
                .path("cloudbuild.yaml")
                .repository(my_repository.id())
                .revision("refs/heads/main")
                .repoType("GITHUB")
                .build())
            .build());

    }
}
```
```yaml
resources:
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-connection
      githubConfig:
        appInstallationId: 123123
        authorizerCredential:
          oauthTokenSecretVersion: projects/my-project/secrets/github-pat-secret/versions/latest
  my-repository:
    type: gcp:cloudbuildv2:Repository
    properties:
      name: my-repo
      parentConnection: ${["my-connection"].id}
      remoteUri: https://github.com/myuser/my-repo.git
  mytopic:
    type: gcp:pubsub:Topic
    properties:
      name: my-topic
  pubsub-with-repo-trigger:
    type: gcp:cloudbuild:Trigger
    properties:
      name: pubsub-with-repo-trigger
      location: us-central1
      pubsubConfig:
        topic: ${mytopic.id}
      sourceToBuild:
        repository: ${["my-repository"].id}
        ref: refs/heads/main
        repoType: GITHUB
      gitFileSource:
        path: cloudbuild.yaml
        repository: ${["my-repository"].id}
        revision: refs/heads/main
        repoType: GITHUB
```
<!--End PulumiCodeChooser -->

## Import

Trigger can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/triggers/{{trigger_id}}`

* `projects/{{project}}/triggers/{{trigger_id}}`

* `{{project}}/{{trigger_id}}`

* `{{trigger_id}}`

When using the `pulumi import` command, Trigger can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudbuild/trigger:Trigger default projects/{{project}}/locations/{{location}}/triggers/{{trigger_id}}
```

```sh
$ pulumi import gcp:cloudbuild/trigger:Trigger default projects/{{project}}/triggers/{{trigger_id}}
```

```sh
$ pulumi import gcp:cloudbuild/trigger:Trigger default {{project}}/{{trigger_id}}
```

```sh
$ pulumi import gcp:cloudbuild/trigger:Trigger default {{trigger_id}}
```

†
approvalConfigeBc:a
_

cloudbuildTriggerApprovalConfig:gcp:cloudbuild/TriggerApprovalConfig:TriggerApprovalConfigŒConfiguration for manual approval to start a build invocation of this BuildTrigger.
Builds created by this trigger will require approval before they execute.
Any user with a Cloud Build Approver role for the project can approve a build.
Structure is documented below.
ß
bitbucketServerTriggerConfig’B:Œ
‰

cloudbuild#TriggerBitbucketServerTriggerConfigVgcp:cloudbuild/TriggerBitbucketServerTriggerConfig:TriggerBitbucketServerTriggerConfig©BitbucketServerTriggerConfig describes the configuration of a trigger that creates a build whenever a Bitbucket Server event is received.
Structure is documented below.
Ê
buildJBH:F
D

cloudbuildTriggerBuild(gcp:cloudbuild/TriggerBuild:TriggerBuilduContents of the build template. Either a filename or build template must be provided.
Structure is documented below.
@
descriptionB" +Human-readable description of the trigger.
m
disabledB
 [Whether the trigger is disabled or not. If true, the trigger will never result in a build.
¤
filenameB" ‘Path, from the source root, to a file whose contents is used for the template.
Either a filename or build template must be provided. Set this only when using trigger_template or github.
When using Pub/Sub, Webhook or Manual set the file name using git_file_source instead.
Y
filterB" IA Common Expression Language string. Used only with Pub/Sub and Webhook.
Ó
gitFileSourcebB`:^
\

cloudbuildTriggerGitFileSource8gcp:cloudbuild/TriggerGitFileSource:TriggerGitFileSource^The file source describing the local or remote Build template.
Structure is documented below.
·
githubMBK:I
G

cloudbuildTriggerGithub*gcp:cloudbuild/TriggerGithub:TriggerGithubÝDescribes the configuration of a trigger that creates a build whenever a GitHub event is received.
One of `trigger_template`, `github`, `pubsub_config` or `webhook_config` must be provided.
Structure is documented below.
á
ignoredFilesB*" ÈignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match
extended with support for `**`.
If ignoredFiles and changed files are both empty, then they are not
used to determine whether or not to trigger a build.
If ignoredFiles is not empty, then we ignore any files that match any
of the ignored_file globs. If the change has no files that are outside
of the ignoredFiles globs, then we do not trigger a build.
‹
includeBuildLogsB" ðBuild logs will be sent back to GitHub as part of the checkrun
result.  Values can be INCLUDE_BUILD_LOGS_UNSPECIFIED or
INCLUDE_BUILD_LOGS_WITH_STATUS
Possible values are: `INCLUDE_BUILD_LOGS_UNSPECIFIED`, `INCLUDE_BUILD_LOGS_WITH_STATUS`.
ª
includedFilesB*" ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match
extended with support for `**`.
If any of the files altered in the commit pass the ignoredFiles filter
and includedFiles is empty, then as far as this filter is concerned, we
should trigger the build.
If any of the files altered in the commit pass the ignoredFiles filter
and includedFiles is not empty, then we make sure that at least one of
those files matches a includedFiles glob. If not, then we do not trigger
a build.
‘
locationB" The [Cloud Build location](https://cloud.google.com/build/docs/locations) for the trigger.
If not specified, "global" is used.
F
nameB" 8Name of the trigger. Must be unique within the project.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
ò
pubsubConfig_B]:[
Y

cloudbuildTriggerPubsubConfig6gcp:cloudbuild/TriggerPubsubConfig:TriggerPubsubConfig€PubsubConfig describes the configuration of a trigger that creates
a build whenever a Pub/Sub message is published.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
–
repositoryEventConfigzBx:v
t

cloudbuildTriggerRepositoryEventConfigHgcp:cloudbuild/TriggerRepositoryEventConfig:TriggerRepositoryEventConfig€The configuration of a trigger that creates a build whenever an event from Repo API is received.
Structure is documented below.
ð
serviceAccountB" ×The service account used for all user-controlled operations including
triggers.patch, triggers.run, builds.create, and builds.cancel.
If no service account is set, then the standard Cloud Build service account
([PROJECT_NUM]@system.gserviceaccount.com) will be used instead.
Format: projects/{PROJECT_ID}/serviceAccounts/{ACCOUNT_ID_OR_EMAIL}
±
sourceToBuildbB`:^
\

cloudbuildTriggerSourceToBuild8gcp:cloudbuild/TriggerSourceToBuild:TriggerSourceToBuild»The repo and ref of the repository from which to build.
This field is used only for those triggers that do not respond to SCM events.
Triggers that respond to such events build source at whatever commit caused the event.
This field is currently only used by Webhook, Pub/Sub, Manual, and Cron triggers.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
@
substitutionsB2" 'Substitutions data for Build resource.
6
tagsB*" &Tags for annotation of a BuildTrigger
õ
triggerTemplatehBf:d
b

cloudbuildTriggerTriggerTemplate<gcp:cloudbuild/TriggerTriggerTemplate:TriggerTriggerTemplate÷Template describing the types of source changes to trigger a build.
Branch and tag names in trigger templates are interpreted as regular
expressions. Any branch or tag change that matches that regular
expression will trigger a build.
One of `trigger_template`, `github`, `pubsub_config`, `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
…
webhookConfigbB`:^
\

cloudbuildTriggerWebhookConfig8gcp:cloudbuild/TriggerWebhookConfig:TriggerWebhookConfigWebhookConfig describes the configuration of a trigger that creates
a build whenever a webhook is sent to a trigger's webhook URL.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
"„
approvalConfigc:a
_

cloudbuildTriggerApprovalConfig:gcp:cloudbuild/TriggerApprovalConfig:TriggerApprovalConfigŒConfiguration for manual approval to start a build invocation of this BuildTrigger.
Builds created by this trigger will require approval before they execute.
Any user with a Cloud Build Approver role for the project can approve a build.
Structure is documented below.
"ß
bitbucketServerTriggerConfig’B:Œ
‰

cloudbuild#TriggerBitbucketServerTriggerConfigVgcp:cloudbuild/TriggerBitbucketServerTriggerConfig:TriggerBitbucketServerTriggerConfig©BitbucketServerTriggerConfig describes the configuration of a trigger that creates a build whenever a Bitbucket Server event is received.
Structure is documented below.
"Ê
buildJBH:F
D

cloudbuildTriggerBuild(gcp:cloudbuild/TriggerBuild:TriggerBuilduContents of the build template. Either a filename or build template must be provided.
Structure is documented below.
"5

createTime" #Time when the trigger was created.
"@
descriptionB" +Human-readable description of the trigger.
"m
disabledB
 [Whether the trigger is disabled or not. If true, the trigger will never result in a build.
"¤
filenameB" ‘Path, from the source root, to a file whose contents is used for the template.
Either a filename or build template must be provided. Set this only when using trigger_template or github.
When using Pub/Sub, Webhook or Manual set the file name using git_file_source instead.
"Y
filterB" IA Common Expression Language string. Used only with Pub/Sub and Webhook.
"Ó
gitFileSourcebB`:^
\

cloudbuildTriggerGitFileSource8gcp:cloudbuild/TriggerGitFileSource:TriggerGitFileSource^The file source describing the local or remote Build template.
Structure is documented below.
"·
githubMBK:I
G

cloudbuildTriggerGithub*gcp:cloudbuild/TriggerGithub:TriggerGithubÝDescribes the configuration of a trigger that creates a build whenever a GitHub event is received.
One of `trigger_template`, `github`, `pubsub_config` or `webhook_config` must be provided.
Structure is documented below.
"á
ignoredFilesB*" ÈignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match
extended with support for `**`.
If ignoredFiles and changed files are both empty, then they are not
used to determine whether or not to trigger a build.
If ignoredFiles is not empty, then we ignore any files that match any
of the ignored_file globs. If the change has no files that are outside
of the ignoredFiles globs, then we do not trigger a build.
"‹
includeBuildLogsB" ðBuild logs will be sent back to GitHub as part of the checkrun
result.  Values can be INCLUDE_BUILD_LOGS_UNSPECIFIED or
INCLUDE_BUILD_LOGS_WITH_STATUS
Possible values are: `INCLUDE_BUILD_LOGS_UNSPECIFIED`, `INCLUDE_BUILD_LOGS_WITH_STATUS`.
"ª
includedFilesB*" ignoredFiles and includedFiles are file glob matches using https://golang.org/pkg/path/filepath/#Match
extended with support for `**`.
If any of the files altered in the commit pass the ignoredFiles filter
and includedFiles is empty, then as far as this filter is concerned, we
should trigger the build.
If any of the files altered in the commit pass the ignoredFiles filter
and includedFiles is not empty, then we make sure that at least one of
those files matches a includedFiles glob. If not, then we do not trigger
a build.
"‘
locationB" The [Cloud Build location](https://cloud.google.com/build/docs/locations) for the trigger.
If not specified, "global" is used.
"D
name" 8Name of the trigger. Must be unique within the project.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ò
pubsubConfig_B]:[
Y

cloudbuildTriggerPubsubConfig6gcp:cloudbuild/TriggerPubsubConfig:TriggerPubsubConfig€PubsubConfig describes the configuration of a trigger that creates
a build whenever a Pub/Sub message is published.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
"–
repositoryEventConfigzBx:v
t

cloudbuildTriggerRepositoryEventConfigHgcp:cloudbuild/TriggerRepositoryEventConfig:TriggerRepositoryEventConfig€The configuration of a trigger that creates a build whenever an event from Repo API is received.
Structure is documented below.
"ð
serviceAccountB" ×The service account used for all user-controlled operations including
triggers.patch, triggers.run, builds.create, and builds.cancel.
If no service account is set, then the standard Cloud Build service account
([PROJECT_NUM]@system.gserviceaccount.com) will be used instead.
Format: projects/{PROJECT_ID}/serviceAccounts/{ACCOUNT_ID_OR_EMAIL}
"±
sourceToBuildbB`:^
\

cloudbuildTriggerSourceToBuild8gcp:cloudbuild/TriggerSourceToBuild:TriggerSourceToBuild»The repo and ref of the repository from which to build.
This field is used only for those triggers that do not respond to SCM events.
Triggers that respond to such events build source at whatever commit caused the event.
This field is currently only used by Webhook, Pub/Sub, Manual, and Cron triggers.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
"@
substitutionsB2" 'Substitutions data for Build resource.
"6
tagsB*" &Tags for annotation of a BuildTrigger
"8
	triggerId" 'The unique identifier for the trigger.
"õ
triggerTemplatehBf:d
b

cloudbuildTriggerTriggerTemplate<gcp:cloudbuild/TriggerTriggerTemplate:TriggerTriggerTemplate÷Template describing the types of source changes to trigger a build.
Branch and tag names in trigger templates are interpreted as regular
expressions. Any branch or tag change that matches that regular
expression will trigger a build.
One of `trigger_template`, `github`, `pubsub_config`, `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
"…
webhookConfigbB`:^
\

cloudbuildTriggerWebhookConfig8gcp:cloudbuild/TriggerWebhookConfig:TriggerWebhookConfigWebhookConfig describes the configuration of a trigger that creates
a build whenever a webhook is sent to a trigger's webhook URL.
One of `trigger_template`, `github`, `pubsub_config` `webhook_config` or `source_to_build` must be provided.
Structure is documented below.
*å‰
>

cloudbuild
WorkerPool$gcp:cloudbuild/workerPool:WorkerPool÷pDefinition of custom Cloud Build WorkerPools for running jobs with custom configuration and custom networking.

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pool = new gcp.cloudbuild.WorkerPool("pool", {
    name: "my-pool",
    location: "europe-west1",
    workerConfig: {
        diskSizeGb: 100,
        machineType: "e2-standard-4",
        noExternalIp: false,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

pool = gcp.cloudbuild.WorkerPool("pool",
    name="my-pool",
    location="europe-west1",
    worker_config={
        "disk_size_gb": 100,
        "machine_type": "e2-standard-4",
        "no_external_ip": False,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pool = new Gcp.CloudBuild.WorkerPool("pool", new()
    {
        Name = "my-pool",
        Location = "europe-west1",
        WorkerConfig = new Gcp.CloudBuild.Inputs.WorkerPoolWorkerConfigArgs
        {
            DiskSizeGb = 100,
            MachineType = "e2-standard-4",
            NoExternalIp = false,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.NewWorkerPool(ctx, "pool", &cloudbuild.WorkerPoolArgs{
			Name:     pulumi.String("my-pool"),
			Location: pulumi.String("europe-west1"),
			WorkerConfig: &cloudbuild.WorkerPoolWorkerConfigArgs{
				DiskSizeGb:   pulumi.Int(100),
				MachineType:  pulumi.String("e2-standard-4"),
				NoExternalIp: pulumi.Bool(false),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.WorkerPool;
import com.pulumi.gcp.cloudbuild.WorkerPoolArgs;
import com.pulumi.gcp.cloudbuild.inputs.WorkerPoolWorkerConfigArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pool = new WorkerPool("pool", WorkerPoolArgs.builder()
            .name("my-pool")
            .location("europe-west1")
            .workerConfig(WorkerPoolWorkerConfigArgs.builder()
                .diskSizeGb(100)
                .machineType("e2-standard-4")
                .noExternalIp(false)
                .build())
            .build());

    }
}
```
```yaml
resources:
  pool:
    type: gcp:cloudbuild:WorkerPool
    properties:
      name: my-pool
      location: europe-west1
      workerConfig:
        diskSizeGb: 100
        machineType: e2-standard-4
        noExternalIp: false
```
<!--End PulumiCodeChooser -->

### Network Config

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const servicenetworking = new gcp.projects.Service("servicenetworking", {
    service: "servicenetworking.googleapis.com",
    disableOnDestroy: false,
});
const network = new gcp.compute.Network("network", {
    name: "my-network",
    autoCreateSubnetworks: false,
}, {
    dependsOn: [servicenetworking],
});
const workerRange = new gcp.compute.GlobalAddress("worker_range", {
    name: "worker-pool-range",
    purpose: "VPC_PEERING",
    addressType: "INTERNAL",
    prefixLength: 16,
    network: network.id,
});
const workerPoolConn = new gcp.servicenetworking.Connection("worker_pool_conn", {
    network: network.id,
    service: "servicenetworking.googleapis.com",
    reservedPeeringRanges: [workerRange.name],
}, {
    dependsOn: [servicenetworking],
});
const pool = new gcp.cloudbuild.WorkerPool("pool", {
    name: "my-pool",
    location: "europe-west1",
    workerConfig: {
        diskSizeGb: 100,
        machineType: "e2-standard-4",
        noExternalIp: false,
    },
    networkConfig: {
        peeredNetwork: network.id,
        peeredNetworkIpRange: "/29",
    },
}, {
    dependsOn: [workerPoolConn],
});
```
```python
import pulumi
import pulumi_gcp as gcp

servicenetworking = gcp.projects.Service("servicenetworking",
    service="servicenetworking.googleapis.com",
    disable_on_destroy=False)
network = gcp.compute.Network("network",
    name="my-network",
    auto_create_subnetworks=False,
    opts = pulumi.ResourceOptions(depends_on=[servicenetworking]))
worker_range = gcp.compute.GlobalAddress("worker_range",
    name="worker-pool-range",
    purpose="VPC_PEERING",
    address_type="INTERNAL",
    prefix_length=16,
    network=network.id)
worker_pool_conn = gcp.servicenetworking.Connection("worker_pool_conn",
    network=network.id,
    service="servicenetworking.googleapis.com",
    reserved_peering_ranges=[worker_range.name],
    opts = pulumi.ResourceOptions(depends_on=[servicenetworking]))
pool = gcp.cloudbuild.WorkerPool("pool",
    name="my-pool",
    location="europe-west1",
    worker_config={
        "disk_size_gb": 100,
        "machine_type": "e2-standard-4",
        "no_external_ip": False,
    },
    network_config={
        "peered_network": network.id,
        "peered_network_ip_range": "/29",
    },
    opts = pulumi.ResourceOptions(depends_on=[worker_pool_conn]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var servicenetworking = new Gcp.Projects.Service("servicenetworking", new()
    {
        ServiceName = "servicenetworking.googleapis.com",
        DisableOnDestroy = false,
    });

    var network = new Gcp.Compute.Network("network", new()
    {
        Name = "my-network",
        AutoCreateSubnetworks = false,
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            servicenetworking,
        },
    });

    var workerRange = new Gcp.Compute.GlobalAddress("worker_range", new()
    {
        Name = "worker-pool-range",
        Purpose = "VPC_PEERING",
        AddressType = "INTERNAL",
        PrefixLength = 16,
        Network = network.Id,
    });

    var workerPoolConn = new Gcp.ServiceNetworking.Connection("worker_pool_conn", new()
    {
        Network = network.Id,
        Service = "servicenetworking.googleapis.com",
        ReservedPeeringRanges = new[]
        {
            workerRange.Name,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            servicenetworking,
        },
    });

    var pool = new Gcp.CloudBuild.WorkerPool("pool", new()
    {
        Name = "my-pool",
        Location = "europe-west1",
        WorkerConfig = new Gcp.CloudBuild.Inputs.WorkerPoolWorkerConfigArgs
        {
            DiskSizeGb = 100,
            MachineType = "e2-standard-4",
            NoExternalIp = false,
        },
        NetworkConfig = new Gcp.CloudBuild.Inputs.WorkerPoolNetworkConfigArgs
        {
            PeeredNetwork = network.Id,
            PeeredNetworkIpRange = "/29",
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            workerPoolConn,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/compute"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/servicenetworking"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		servicenetworking, err := projects.NewService(ctx, "servicenetworking", &projects.ServiceArgs{
			Service:          pulumi.String("servicenetworking.googleapis.com"),
			DisableOnDestroy: pulumi.Bool(false),
		})
		if err != nil {
			return err
		}
		network, err := compute.NewNetwork(ctx, "network", &compute.NetworkArgs{
			Name:                  pulumi.String("my-network"),
			AutoCreateSubnetworks: pulumi.Bool(false),
		}, pulumi.DependsOn([]pulumi.Resource{
			servicenetworking,
		}))
		if err != nil {
			return err
		}
		workerRange, err := compute.NewGlobalAddress(ctx, "worker_range", &compute.GlobalAddressArgs{
			Name:         pulumi.String("worker-pool-range"),
			Purpose:      pulumi.String("VPC_PEERING"),
			AddressType:  pulumi.String("INTERNAL"),
			PrefixLength: pulumi.Int(16),
			Network:      network.ID(),
		})
		if err != nil {
			return err
		}
		workerPoolConn, err := servicenetworking.NewConnection(ctx, "worker_pool_conn", &servicenetworking.ConnectionArgs{
			Network: network.ID(),
			Service: pulumi.String("servicenetworking.googleapis.com"),
			ReservedPeeringRanges: pulumi.StringArray{
				workerRange.Name,
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			servicenetworking,
		}))
		if err != nil {
			return err
		}
		_, err = cloudbuild.NewWorkerPool(ctx, "pool", &cloudbuild.WorkerPoolArgs{
			Name:     pulumi.String("my-pool"),
			Location: pulumi.String("europe-west1"),
			WorkerConfig: &cloudbuild.WorkerPoolWorkerConfigArgs{
				DiskSizeGb:   pulumi.Int(100),
				MachineType:  pulumi.String("e2-standard-4"),
				NoExternalIp: pulumi.Bool(false),
			},
			NetworkConfig: &cloudbuild.WorkerPoolNetworkConfigArgs{
				PeeredNetwork:        network.ID(),
				PeeredNetworkIpRange: pulumi.String("/29"),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			workerPoolConn,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.projects.Service;
import com.pulumi.gcp.projects.ServiceArgs;
import com.pulumi.gcp.compute.Network;
import com.pulumi.gcp.compute.NetworkArgs;
import com.pulumi.gcp.compute.GlobalAddress;
import com.pulumi.gcp.compute.GlobalAddressArgs;
import com.pulumi.gcp.servicenetworking.Connection;
import com.pulumi.gcp.servicenetworking.ConnectionArgs;
import com.pulumi.gcp.cloudbuild.WorkerPool;
import com.pulumi.gcp.cloudbuild.WorkerPoolArgs;
import com.pulumi.gcp.cloudbuild.inputs.WorkerPoolWorkerConfigArgs;
import com.pulumi.gcp.cloudbuild.inputs.WorkerPoolNetworkConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var servicenetworking = new Service("servicenetworking", ServiceArgs.builder()
            .service("servicenetworking.googleapis.com")
            .disableOnDestroy(false)
            .build());

        var network = new Network("network", NetworkArgs.builder()
            .name("my-network")
            .autoCreateSubnetworks(false)
            .build(), CustomResourceOptions.builder()
                .dependsOn(servicenetworking)
                .build());

        var workerRange = new GlobalAddress("workerRange", GlobalAddressArgs.builder()
            .name("worker-pool-range")
            .purpose("VPC_PEERING")
            .addressType("INTERNAL")
            .prefixLength(16)
            .network(network.id())
            .build());

        var workerPoolConn = new Connection("workerPoolConn", ConnectionArgs.builder()
            .network(network.id())
            .service("servicenetworking.googleapis.com")
            .reservedPeeringRanges(workerRange.name())
            .build(), CustomResourceOptions.builder()
                .dependsOn(servicenetworking)
                .build());

        var pool = new WorkerPool("pool", WorkerPoolArgs.builder()
            .name("my-pool")
            .location("europe-west1")
            .workerConfig(WorkerPoolWorkerConfigArgs.builder()
                .diskSizeGb(100)
                .machineType("e2-standard-4")
                .noExternalIp(false)
                .build())
            .networkConfig(WorkerPoolNetworkConfigArgs.builder()
                .peeredNetwork(network.id())
                .peeredNetworkIpRange("/29")
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(workerPoolConn)
                .build());

    }
}
```
```yaml
resources:
  servicenetworking:
    type: gcp:projects:Service
    properties:
      service: servicenetworking.googleapis.com
      disableOnDestroy: false
  network:
    type: gcp:compute:Network
    properties:
      name: my-network
      autoCreateSubnetworks: false
    options:
      dependsOn:
        - ${servicenetworking}
  workerRange:
    type: gcp:compute:GlobalAddress
    name: worker_range
    properties:
      name: worker-pool-range
      purpose: VPC_PEERING
      addressType: INTERNAL
      prefixLength: 16
      network: ${network.id}
  workerPoolConn:
    type: gcp:servicenetworking:Connection
    name: worker_pool_conn
    properties:
      network: ${network.id}
      service: servicenetworking.googleapis.com
      reservedPeeringRanges:
        - ${workerRange.name}
    options:
      dependsOn:
        - ${servicenetworking}
  pool:
    type: gcp:cloudbuild:WorkerPool
    properties:
      name: my-pool
      location: europe-west1
      workerConfig:
        diskSizeGb: 100
        machineType: e2-standard-4
        noExternalIp: false
      networkConfig:
        peeredNetwork: ${network.id}
        peeredNetworkIpRange: /29
    options:
      dependsOn:
        - ${workerPoolConn}
```
<!--End PulumiCodeChooser -->

## Import

WorkerPool can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/workerPools/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, WorkerPool can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudbuild/workerPool:WorkerPool default projects/{{project}}/locations/{{location}}/workerPools/{{name}}
```

```sh
$ pulumi import gcp:cloudbuild/workerPool:WorkerPool default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:cloudbuild/workerPool:WorkerPool default {{location}}/{{name}}
```

ê
annotationsB2" ÒUser specified annotations. See https://google.aip.dev/128#annotations for more details such as format and size
limitations. **Note**: This field is non-authoritative, and will only manage the annotations present in your
configuration. Please refer to the field `effective_annotations` for all of the annotations present on the resource.
‚
displayNameB" mA user-specified, human-readable name for the `WorkerPool`. If provided, this value must be 1-63 characters.
.
location" The location for the resource
=
nameB" /User-defined name of the `WorkerPool`.


- - -
É
networkConfigkBi:g
e

cloudbuildWorkerPoolNetworkConfig>gcp:cloudbuild/WorkerPoolNetworkConfig:WorkerPoolNetworkConfigKNetwork configuration for the `WorkerPool`. Structure is documented below.
Ô
privateServiceConnect„B:
}

cloudbuildWorkerPoolPrivateServiceConnectNgcp:cloudbuild/WorkerPoolPrivateServiceConnect:WorkerPoolPrivateServiceConnect4Private Service Connect configuration for the pool.
.
projectB" The project for the resource
Þ
workerConfighBf:d
b

cloudbuildWorkerPoolWorkerConfig<gcp:cloudbuild/WorkerPoolWorkerConfig:WorkerPoolWorkerConfigdConfiguration to be used for a creating workers in the `WorkerPool`. Structure is documented below.
"ê
annotationsB2" ÒUser specified annotations. See https://google.aip.dev/128#annotations for more details such as format and size
limitations. **Note**: This field is non-authoritative, and will only manage the annotations present in your
configuration. Please refer to the field `effective_annotations` for all of the annotations present on the resource.
"b

createTime" POutput only. Time at which the request to create the `WorkerPool` was received.
"b

deleteTime" POutput only. Time at which the request to delete the `WorkerPool` was received.
"‚
displayNameB" mA user-specified, human-readable name for the `WorkerPool`. If provided, this value must be 1-63 characters.
"
effectiveAnnotations2" ".
location" The location for the resource
";
name" /User-defined name of the `WorkerPool`.


- - -
"É
networkConfigkBi:g
e

cloudbuildWorkerPoolNetworkConfig>gcp:cloudbuild/WorkerPoolNetworkConfig:WorkerPoolNetworkConfigKNetwork configuration for the `WorkerPool`. Structure is documented below.
"Ô
privateServiceConnect„B:
}

cloudbuildWorkerPoolPrivateServiceConnectNgcp:cloudbuild/WorkerPoolPrivateServiceConnect:WorkerPoolPrivateServiceConnect4Private Service Connect configuration for the pool.
",
project" The project for the resource
"w
state" jOutput only. WorkerPool state. Possible values: STATE_UNSPECIFIED, PENDING, APPROVED, REJECTED, CANCELLED
"B
uid" 7Output only. A unique identifier for the `WorkerPool`.
"b

updateTime" POutput only. Time at which the request to update the `WorkerPool` was received.
"Ü
workerConfigf:d
b

cloudbuildWorkerPoolWorkerConfig<gcp:cloudbuild/WorkerPoolWorkerConfig:WorkerPoolWorkerConfigdConfiguration to be used for a creating workers in the `WorkerPool`. Structure is documented below.
*ž
B
cloudbuildv2
Connection&gcp:cloudbuildv2/connection:ConnectionÓøA connection to a SCM like GitHub, GitHub Enterprise, Bitbucket Data Center/Cloud or GitLab.


To get more information about Connection, see:

* [API documentation](https://cloud.google.com/build/docs/api/reference/rest)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/build/docs)

## Example Usage

### Cloudbuildv2 Connection


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "tf-test-connection",
    githubConfig: {
        appInstallationId: 0,
        authorizerCredential: {
            oauthTokenSecretVersion: "projects/gcb-terraform-creds/secrets/github-pat/versions/1",
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="tf-test-connection",
    github_config={
        "app_installation_id": 0,
        "authorizer_credential": {
            "oauth_token_secret_version": "projects/gcb-terraform-creds/secrets/github-pat/versions/1",
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "tf-test-connection",
        GithubConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigArgs
        {
            AppInstallationId = 0,
            AuthorizerCredential = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigAuthorizerCredentialArgs
            {
                OauthTokenSecretVersion = "projects/gcb-terraform-creds/secrets/github-pat/versions/1",
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("tf-test-connection"),
			GithubConfig: &cloudbuildv2.ConnectionGithubConfigArgs{
				AppInstallationId: pulumi.Int(0),
				AuthorizerCredential: &cloudbuildv2.ConnectionGithubConfigAuthorizerCredentialArgs{
					OauthTokenSecretVersion: pulumi.String("projects/gcb-terraform-creds/secrets/github-pat/versions/1"),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigAuthorizerCredentialArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("tf-test-connection")
            .githubConfig(ConnectionGithubConfigArgs.builder()
                .appInstallationId(0)
                .authorizerCredential(ConnectionGithubConfigAuthorizerCredentialArgs.builder()
                    .oauthTokenSecretVersion("projects/gcb-terraform-creds/secrets/github-pat/versions/1")
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: tf-test-connection
      githubConfig:
        appInstallationId: 0
        authorizerCredential:
          oauthTokenSecretVersion: projects/gcb-terraform-creds/secrets/github-pat/versions/1
```
<!--End PulumiCodeChooser -->
### Cloudbuildv2 Connection Ghe


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const private_key_secret = new gcp.secretmanager.Secret("private-key-secret", {
    secretId: "ghe-pk-secret",
    replication: {
        auto: {},
    },
});
const private_key_secret_version = new gcp.secretmanager.SecretVersion("private-key-secret-version", {
    secret: private_key_secret.id,
    secretData: std.file({
        input: "private-key.pem",
    }).then(invoke => invoke.result),
});
const webhook_secret_secret = new gcp.secretmanager.Secret("webhook-secret-secret", {
    secretId: "github-token-secret",
    replication: {
        auto: {},
    },
});
const webhook_secret_secret_version = new gcp.secretmanager.SecretVersion("webhook-secret-secret-version", {
    secret: webhook_secret_secret.id,
    secretData: "<webhook-secret-data>",
});
const p4sa-secretAccessor = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/secretmanager.secretAccessor",
        members: ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
    }],
});
const policy_pk = new gcp.secretmanager.SecretIamPolicy("policy-pk", {
    secretId: private_key_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const policy_whs = new gcp.secretmanager.SecretIamPolicy("policy-whs", {
    secretId: webhook_secret_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-terraform-ghe-connection",
    githubEnterpriseConfig: {
        hostUri: "https://ghe.com",
        privateKeySecretVersion: private_key_secret_version.id,
        webhookSecretSecretVersion: webhook_secret_secret_version.id,
        appId: 200,
        appSlug: "gcb-app",
        appInstallationId: 300,
    },
}, {
    dependsOn: [
        policy_pk,
        policy_whs,
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

private_key_secret = gcp.secretmanager.Secret("private-key-secret",
    secret_id="ghe-pk-secret",
    replication={
        "auto": {},
    })
private_key_secret_version = gcp.secretmanager.SecretVersion("private-key-secret-version",
    secret=private_key_secret.id,
    secret_data=std.file(input="private-key.pem").result)
webhook_secret_secret = gcp.secretmanager.Secret("webhook-secret-secret",
    secret_id="github-token-secret",
    replication={
        "auto": {},
    })
webhook_secret_secret_version = gcp.secretmanager.SecretVersion("webhook-secret-secret-version",
    secret=webhook_secret_secret.id,
    secret_data="<webhook-secret-data>")
p4sa_secret_accessor = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/secretmanager.secretAccessor",
    "members": ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
}])
policy_pk = gcp.secretmanager.SecretIamPolicy("policy-pk",
    secret_id=private_key_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
policy_whs = gcp.secretmanager.SecretIamPolicy("policy-whs",
    secret_id=webhook_secret_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-terraform-ghe-connection",
    github_enterprise_config={
        "host_uri": "https://ghe.com",
        "private_key_secret_version": private_key_secret_version.id,
        "webhook_secret_secret_version": webhook_secret_secret_version.id,
        "app_id": 200,
        "app_slug": "gcb-app",
        "app_installation_id": 300,
    },
    opts = pulumi.ResourceOptions(depends_on=[
            policy_pk,
            policy_whs,
        ]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var private_key_secret = new Gcp.SecretManager.Secret("private-key-secret", new()
    {
        SecretId = "ghe-pk-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var private_key_secret_version = new Gcp.SecretManager.SecretVersion("private-key-secret-version", new()
    {
        Secret = private_key_secret.Id,
        SecretData = Std.File.Invoke(new()
        {
            Input = "private-key.pem",
        }).Apply(invoke => invoke.Result),
    });

    var webhook_secret_secret = new Gcp.SecretManager.Secret("webhook-secret-secret", new()
    {
        SecretId = "github-token-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var webhook_secret_secret_version = new Gcp.SecretManager.SecretVersion("webhook-secret-secret-version", new()
    {
        Secret = webhook_secret_secret.Id,
        SecretData = "<webhook-secret-data>",
    });

    var p4sa_secretAccessor = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/secretmanager.secretAccessor",
                Members = new[]
                {
                    "serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
                },
            },
        },
    });

    var policy_pk = new Gcp.SecretManager.SecretIamPolicy("policy-pk", new()
    {
        SecretId = private_key_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var policy_whs = new Gcp.SecretManager.SecretIamPolicy("policy-whs", new()
    {
        SecretId = webhook_secret_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-terraform-ghe-connection",
        GithubEnterpriseConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubEnterpriseConfigArgs
        {
            HostUri = "https://ghe.com",
            PrivateKeySecretVersion = private_key_secret_version.Id,
            WebhookSecretSecretVersion = webhook_secret_secret_version.Id,
            AppId = 200,
            AppSlug = "gcb-app",
            AppInstallationId = 300,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            policy_pk,
            policy_whs,
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := secretmanager.NewSecret(ctx, "private-key-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("ghe-pk-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "private-key.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "private-key-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     private_key_secret.ID(),
			SecretData: pulumi.String(invokeFile.Result),
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecret(ctx, "webhook-secret-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("github-token-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "webhook-secret-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     webhook_secret_secret.ID(),
			SecretData: pulumi.String("<webhook-secret-data>"),
		})
		if err != nil {
			return err
		}
		p4sa_secretAccessor, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/secretmanager.secretAccessor",
					Members: []string{
						"serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy-pk", &secretmanager.SecretIamPolicyArgs{
			SecretId:   private_key_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy-whs", &secretmanager.SecretIamPolicyArgs{
			SecretId:   webhook_secret_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-terraform-ghe-connection"),
			GithubEnterpriseConfig: &cloudbuildv2.ConnectionGithubEnterpriseConfigArgs{
				HostUri:                    pulumi.String("https://ghe.com"),
				PrivateKeySecretVersion:    private_key_secret_version.ID(),
				WebhookSecretSecretVersion: webhook_secret_secret_version.ID(),
				AppId:                      pulumi.Int(200),
				AppSlug:                    pulumi.String("gcb-app"),
				AppInstallationId:          pulumi.Int(300),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			policy_pk,
			policy_whs,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationAutoArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.secretmanager.SecretIamPolicy;
import com.pulumi.gcp.secretmanager.SecretIamPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubEnterpriseConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var private_key_secret = new Secret("private-key-secret", SecretArgs.builder()
            .secretId("ghe-pk-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var private_key_secret_version = new SecretVersion("private-key-secret-version", SecretVersionArgs.builder()
            .secret(private_key_secret.id())
            .secretData(StdFunctions.file(FileArgs.builder()
                .input("private-key.pem")
                .build()).result())
            .build());

        var webhook_secret_secret = new Secret("webhook-secret-secret", SecretArgs.builder()
            .secretId("github-token-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var webhook_secret_secret_version = new SecretVersion("webhook-secret-secret-version", SecretVersionArgs.builder()
            .secret(webhook_secret_secret.id())
            .secretData("<webhook-secret-data>")
            .build());

        final var p4sa-secretAccessor = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/secretmanager.secretAccessor")
                .members("serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com")
                .build())
            .build());

        var policy_pk = new SecretIamPolicy("policy-pk", SecretIamPolicyArgs.builder()
            .secretId(private_key_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var policy_whs = new SecretIamPolicy("policy-whs", SecretIamPolicyArgs.builder()
            .secretId(webhook_secret_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-terraform-ghe-connection")
            .githubEnterpriseConfig(ConnectionGithubEnterpriseConfigArgs.builder()
                .hostUri("https://ghe.com")
                .privateKeySecretVersion(private_key_secret_version.id())
                .webhookSecretSecretVersion(webhook_secret_secret_version.id())
                .appId(200)
                .appSlug("gcb-app")
                .appInstallationId(300)
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    policy_pk,
                    policy_whs)
                .build());

    }
}
```
```yaml
resources:
  private-key-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: ghe-pk-secret
      replication:
        auto: {}
  private-key-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["private-key-secret"].id}
      secretData:
        fn::invoke:
          function: std:file
          arguments:
            input: private-key.pem
          return: result
  webhook-secret-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: github-token-secret
      replication:
        auto: {}
  webhook-secret-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["webhook-secret-secret"].id}
      secretData: <webhook-secret-data>
  policy-pk:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["private-key-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  policy-whs:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["webhook-secret-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-terraform-ghe-connection
      githubEnterpriseConfig:
        hostUri: https://ghe.com
        privateKeySecretVersion: ${["private-key-secret-version"].id}
        webhookSecretSecretVersion: ${["webhook-secret-secret-version"].id}
        appId: 200
        appSlug: gcb-app
        appInstallationId: 300
    options:
      dependsOn:
        - ${["policy-pk"]}
        - ${["policy-whs"]}
variables:
  p4sa-secretAccessor:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/secretmanager.secretAccessor
            members:
              - serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com
```
<!--End PulumiCodeChooser -->
### Cloudbuildv2 Connection Github


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const github_token_secret = new gcp.secretmanager.Secret("github-token-secret", {
    secretId: "github-token-secret",
    replication: {
        auto: {},
    },
});
const github_token_secret_version = new gcp.secretmanager.SecretVersion("github-token-secret-version", {
    secret: github_token_secret.id,
    secretData: std.file({
        input: "my-github-token.txt",
    }).then(invoke => invoke.result),
});
const p4sa-secretAccessor = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/secretmanager.secretAccessor",
        members: ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
    }],
});
const policy = new gcp.secretmanager.SecretIamPolicy("policy", {
    secretId: github_token_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-connection",
    githubConfig: {
        appInstallationId: 123123,
        authorizerCredential: {
            oauthTokenSecretVersion: github_token_secret_version.id,
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

github_token_secret = gcp.secretmanager.Secret("github-token-secret",
    secret_id="github-token-secret",
    replication={
        "auto": {},
    })
github_token_secret_version = gcp.secretmanager.SecretVersion("github-token-secret-version",
    secret=github_token_secret.id,
    secret_data=std.file(input="my-github-token.txt").result)
p4sa_secret_accessor = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/secretmanager.secretAccessor",
    "members": ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
}])
policy = gcp.secretmanager.SecretIamPolicy("policy",
    secret_id=github_token_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-connection",
    github_config={
        "app_installation_id": 123123,
        "authorizer_credential": {
            "oauth_token_secret_version": github_token_secret_version.id,
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var github_token_secret = new Gcp.SecretManager.Secret("github-token-secret", new()
    {
        SecretId = "github-token-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var github_token_secret_version = new Gcp.SecretManager.SecretVersion("github-token-secret-version", new()
    {
        Secret = github_token_secret.Id,
        SecretData = Std.File.Invoke(new()
        {
            Input = "my-github-token.txt",
        }).Apply(invoke => invoke.Result),
    });

    var p4sa_secretAccessor = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/secretmanager.secretAccessor",
                Members = new[]
                {
                    "serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
                },
            },
        },
    });

    var policy = new Gcp.SecretManager.SecretIamPolicy("policy", new()
    {
        SecretId = github_token_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-connection",
        GithubConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigArgs
        {
            AppInstallationId = 123123,
            AuthorizerCredential = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigAuthorizerCredentialArgs
            {
                OauthTokenSecretVersion = github_token_secret_version.Id,
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := secretmanager.NewSecret(ctx, "github-token-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("github-token-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "my-github-token.txt",
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "github-token-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     github_token_secret.ID(),
			SecretData: pulumi.String(invokeFile.Result),
		})
		if err != nil {
			return err
		}
		p4sa_secretAccessor, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/secretmanager.secretAccessor",
					Members: []string{
						"serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy", &secretmanager.SecretIamPolicyArgs{
			SecretId:   github_token_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-connection"),
			GithubConfig: &cloudbuildv2.ConnectionGithubConfigArgs{
				AppInstallationId: pulumi.Int(123123),
				AuthorizerCredential: &cloudbuildv2.ConnectionGithubConfigAuthorizerCredentialArgs{
					OauthTokenSecretVersion: github_token_secret_version.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationAutoArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.secretmanager.SecretIamPolicy;
import com.pulumi.gcp.secretmanager.SecretIamPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigAuthorizerCredentialArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var github_token_secret = new Secret("github-token-secret", SecretArgs.builder()
            .secretId("github-token-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var github_token_secret_version = new SecretVersion("github-token-secret-version", SecretVersionArgs.builder()
            .secret(github_token_secret.id())
            .secretData(StdFunctions.file(FileArgs.builder()
                .input("my-github-token.txt")
                .build()).result())
            .build());

        final var p4sa-secretAccessor = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/secretmanager.secretAccessor")
                .members("serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com")
                .build())
            .build());

        var policy = new SecretIamPolicy("policy", SecretIamPolicyArgs.builder()
            .secretId(github_token_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-connection")
            .githubConfig(ConnectionGithubConfigArgs.builder()
                .appInstallationId(123123)
                .authorizerCredential(ConnectionGithubConfigAuthorizerCredentialArgs.builder()
                    .oauthTokenSecretVersion(github_token_secret_version.id())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  github-token-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: github-token-secret
      replication:
        auto: {}
  github-token-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["github-token-secret"].id}
      secretData:
        fn::invoke:
          function: std:file
          arguments:
            input: my-github-token.txt
          return: result
  policy:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["github-token-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-connection
      githubConfig:
        appInstallationId: 123123
        authorizerCredential:
          oauthTokenSecretVersion: ${["github-token-secret-version"].id}
variables:
  p4sa-secretAccessor:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/secretmanager.secretAccessor
            members:
              - serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com
```
<!--End PulumiCodeChooser -->

## Import

Connection can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/connections/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

* `{{name}}`

When using the `pulumi import` command, Connection can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudbuildv2/connection:Connection default projects/{{project}}/locations/{{location}}/connections/{{name}}
```

```sh
$ pulumi import gcp:cloudbuildv2/connection:Connection default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:cloudbuildv2/connection:Connection default {{location}}/{{name}}
```

```sh
$ pulumi import gcp:cloudbuildv2/connection:Connection default {{name}}
```

¦
annotationsB2" ŽAllows clients to store small amounts of arbitrary data.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
ò
bitbucketCloudConfig†Bƒ:€
~
cloudbuildv2ConnectionBitbucketCloudConfigNgcp:cloudbuildv2/ConnectionBitbucketCloudConfig:ConnectionBitbucketCloudConfigQConfiguration for connections to Bitbucket Cloud.
Structure is documented below.

bitbucketDataCenterConfig–B“:

cloudbuildv2#ConnectionBitbucketDataCenterConfigXgcp:cloudbuildv2/ConnectionBitbucketDataCenterConfig:ConnectionBitbucketDataCenterConfigWConfiguration for connections to Bitbucket Data Center.
Structure is documented below.
É
disabledB
 ¶If disabled is set to true, functionality is disabled for this connection. Repository based API methods and webhooks processing for repositories in this connection will be disabled.
Ê
githubConfiglBj:h
f
cloudbuildv2ConnectionGithubConfig>gcp:cloudbuildv2/ConnectionGithubConfig:ConnectionGithubConfigLConfiguration for connections to github.com.
Structure is documented below.
Œ
githubEnterpriseConfigBŠ:‡
„
cloudbuildv2 ConnectionGithubEnterpriseConfigRgcp:cloudbuildv2/ConnectionGithubEnterpriseConfig:ConnectionGithubEnterpriseConfigbConfiguration for connections to an instance of GitHub Enterprise.
Structure is documented below.
î
gitlabConfiglBj:h
f
cloudbuildv2ConnectionGitlabConfig>gcp:cloudbuildv2/ConnectionGitlabConfig:ConnectionGitlabConfigpConfiguration for connections to gitlab.com or an instance of GitLab Enterprise.
Structure is documented below.
6
location" &The location for the resource


- - -
>
nameB" 0Immutable. The resource name of the connection.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"¦
annotationsB2" ŽAllows clients to store small amounts of arbitrary data.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
"ò
bitbucketCloudConfig†Bƒ:€
~
cloudbuildv2ConnectionBitbucketCloudConfigNgcp:cloudbuildv2/ConnectionBitbucketCloudConfig:ConnectionBitbucketCloudConfigQConfiguration for connections to Bitbucket Cloud.
Structure is documented below.
"
bitbucketDataCenterConfig–B“:

cloudbuildv2#ConnectionBitbucketDataCenterConfigXgcp:cloudbuildv2/ConnectionBitbucketDataCenterConfig:ConnectionBitbucketDataCenterConfigWConfiguration for connections to Bitbucket Data Center.
Structure is documented below.
"^

createTime" LOutput only. Server assigned timestamp for when the connection was created.
"É
disabledB
 ¶If disabled is set to true, functionality is disabled for this connection. Repository based API methods and webhooks processing for repositories in this connection will be disabled.
"
effectiveAnnotations2" "Ç
etag" ºThis checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
"Ê
githubConfiglBj:h
f
cloudbuildv2ConnectionGithubConfig>gcp:cloudbuildv2/ConnectionGithubConfig:ConnectionGithubConfigLConfiguration for connections to github.com.
Structure is documented below.
"Œ
githubEnterpriseConfigBŠ:‡
„
cloudbuildv2 ConnectionGithubEnterpriseConfigRgcp:cloudbuildv2/ConnectionGithubEnterpriseConfig:ConnectionGithubEnterpriseConfigbConfiguration for connections to an instance of GitHub Enterprise.
Structure is documented below.
"î
gitlabConfiglBj:h
f
cloudbuildv2ConnectionGitlabConfig>gcp:cloudbuildv2/ConnectionGitlabConfig:ConnectionGitlabConfigpConfiguration for connections to gitlab.com or an instance of GitLab Enterprise.
Structure is documented below.
"å
installationStates{*y:w
u
cloudbuildv2ConnectionInstallationStateHgcp:cloudbuildv2/ConnectionInstallationState:ConnectionInstallationStateROutput only. Installation state of the Connection.
Structure is documented below.
"6
location" &The location for the resource


- - -
"<
name" 0Immutable. The resource name of the connection.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"n
reconciling
 [Output only. Set to true when the connection is being set up or updated in the background.
"^

updateTime" LOutput only. Server assigned timestamp for when the connection was updated.
*íí
`
cloudbuildv2ConnectionIAMBinding:gcp:cloudbuildv2/connectionIAMBinding:ConnectionIAMBindingòÈThree different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Build v2 Connection
Three different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/connections/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

* {{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Build v2 connection IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMBinding:ConnectionIAMBinding editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMBinding:ConnectionIAMBinding editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMBinding:ConnectionIAMBinding editor projects/{{project}}/locations/{{location}}/connections/{{connection}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.


	conditionB:}
{
cloudbuildv2ConnectionIAMBindingConditionLgcp:cloudbuildv2/ConnectionIAMBindingCondition:ConnectionIAMBindingConditionÃ
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
I
nameB" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudbuildv2.ConnectionIAMBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"
	conditionB:}
{
cloudbuildv2ConnectionIAMBindingConditionLgcp:cloudbuildv2/ConnectionIAMBindingCondition:ConnectionIAMBindingCondition"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"G
name" ;Used to find the parent resource to bind the IAM policy to
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudbuildv2.ConnectionIAMBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*Öí
]
cloudbuildv2ConnectionIAMMember8gcp:cloudbuildv2/connectionIAMMember:ConnectionIAMMemberìÈThree different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Build v2 Connection
Three different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/connections/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

* {{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Build v2 connection IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMMember:ConnectionIAMMember editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMMember:ConnectionIAMMember editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMMember:ConnectionIAMMember editor projects/{{project}}/locations/{{location}}/connections/{{connection}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

‹
	condition~B|:z
x
cloudbuildv2ConnectionIAMMemberConditionJgcp:cloudbuildv2/ConnectionIAMMemberCondition:ConnectionIAMMemberConditionÃ
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
I
nameB" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudbuildv2.ConnectionIAMBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"‹
	condition~B|:z
x
cloudbuildv2ConnectionIAMMemberConditionJgcp:cloudbuildv2/ConnectionIAMMemberCondition:ConnectionIAMMemberCondition"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"G
name" ;Used to find the parent resource to bind the IAM policy to
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudbuildv2.ConnectionIAMBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*ŽÖ
]
cloudbuildv2ConnectionIAMPolicy8gcp:cloudbuildv2/connectionIAMPolicy:ConnectionIAMPolicyìÈThree different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Build v2 Connection
Three different resources help you manage your IAM policy for Cloud Build v2 Connection. Each of these resources serves a different use case:

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Authoritative. Sets the IAM policy for the connection and replaces any existing policy already attached.
* `gcp.cloudbuildv2.ConnectionIAMBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the connection are preserved.
* `gcp.cloudbuildv2.ConnectionIAMMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the connection are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudbuildv2.ConnectionIAMPolicy`: Retrieves the IAM policy for the connection

> **Note:** `gcp.cloudbuildv2.ConnectionIAMPolicy` **cannot** be used in conjunction with `gcp.cloudbuildv2.ConnectionIAMBinding` and `gcp.cloudbuildv2.ConnectionIAMMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudbuildv2.ConnectionIAMBinding` resources **can be** used in conjunction with `gcp.cloudbuildv2.ConnectionIAMMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudbuildv2.ConnectionIAMPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/cloudbuild.connectionViewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudbuildv2.ConnectionIAMPolicy("policy", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/cloudbuild.connectionViewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudbuildv2.ConnectionIAMPolicy("policy",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/cloudbuild.connectionViewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudBuildV2.ConnectionIAMPolicy("policy", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/cloudbuild.connectionViewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnectionIAMPolicy(ctx, "policy", &cloudbuildv2.ConnectionIAMPolicyArgs{
			Project:    pulumi.Any(my_connection.Project),
			Location:   pulumi.Any(my_connection.Location),
			Name:       pulumi.Any(my_connection.Name),
			PolicyData: pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicy;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/cloudbuild.connectionViewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new ConnectionIAMPolicy("policy", ConnectionIAMPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudbuildv2:ConnectionIAMPolicy
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/cloudbuild.connectionViewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudbuildv2.ConnectionIAMBinding("binding", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudbuildv2.ConnectionIAMBinding("binding",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudBuildV2.ConnectionIAMBinding("binding", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMBinding(ctx, "binding", &cloudbuildv2.ConnectionIAMBindingArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBinding;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new ConnectionIAMBinding("binding", ConnectionIAMBindingArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudbuildv2:ConnectionIAMBinding
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudbuildv2.ConnectionIAMMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudbuildv2.ConnectionIAMMember("member", {
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
    role: "roles/cloudbuild.connectionViewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudbuildv2.ConnectionIAMMember("member",
    project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"],
    role="roles/cloudbuild.connectionViewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudBuildV2.ConnectionIAMMember("member", new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
        Role = "roles/cloudbuild.connectionViewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.NewConnectionIAMMember(ctx, "member", &cloudbuildv2.ConnectionIAMMemberArgs{
			Project:  pulumi.Any(my_connection.Project),
			Location: pulumi.Any(my_connection.Location),
			Name:     pulumi.Any(my_connection.Name),
			Role:     pulumi.String("roles/cloudbuild.connectionViewer"),
			Member:   pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMember;
import com.pulumi.gcp.cloudbuildv2.ConnectionIAMMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new ConnectionIAMMember("member", ConnectionIAMMemberArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .role("roles/cloudbuild.connectionViewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudbuildv2:ConnectionIAMMember
    properties:
      project: ${["my-connection"].project}
      location: ${["my-connection"].location}
      name: ${["my-connection"].name}
      role: roles/cloudbuild.connectionViewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/connections/{{name}}

* {{project}}/{{location}}/{{name}}

* {{location}}/{{name}}

* {{name}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Build v2 connection IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMPolicy:ConnectionIAMPolicy editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMPolicy:ConnectionIAMPolicy editor "projects/{{project}}/locations/{{location}}/connections/{{connection}} roles/cloudbuild.connectionViewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudbuildv2/connectionIAMPolicy:ConnectionIAMPolicy editor projects/{{project}}/locations/{{location}}/connections/{{connection}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
I
nameB" ;Used to find the parent resource to bind the IAM policy to
_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"3
etag" '(Computed) The etag of the IAM policy.
"Á
location" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"G
name" ;Used to find the parent resource to bind the IAM policy to
"_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
*šƒ
B
cloudbuildv2
Repository&gcp:cloudbuildv2/repository:RepositoryÈõA repository associated to a parent connection.


To get more information about Repository, see:

* [API documentation](https://cloud.google.com/build/docs/api/reference/rest)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/build/docs)

## Example Usage

### Cloudbuildv2 Repository Ghe Doc


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const private_key_secret = new gcp.secretmanager.Secret("private-key-secret", {
    secretId: "ghe-pk-secret",
    replication: {
        auto: {},
    },
});
const private_key_secret_version = new gcp.secretmanager.SecretVersion("private-key-secret-version", {
    secret: private_key_secret.id,
    secretData: std.file({
        input: "private-key.pem",
    }).then(invoke => invoke.result),
});
const webhook_secret_secret = new gcp.secretmanager.Secret("webhook-secret-secret", {
    secretId: "github-token-secret",
    replication: {
        auto: {},
    },
});
const webhook_secret_secret_version = new gcp.secretmanager.SecretVersion("webhook-secret-secret-version", {
    secret: webhook_secret_secret.id,
    secretData: "<webhook-secret-data>",
});
const p4sa-secretAccessor = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/secretmanager.secretAccessor",
        members: ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
    }],
});
const policy_pk = new gcp.secretmanager.SecretIamPolicy("policy-pk", {
    secretId: private_key_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const policy_whs = new gcp.secretmanager.SecretIamPolicy("policy-whs", {
    secretId: webhook_secret_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-terraform-ghe-connection",
    githubEnterpriseConfig: {
        hostUri: "https://ghe.com",
        privateKeySecretVersion: private_key_secret_version.id,
        webhookSecretSecretVersion: webhook_secret_secret_version.id,
        appId: 200,
        appSlug: "gcb-app",
        appInstallationId: 300,
    },
}, {
    dependsOn: [
        policy_pk,
        policy_whs,
    ],
});
const my_repository = new gcp.cloudbuildv2.Repository("my-repository", {
    name: "my-terraform-ghe-repo",
    location: "us-central1",
    parentConnection: my_connection.name,
    remoteUri: "https://ghe.com/hashicorp/terraform-provider-google.git",
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

private_key_secret = gcp.secretmanager.Secret("private-key-secret",
    secret_id="ghe-pk-secret",
    replication={
        "auto": {},
    })
private_key_secret_version = gcp.secretmanager.SecretVersion("private-key-secret-version",
    secret=private_key_secret.id,
    secret_data=std.file(input="private-key.pem").result)
webhook_secret_secret = gcp.secretmanager.Secret("webhook-secret-secret",
    secret_id="github-token-secret",
    replication={
        "auto": {},
    })
webhook_secret_secret_version = gcp.secretmanager.SecretVersion("webhook-secret-secret-version",
    secret=webhook_secret_secret.id,
    secret_data="<webhook-secret-data>")
p4sa_secret_accessor = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/secretmanager.secretAccessor",
    "members": ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
}])
policy_pk = gcp.secretmanager.SecretIamPolicy("policy-pk",
    secret_id=private_key_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
policy_whs = gcp.secretmanager.SecretIamPolicy("policy-whs",
    secret_id=webhook_secret_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-terraform-ghe-connection",
    github_enterprise_config={
        "host_uri": "https://ghe.com",
        "private_key_secret_version": private_key_secret_version.id,
        "webhook_secret_secret_version": webhook_secret_secret_version.id,
        "app_id": 200,
        "app_slug": "gcb-app",
        "app_installation_id": 300,
    },
    opts = pulumi.ResourceOptions(depends_on=[
            policy_pk,
            policy_whs,
        ]))
my_repository = gcp.cloudbuildv2.Repository("my-repository",
    name="my-terraform-ghe-repo",
    location="us-central1",
    parent_connection=my_connection.name,
    remote_uri="https://ghe.com/hashicorp/terraform-provider-google.git")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var private_key_secret = new Gcp.SecretManager.Secret("private-key-secret", new()
    {
        SecretId = "ghe-pk-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var private_key_secret_version = new Gcp.SecretManager.SecretVersion("private-key-secret-version", new()
    {
        Secret = private_key_secret.Id,
        SecretData = Std.File.Invoke(new()
        {
            Input = "private-key.pem",
        }).Apply(invoke => invoke.Result),
    });

    var webhook_secret_secret = new Gcp.SecretManager.Secret("webhook-secret-secret", new()
    {
        SecretId = "github-token-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var webhook_secret_secret_version = new Gcp.SecretManager.SecretVersion("webhook-secret-secret-version", new()
    {
        Secret = webhook_secret_secret.Id,
        SecretData = "<webhook-secret-data>",
    });

    var p4sa_secretAccessor = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/secretmanager.secretAccessor",
                Members = new[]
                {
                    "serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
                },
            },
        },
    });

    var policy_pk = new Gcp.SecretManager.SecretIamPolicy("policy-pk", new()
    {
        SecretId = private_key_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var policy_whs = new Gcp.SecretManager.SecretIamPolicy("policy-whs", new()
    {
        SecretId = webhook_secret_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-terraform-ghe-connection",
        GithubEnterpriseConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubEnterpriseConfigArgs
        {
            HostUri = "https://ghe.com",
            PrivateKeySecretVersion = private_key_secret_version.Id,
            WebhookSecretSecretVersion = webhook_secret_secret_version.Id,
            AppId = 200,
            AppSlug = "gcb-app",
            AppInstallationId = 300,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            policy_pk,
            policy_whs,
        },
    });

    var my_repository = new Gcp.CloudBuildV2.Repository("my-repository", new()
    {
        Name = "my-terraform-ghe-repo",
        Location = "us-central1",
        ParentConnection = my_connection.Name,
        RemoteUri = "https://ghe.com/hashicorp/terraform-provider-google.git",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := secretmanager.NewSecret(ctx, "private-key-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("ghe-pk-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "private-key.pem",
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "private-key-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     private_key_secret.ID(),
			SecretData: pulumi.String(invokeFile.Result),
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecret(ctx, "webhook-secret-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("github-token-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "webhook-secret-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     webhook_secret_secret.ID(),
			SecretData: pulumi.String("<webhook-secret-data>"),
		})
		if err != nil {
			return err
		}
		p4sa_secretAccessor, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/secretmanager.secretAccessor",
					Members: []string{
						"serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy-pk", &secretmanager.SecretIamPolicyArgs{
			SecretId:   private_key_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy-whs", &secretmanager.SecretIamPolicyArgs{
			SecretId:   webhook_secret_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-terraform-ghe-connection"),
			GithubEnterpriseConfig: &cloudbuildv2.ConnectionGithubEnterpriseConfigArgs{
				HostUri:                    pulumi.String("https://ghe.com"),
				PrivateKeySecretVersion:    private_key_secret_version.ID(),
				WebhookSecretSecretVersion: webhook_secret_secret_version.ID(),
				AppId:                      pulumi.Int(200),
				AppSlug:                    pulumi.String("gcb-app"),
				AppInstallationId:          pulumi.Int(300),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			policy_pk,
			policy_whs,
		}))
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewRepository(ctx, "my-repository", &cloudbuildv2.RepositoryArgs{
			Name:             pulumi.String("my-terraform-ghe-repo"),
			Location:         pulumi.String("us-central1"),
			ParentConnection: my_connection.Name,
			RemoteUri:        pulumi.String("https://ghe.com/hashicorp/terraform-provider-google.git"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationAutoArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.secretmanager.SecretIamPolicy;
import com.pulumi.gcp.secretmanager.SecretIamPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubEnterpriseConfigArgs;
import com.pulumi.gcp.cloudbuildv2.Repository;
import com.pulumi.gcp.cloudbuildv2.RepositoryArgs;
import com.pulumi.resources.CustomResourceOptions;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var private_key_secret = new Secret("private-key-secret", SecretArgs.builder()
            .secretId("ghe-pk-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var private_key_secret_version = new SecretVersion("private-key-secret-version", SecretVersionArgs.builder()
            .secret(private_key_secret.id())
            .secretData(StdFunctions.file(FileArgs.builder()
                .input("private-key.pem")
                .build()).result())
            .build());

        var webhook_secret_secret = new Secret("webhook-secret-secret", SecretArgs.builder()
            .secretId("github-token-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var webhook_secret_secret_version = new SecretVersion("webhook-secret-secret-version", SecretVersionArgs.builder()
            .secret(webhook_secret_secret.id())
            .secretData("<webhook-secret-data>")
            .build());

        final var p4sa-secretAccessor = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/secretmanager.secretAccessor")
                .members("serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com")
                .build())
            .build());

        var policy_pk = new SecretIamPolicy("policy-pk", SecretIamPolicyArgs.builder()
            .secretId(private_key_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var policy_whs = new SecretIamPolicy("policy-whs", SecretIamPolicyArgs.builder()
            .secretId(webhook_secret_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-terraform-ghe-connection")
            .githubEnterpriseConfig(ConnectionGithubEnterpriseConfigArgs.builder()
                .hostUri("https://ghe.com")
                .privateKeySecretVersion(private_key_secret_version.id())
                .webhookSecretSecretVersion(webhook_secret_secret_version.id())
                .appId(200)
                .appSlug("gcb-app")
                .appInstallationId(300)
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    policy_pk,
                    policy_whs)
                .build());

        var my_repository = new Repository("my-repository", RepositoryArgs.builder()
            .name("my-terraform-ghe-repo")
            .location("us-central1")
            .parentConnection(my_connection.name())
            .remoteUri("https://ghe.com/hashicorp/terraform-provider-google.git")
            .build());

    }
}
```
```yaml
resources:
  private-key-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: ghe-pk-secret
      replication:
        auto: {}
  private-key-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["private-key-secret"].id}
      secretData:
        fn::invoke:
          function: std:file
          arguments:
            input: private-key.pem
          return: result
  webhook-secret-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: github-token-secret
      replication:
        auto: {}
  webhook-secret-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["webhook-secret-secret"].id}
      secretData: <webhook-secret-data>
  policy-pk:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["private-key-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  policy-whs:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["webhook-secret-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-terraform-ghe-connection
      githubEnterpriseConfig:
        hostUri: https://ghe.com
        privateKeySecretVersion: ${["private-key-secret-version"].id}
        webhookSecretSecretVersion: ${["webhook-secret-secret-version"].id}
        appId: 200
        appSlug: gcb-app
        appInstallationId: 300
    options:
      dependsOn:
        - ${["policy-pk"]}
        - ${["policy-whs"]}
  my-repository:
    type: gcp:cloudbuildv2:Repository
    properties:
      name: my-terraform-ghe-repo
      location: us-central1
      parentConnection: ${["my-connection"].name}
      remoteUri: https://ghe.com/hashicorp/terraform-provider-google.git
variables:
  p4sa-secretAccessor:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/secretmanager.secretAccessor
            members:
              - serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com
```
<!--End PulumiCodeChooser -->
### Cloudbuildv2 Repository Github Doc


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as std from "@pulumi/std";

const github_token_secret = new gcp.secretmanager.Secret("github-token-secret", {
    secretId: "github-token-secret",
    replication: {
        auto: {},
    },
});
const github_token_secret_version = new gcp.secretmanager.SecretVersion("github-token-secret-version", {
    secret: github_token_secret.id,
    secretData: std.file({
        input: "my-github-token.txt",
    }).then(invoke => invoke.result),
});
const p4sa-secretAccessor = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/secretmanager.secretAccessor",
        members: ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
    }],
});
const policy = new gcp.secretmanager.SecretIamPolicy("policy", {
    secretId: github_token_secret.secretId,
    policyData: p4sa_secretAccessor.then(p4sa_secretAccessor => p4sa_secretAccessor.policyData),
});
const my_connection = new gcp.cloudbuildv2.Connection("my-connection", {
    location: "us-central1",
    name: "my-connection",
    githubConfig: {
        appInstallationId: 123123,
        authorizerCredential: {
            oauthTokenSecretVersion: github_token_secret_version.id,
        },
    },
});
const my_repository = new gcp.cloudbuildv2.Repository("my-repository", {
    location: "us-central1",
    name: "my-repo",
    parentConnection: my_connection.name,
    remoteUri: "https://github.com/myuser/myrepo.git",
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_std as std

github_token_secret = gcp.secretmanager.Secret("github-token-secret",
    secret_id="github-token-secret",
    replication={
        "auto": {},
    })
github_token_secret_version = gcp.secretmanager.SecretVersion("github-token-secret-version",
    secret=github_token_secret.id,
    secret_data=std.file(input="my-github-token.txt").result)
p4sa_secret_accessor = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/secretmanager.secretAccessor",
    "members": ["serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com"],
}])
policy = gcp.secretmanager.SecretIamPolicy("policy",
    secret_id=github_token_secret.secret_id,
    policy_data=p4sa_secret_accessor.policy_data)
my_connection = gcp.cloudbuildv2.Connection("my-connection",
    location="us-central1",
    name="my-connection",
    github_config={
        "app_installation_id": 123123,
        "authorizer_credential": {
            "oauth_token_secret_version": github_token_secret_version.id,
        },
    })
my_repository = gcp.cloudbuildv2.Repository("my-repository",
    location="us-central1",
    name="my-repo",
    parent_connection=my_connection.name,
    remote_uri="https://github.com/myuser/myrepo.git")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Std = Pulumi.Std;

return await Deployment.RunAsync(() => 
{
    var github_token_secret = new Gcp.SecretManager.Secret("github-token-secret", new()
    {
        SecretId = "github-token-secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            Auto = null,
        },
    });

    var github_token_secret_version = new Gcp.SecretManager.SecretVersion("github-token-secret-version", new()
    {
        Secret = github_token_secret.Id,
        SecretData = Std.File.Invoke(new()
        {
            Input = "my-github-token.txt",
        }).Apply(invoke => invoke.Result),
    });

    var p4sa_secretAccessor = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/secretmanager.secretAccessor",
                Members = new[]
                {
                    "serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
                },
            },
        },
    });

    var policy = new Gcp.SecretManager.SecretIamPolicy("policy", new()
    {
        SecretId = github_token_secret.SecretId,
        PolicyData = p4sa_secretAccessor.Apply(p4sa_secretAccessor => p4sa_secretAccessor.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData)),
    });

    var my_connection = new Gcp.CloudBuildV2.Connection("my-connection", new()
    {
        Location = "us-central1",
        Name = "my-connection",
        GithubConfig = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigArgs
        {
            AppInstallationId = 123123,
            AuthorizerCredential = new Gcp.CloudBuildV2.Inputs.ConnectionGithubConfigAuthorizerCredentialArgs
            {
                OauthTokenSecretVersion = github_token_secret_version.Id,
            },
        },
    });

    var my_repository = new Gcp.CloudBuildV2.Repository("my-repository", new()
    {
        Location = "us-central1",
        Name = "my-repo",
        ParentConnection = my_connection.Name,
        RemoteUri = "https://github.com/myuser/myrepo.git",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-std/sdk/go/std"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := secretmanager.NewSecret(ctx, "github-token-secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("github-token-secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				Auto: &secretmanager.SecretReplicationAutoArgs{},
			},
		})
		if err != nil {
			return err
		}
		invokeFile, err := std.File(ctx, &std.FileArgs{
			Input: "my-github-token.txt",
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretVersion(ctx, "github-token-secret-version", &secretmanager.SecretVersionArgs{
			Secret:     github_token_secret.ID(),
			SecretData: pulumi.String(invokeFile.Result),
		})
		if err != nil {
			return err
		}
		p4sa_secretAccessor, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/secretmanager.secretAccessor",
					Members: []string{
						"serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = secretmanager.NewSecretIamPolicy(ctx, "policy", &secretmanager.SecretIamPolicyArgs{
			SecretId:   github_token_secret.SecretId,
			PolicyData: pulumi.String(p4sa_secretAccessor.PolicyData),
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewConnection(ctx, "my-connection", &cloudbuildv2.ConnectionArgs{
			Location: pulumi.String("us-central1"),
			Name:     pulumi.String("my-connection"),
			GithubConfig: &cloudbuildv2.ConnectionGithubConfigArgs{
				AppInstallationId: pulumi.Int(123123),
				AuthorizerCredential: &cloudbuildv2.ConnectionGithubConfigAuthorizerCredentialArgs{
					OauthTokenSecretVersion: github_token_secret_version.ID(),
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudbuildv2.NewRepository(ctx, "my-repository", &cloudbuildv2.RepositoryArgs{
			Location:         pulumi.String("us-central1"),
			Name:             pulumi.String("my-repo"),
			ParentConnection: my_connection.Name,
			RemoteUri:        pulumi.String("https://github.com/myuser/myrepo.git"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationAutoArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.secretmanager.SecretIamPolicy;
import com.pulumi.gcp.secretmanager.SecretIamPolicyArgs;
import com.pulumi.gcp.cloudbuildv2.Connection;
import com.pulumi.gcp.cloudbuildv2.ConnectionArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigArgs;
import com.pulumi.gcp.cloudbuildv2.inputs.ConnectionGithubConfigAuthorizerCredentialArgs;
import com.pulumi.gcp.cloudbuildv2.Repository;
import com.pulumi.gcp.cloudbuildv2.RepositoryArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var github_token_secret = new Secret("github-token-secret", SecretArgs.builder()
            .secretId("github-token-secret")
            .replication(SecretReplicationArgs.builder()
                .auto()
                .build())
            .build());

        var github_token_secret_version = new SecretVersion("github-token-secret-version", SecretVersionArgs.builder()
            .secret(github_token_secret.id())
            .secretData(StdFunctions.file(FileArgs.builder()
                .input("my-github-token.txt")
                .build()).result())
            .build());

        final var p4sa-secretAccessor = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/secretmanager.secretAccessor")
                .members("serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com")
                .build())
            .build());

        var policy = new SecretIamPolicy("policy", SecretIamPolicyArgs.builder()
            .secretId(github_token_secret.secretId())
            .policyData(p4sa_secretAccessor.policyData())
            .build());

        var my_connection = new Connection("my-connection", ConnectionArgs.builder()
            .location("us-central1")
            .name("my-connection")
            .githubConfig(ConnectionGithubConfigArgs.builder()
                .appInstallationId(123123)
                .authorizerCredential(ConnectionGithubConfigAuthorizerCredentialArgs.builder()
                    .oauthTokenSecretVersion(github_token_secret_version.id())
                    .build())
                .build())
            .build());

        var my_repository = new Repository("my-repository", RepositoryArgs.builder()
            .location("us-central1")
            .name("my-repo")
            .parentConnection(my_connection.name())
            .remoteUri("https://github.com/myuser/myrepo.git")
            .build());

    }
}
```
```yaml
resources:
  github-token-secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: github-token-secret
      replication:
        auto: {}
  github-token-secret-version:
    type: gcp:secretmanager:SecretVersion
    properties:
      secret: ${["github-token-secret"].id}
      secretData:
        fn::invoke:
          function: std:file
          arguments:
            input: my-github-token.txt
          return: result
  policy:
    type: gcp:secretmanager:SecretIamPolicy
    properties:
      secretId: ${["github-token-secret"].secretId}
      policyData: ${["p4sa-secretAccessor"].policyData}
  my-connection:
    type: gcp:cloudbuildv2:Connection
    properties:
      location: us-central1
      name: my-connection
      githubConfig:
        appInstallationId: 123123
        authorizerCredential:
          oauthTokenSecretVersion: ${["github-token-secret-version"].id}
  my-repository:
    type: gcp:cloudbuildv2:Repository
    properties:
      location: us-central1
      name: my-repo
      parentConnection: ${["my-connection"].name}
      remoteUri: https://github.com/myuser/myrepo.git
variables:
  p4sa-secretAccessor:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/secretmanager.secretAccessor
            members:
              - serviceAccount:service-123456789@gcp-sa-cloudbuild.iam.gserviceaccount.com
```
<!--End PulumiCodeChooser -->

## Import

Repository can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/connections/{{parent_connection}}/repositories/{{name}}`

* `{{project}}/{{location}}/{{parent_connection}}/{{name}}`

* `{{location}}/{{parent_connection}}/{{name}}`

When using the `pulumi import` command, Repository can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudbuildv2/repository:Repository default projects/{{project}}/locations/{{location}}/connections/{{parent_connection}}/repositories/{{name}}
```

```sh
$ pulumi import gcp:cloudbuildv2/repository:Repository default {{project}}/{{location}}/{{parent_connection}}/{{name}}
```

```sh
$ pulumi import gcp:cloudbuildv2/repository:Repository default {{location}}/{{parent_connection}}/{{name}}
```

¦
annotationsB2" ŽAllows clients to store small amounts of arbitrary data.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
0
locationB" The location for the resource
&
nameB" Name of the repository.
@
parentConnection" (The connection for the resource


- - -
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
0
	remoteUri" Required. Git Clone HTTPS URI.
"¦
annotationsB2" ŽAllows clients to store small amounts of arbitrary data.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
"^

createTime" LOutput only. Server assigned timestamp for when the connection was created.
"
effectiveAnnotations2" "Ç
etag" ºThis checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
".
location" The location for the resource
"$
name" Name of the repository.
"@
parentConnection" (The connection for the resource


- - -
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"0
	remoteUri" Required. Git Clone HTTPS URI.
"^

updateTime" LOutput only. Server assigned timestamp for when the connection was updated.
*¤Ú
@
clouddeploy
Automation%gcp:clouddeploy/automation:AutomationÒ¦An `Automation` enables the automation of manually driven actions for a Delivery Pipeline, which includes Release promotion amongst Targets, Rollout repair and Rollout deployment strategy advancement.


To get more information about Automation, see:

* [API documentation](https://cloud.google.com/deploy/docs/api/reference/rest/v1/projects.locations.deliveryPipelines.automations)
* How-to Guides
    * [Automate your deployment](https://cloud.google.com/deploy/docs/automation)

## Example Usage

### Clouddeploy Automation Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pipeline = new gcp.clouddeploy.DeliveryPipeline("pipeline", {
    name: "cd-pipeline",
    location: "us-central1",
    serialPipeline: {
        stages: [{
            targetId: "test",
            profiles: [],
        }],
    },
});
const b_automation = new gcp.clouddeploy.Automation("b-automation", {
    name: "cd-automation",
    project: pipeline.project,
    location: pipeline.location,
    deliveryPipeline: pipeline.name,
    serviceAccount: "my@service-account.com",
    selector: {
        targets: [{
            id: "*",
        }],
    },
    suspended: false,
    rules: [{
        promoteReleaseRule: {
            id: "promote-release",
        },
    }],
});
```
```python
import pulumi
import pulumi_gcp as gcp

pipeline = gcp.clouddeploy.DeliveryPipeline("pipeline",
    name="cd-pipeline",
    location="us-central1",
    serial_pipeline={
        "stages": [{
            "target_id": "test",
            "profiles": [],
        }],
    })
b_automation = gcp.clouddeploy.Automation("b-automation",
    name="cd-automation",
    project=pipeline.project,
    location=pipeline.location,
    delivery_pipeline=pipeline.name,
    service_account="my@service-account.com",
    selector={
        "targets": [{
            "id": "*",
        }],
    },
    suspended=False,
    rules=[{
        "promote_release_rule": {
            "id": "promote-release",
        },
    }])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pipeline = new Gcp.CloudDeploy.DeliveryPipeline("pipeline", new()
    {
        Name = "cd-pipeline",
        Location = "us-central1",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    TargetId = "test",
                    Profiles = new() { },
                },
            },
        },
    });

    var b_automation = new Gcp.CloudDeploy.Automation("b-automation", new()
    {
        Name = "cd-automation",
        Project = pipeline.Project,
        Location = pipeline.Location,
        DeliveryPipeline = pipeline.Name,
        ServiceAccount = "my@service-account.com",
        Selector = new Gcp.CloudDeploy.Inputs.AutomationSelectorArgs
        {
            Targets = new[]
            {
                new Gcp.CloudDeploy.Inputs.AutomationSelectorTargetArgs
                {
                    Id = "*",
                },
            },
        },
        Suspended = false,
        Rules = new[]
        {
            new Gcp.CloudDeploy.Inputs.AutomationRuleArgs
            {
                PromoteReleaseRule = new Gcp.CloudDeploy.Inputs.AutomationRulePromoteReleaseRuleArgs
                {
                    Id = "promote-release",
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		pipeline, err := clouddeploy.NewDeliveryPipeline(ctx, "pipeline", &clouddeploy.DeliveryPipelineArgs{
			Name:     pulumi.String("cd-pipeline"),
			Location: pulumi.String("us-central1"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						TargetId: pulumi.String("test"),
						Profiles: pulumi.StringArray{},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = clouddeploy.NewAutomation(ctx, "b-automation", &clouddeploy.AutomationArgs{
			Name:             pulumi.String("cd-automation"),
			Project:          pipeline.Project,
			Location:         pipeline.Location,
			DeliveryPipeline: pipeline.Name,
			ServiceAccount:   pulumi.String("my@service-account.com"),
			Selector: &clouddeploy.AutomationSelectorArgs{
				Targets: clouddeploy.AutomationSelectorTargetArray{
					&clouddeploy.AutomationSelectorTargetArgs{
						Id: pulumi.String("*"),
					},
				},
			},
			Suspended: pulumi.Bool(false),
			Rules: clouddeploy.AutomationRuleArray{
				&clouddeploy.AutomationRuleArgs{
					PromoteReleaseRule: &clouddeploy.AutomationRulePromoteReleaseRuleArgs{
						Id: pulumi.String("promote-release"),
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import com.pulumi.gcp.clouddeploy.Automation;
import com.pulumi.gcp.clouddeploy.AutomationArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationSelectorArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationRuleArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationRulePromoteReleaseRuleArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pipeline = new DeliveryPipeline("pipeline", DeliveryPipelineArgs.builder()
            .name("cd-pipeline")
            .location("us-central1")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(DeliveryPipelineSerialPipelineStageArgs.builder()
                    .targetId("test")
                    .profiles()
                    .build())
                .build())
            .build());

        var b_automation = new Automation("b-automation", AutomationArgs.builder()
            .name("cd-automation")
            .project(pipeline.project())
            .location(pipeline.location())
            .deliveryPipeline(pipeline.name())
            .serviceAccount("my@service-account.com")
            .selector(AutomationSelectorArgs.builder()
                .targets(AutomationSelectorTargetArgs.builder()
                    .id("*")
                    .build())
                .build())
            .suspended(false)
            .rules(AutomationRuleArgs.builder()
                .promoteReleaseRule(AutomationRulePromoteReleaseRuleArgs.builder()
                    .id("promote-release")
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  b-automation:
    type: gcp:clouddeploy:Automation
    properties:
      name: cd-automation
      project: ${pipeline.project}
      location: ${pipeline.location}
      deliveryPipeline: ${pipeline.name}
      serviceAccount: my@service-account.com
      selector:
        targets:
          - id: '*'
      suspended: false
      rules:
        - promoteReleaseRule:
            id: promote-release
  pipeline:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      name: cd-pipeline
      location: us-central1
      serialPipeline:
        stages:
          - targetId: test
            profiles: []
```
<!--End PulumiCodeChooser -->
### Clouddeploy Automation Full


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const pipeline = new gcp.clouddeploy.DeliveryPipeline("pipeline", {
    name: "cd-pipeline",
    location: "us-central1",
    serialPipeline: {
        stages: [{
            targetId: "test",
            profiles: ["test-profile"],
        }],
    },
});
const f_automation = new gcp.clouddeploy.Automation("f-automation", {
    name: "cd-automation",
    location: "us-central1",
    deliveryPipeline: pipeline.name,
    serviceAccount: "my@service-account.com",
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
    description: "automation resource",
    selector: {
        targets: [{
            id: "test",
            labels: {
                foo: "bar",
            },
        }],
    },
    suspended: true,
    rules: [
        {
            promoteReleaseRule: {
                id: "promote-release",
                wait: "200s",
                destinationTargetId: "@next",
                destinationPhase: "stable",
            },
        },
        {
            advanceRolloutRule: {
                id: "advance-rollout",
                sourcePhases: ["deploy"],
                wait: "200s",
            },
        },
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

pipeline = gcp.clouddeploy.DeliveryPipeline("pipeline",
    name="cd-pipeline",
    location="us-central1",
    serial_pipeline={
        "stages": [{
            "target_id": "test",
            "profiles": ["test-profile"],
        }],
    })
f_automation = gcp.clouddeploy.Automation("f-automation",
    name="cd-automation",
    location="us-central1",
    delivery_pipeline=pipeline.name,
    service_account="my@service-account.com",
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    },
    description="automation resource",
    selector={
        "targets": [{
            "id": "test",
            "labels": {
                "foo": "bar",
            },
        }],
    },
    suspended=True,
    rules=[
        {
            "promote_release_rule": {
                "id": "promote-release",
                "wait": "200s",
                "destination_target_id": "@next",
                "destination_phase": "stable",
            },
        },
        {
            "advance_rollout_rule": {
                "id": "advance-rollout",
                "source_phases": ["deploy"],
                "wait": "200s",
            },
        },
    ])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var pipeline = new Gcp.CloudDeploy.DeliveryPipeline("pipeline", new()
    {
        Name = "cd-pipeline",
        Location = "us-central1",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    TargetId = "test",
                    Profiles = new[]
                    {
                        "test-profile",
                    },
                },
            },
        },
    });

    var f_automation = new Gcp.CloudDeploy.Automation("f-automation", new()
    {
        Name = "cd-automation",
        Location = "us-central1",
        DeliveryPipeline = pipeline.Name,
        ServiceAccount = "my@service-account.com",
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
        Description = "automation resource",
        Selector = new Gcp.CloudDeploy.Inputs.AutomationSelectorArgs
        {
            Targets = new[]
            {
                new Gcp.CloudDeploy.Inputs.AutomationSelectorTargetArgs
                {
                    Id = "test",
                    Labels = 
                    {
                        { "foo", "bar" },
                    },
                },
            },
        },
        Suspended = true,
        Rules = new[]
        {
            new Gcp.CloudDeploy.Inputs.AutomationRuleArgs
            {
                PromoteReleaseRule = new Gcp.CloudDeploy.Inputs.AutomationRulePromoteReleaseRuleArgs
                {
                    Id = "promote-release",
                    Wait = "200s",
                    DestinationTargetId = "@next",
                    DestinationPhase = "stable",
                },
            },
            new Gcp.CloudDeploy.Inputs.AutomationRuleArgs
            {
                AdvanceRolloutRule = new Gcp.CloudDeploy.Inputs.AutomationRuleAdvanceRolloutRuleArgs
                {
                    Id = "advance-rollout",
                    SourcePhases = new[]
                    {
                        "deploy",
                    },
                    Wait = "200s",
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		pipeline, err := clouddeploy.NewDeliveryPipeline(ctx, "pipeline", &clouddeploy.DeliveryPipelineArgs{
			Name:     pulumi.String("cd-pipeline"),
			Location: pulumi.String("us-central1"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						TargetId: pulumi.String("test"),
						Profiles: pulumi.StringArray{
							pulumi.String("test-profile"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		_, err = clouddeploy.NewAutomation(ctx, "f-automation", &clouddeploy.AutomationArgs{
			Name:             pulumi.String("cd-automation"),
			Location:         pulumi.String("us-central1"),
			DeliveryPipeline: pipeline.Name,
			ServiceAccount:   pulumi.String("my@service-account.com"),
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
			Description: pulumi.String("automation resource"),
			Selector: &clouddeploy.AutomationSelectorArgs{
				Targets: clouddeploy.AutomationSelectorTargetArray{
					&clouddeploy.AutomationSelectorTargetArgs{
						Id: pulumi.String("test"),
						Labels: pulumi.StringMap{
							"foo": pulumi.String("bar"),
						},
					},
				},
			},
			Suspended: pulumi.Bool(true),
			Rules: clouddeploy.AutomationRuleArray{
				&clouddeploy.AutomationRuleArgs{
					PromoteReleaseRule: &clouddeploy.AutomationRulePromoteReleaseRuleArgs{
						Id:                  pulumi.String("promote-release"),
						Wait:                pulumi.String("200s"),
						DestinationTargetId: pulumi.String("@next"),
						DestinationPhase:    pulumi.String("stable"),
					},
				},
				&clouddeploy.AutomationRuleArgs{
					AdvanceRolloutRule: &clouddeploy.AutomationRuleAdvanceRolloutRuleArgs{
						Id: pulumi.String("advance-rollout"),
						SourcePhases: pulumi.StringArray{
							pulumi.String("deploy"),
						},
						Wait: pulumi.String("200s"),
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import com.pulumi.gcp.clouddeploy.Automation;
import com.pulumi.gcp.clouddeploy.AutomationArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationSelectorArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationRuleArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationRulePromoteReleaseRuleArgs;
import com.pulumi.gcp.clouddeploy.inputs.AutomationRuleAdvanceRolloutRuleArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var pipeline = new DeliveryPipeline("pipeline", DeliveryPipelineArgs.builder()
            .name("cd-pipeline")
            .location("us-central1")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(DeliveryPipelineSerialPipelineStageArgs.builder()
                    .targetId("test")
                    .profiles("test-profile")
                    .build())
                .build())
            .build());

        var f_automation = new Automation("f-automation", AutomationArgs.builder()
            .name("cd-automation")
            .location("us-central1")
            .deliveryPipeline(pipeline.name())
            .serviceAccount("my@service-account.com")
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .description("automation resource")
            .selector(AutomationSelectorArgs.builder()
                .targets(AutomationSelectorTargetArgs.builder()
                    .id("test")
                    .labels(Map.of("foo", "bar"))
                    .build())
                .build())
            .suspended(true)
            .rules(            
                AutomationRuleArgs.builder()
                    .promoteReleaseRule(AutomationRulePromoteReleaseRuleArgs.builder()
                        .id("promote-release")
                        .wait("200s")
                        .destinationTargetId("@next")
                        .destinationPhase("stable")
                        .build())
                    .build(),
                AutomationRuleArgs.builder()
                    .advanceRolloutRule(AutomationRuleAdvanceRolloutRuleArgs.builder()
                        .id("advance-rollout")
                        .sourcePhases("deploy")
                        .wait("200s")
                        .build())
                    .build())
            .build());

    }
}
```
```yaml
resources:
  f-automation:
    type: gcp:clouddeploy:Automation
    properties:
      name: cd-automation
      location: us-central1
      deliveryPipeline: ${pipeline.name}
      serviceAccount: my@service-account.com
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
      description: automation resource
      selector:
        targets:
          - id: test
            labels:
              foo: bar
      suspended: true
      rules:
        - promoteReleaseRule:
            id: promote-release
            wait: 200s
            destinationTargetId: '@next'
            destinationPhase: stable
        - advanceRolloutRule:
            id: advance-rollout
            sourcePhases:
              - deploy
            wait: 200s
  pipeline:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      name: cd-pipeline
      location: us-central1
      serialPipeline:
        stages:
          - targetId: test
            profiles:
              - test-profile
```
<!--End PulumiCodeChooser -->

## Import

Automation can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/deliveryPipelines/{{delivery_pipeline}}/automations/{{name}}`

* `{{project}}/{{location}}/{{delivery_pipeline}}/{{name}}`

* `{{location}}/{{delivery_pipeline}}/{{name}}`

When using the `pulumi import` command, Automation can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:clouddeploy/automation:Automation default projects/{{project}}/locations/{{location}}/deliveryPipelines/{{delivery_pipeline}}/automations/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/automation:Automation default {{project}}/{{location}}/{{delivery_pipeline}}/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/automation:Automation default {{location}}/{{delivery_pipeline}}/{{name}}
```

¡
annotationsB2" ‰Optional. User annotations. These attributes can only be set and used by the user, and not by Cloud Deploy. Annotations
must meet the following constraints: * Annotations are key/value pairs. * Valid annotation keys have two segments: an
optional prefix and name, separated by a slash ('/'). * The name segment is required and must be 63 characters or less,
beginning and ending with an alphanumeric character ('[a-z0-9A-Z]') with dashes ('-'), underscores ('_'), dots ('.'),
and alphanumerics between. * The prefix is optional. If specified, the prefix must be a DNS subdomain: a series of DNS
labels separated by dots('.'), not longer than 253 characters in total, followed by a slash ('/'). See
https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/#syntax-and-character-set for more
details. **Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field 'effective_annotations' for all of the annotations present on the resource.
?
deliveryPipeline" 'The delivery_pipeline for the resource
^
descriptionB" IOptional. Description of the 'Automation'. Max length is 255 characters.
á
labelsB2" ÎOptional. Labels are attributes that can be set and used by both the user and by Cloud Deploy. Labels must meet the
following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and
dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a
lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values
are additionally constrained to be <= 63 characters. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
.
location" The location for the resource
(
nameB" Name of the `Automation`.

projectB" â
rulesR*P:N
L
clouddeployAutomationRule-gcp:clouddeploy/AutomationRule:AutomationRule„Required. List of Automation rules associated with the Automation resource. Must have at least one rule and limited to 250 rules per Delivery Pipeline. Note: the order of the rules here is not the same as the order of execution.
Structure is documented below.
Ï
selector\:Z
X
clouddeployAutomationSelector5gcp:clouddeploy/AutomationSelector:AutomationSelectoreRequired. Selected resources to which the automation will be applied.
Structure is documented below.

serviceAccount" yRequired. Email address of the user-managed IAM service account that creates Cloud Deploy release and rollout resources.
W
	suspendedB
 DOptional. When Suspended, automation is deactivated from execution.
"¡
annotationsB2" ‰Optional. User annotations. These attributes can only be set and used by the user, and not by Cloud Deploy. Annotations
must meet the following constraints: * Annotations are key/value pairs. * Valid annotation keys have two segments: an
optional prefix and name, separated by a slash ('/'). * The name segment is required and must be 63 characters or less,
beginning and ending with an alphanumeric character ('[a-z0-9A-Z]') with dashes ('-'), underscores ('_'), dots ('.'),
and alphanumerics between. * The prefix is optional. If specified, the prefix must be a DNS subdomain: a series of DNS
labels separated by dots('.'), not longer than 253 characters in total, followed by a slash ('/'). See
https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/#syntax-and-character-set for more
details. **Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field 'effective_annotations' for all of the annotations present on the resource.
"I

createTime" 7Output only. Time at which the automation was created.
"?
deliveryPipeline" 'The delivery_pipeline for the resource
"^
descriptionB" IOptional. Description of the 'Automation'. Max length is 255 characters.
"
effectiveAnnotations2" "¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"ý
etag" ðOptional. The weak etag of the `Automation` resource. This checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
"á
labelsB2" ÎOptional. Labels are attributes that can be set and used by both the user and by Cloud Deploy. Labels must meet the
following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and
dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a
lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values
are additionally constrained to be <= 63 characters. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
".
location" The location for the resource
"&
name" Name of the `Automation`.
"
project" "ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"â
rulesR*P:N
L
clouddeployAutomationRule-gcp:clouddeploy/AutomationRule:AutomationRule„Required. List of Automation rules associated with the Automation resource. Must have at least one rule and limited to 250 rules per Delivery Pipeline. Note: the order of the rules here is not the same as the order of execution.
Structure is documented below.
"Ï
selector\:Z
X
clouddeployAutomationSelector5gcp:clouddeploy/AutomationSelector:AutomationSelectoreRequired. Selected resources to which the automation will be applied.
Structure is documented below.
"
serviceAccount" yRequired. Email address of the user-managed IAM service account that creates Cloud Deploy release and rollout resources.
"W
	suspendedB
 DOptional. When Suspended, automation is deactivated from execution.
"?
uid" 4Output only. Unique identifier of the `Automation`.
"I

updateTime" 7Output only. Time at which the automation was updated.
*°á
R
clouddeployCustomTargetType1gcp:clouddeploy/customTargetType:CustomTargetTypeä¾A Cloud Deploy `CustomTargetType` defines a type of custom target that can be referenced in a
Cloud Deploy `Target` in order to facilitate deploying to other systems besides the supported runtimes.


To get more information about CustomTargetType, see:

* [API documentation](https://cloud.google.com/deploy/docs/api/reference/rest/v1/projects.locations.customTargetTypes)
* How-to Guides
    * [Define and use a custom target type](https://cloud.google.com/deploy/docs/deploy-app-custom-target)

## Example Usage

### Clouddeploy Custom Target Type Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const custom_target_type = new gcp.clouddeploy.CustomTargetType("custom-target-type", {
    location: "us-central1",
    name: "my-custom-target-type",
    description: "My custom target type",
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
    customActions: {
        renderAction: "renderAction",
        deployAction: "deployAction",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

custom_target_type = gcp.clouddeploy.CustomTargetType("custom-target-type",
    location="us-central1",
    name="my-custom-target-type",
    description="My custom target type",
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    },
    custom_actions={
        "render_action": "renderAction",
        "deploy_action": "deployAction",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var custom_target_type = new Gcp.CloudDeploy.CustomTargetType("custom-target-type", new()
    {
        Location = "us-central1",
        Name = "my-custom-target-type",
        Description = "My custom target type",
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
        CustomActions = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsArgs
        {
            RenderAction = "renderAction",
            DeployAction = "deployAction",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewCustomTargetType(ctx, "custom-target-type", &clouddeploy.CustomTargetTypeArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("my-custom-target-type"),
			Description: pulumi.String("My custom target type"),
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
			CustomActions: &clouddeploy.CustomTargetTypeCustomActionsArgs{
				RenderAction: pulumi.String("renderAction"),
				DeployAction: pulumi.String("deployAction"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.CustomTargetType;
import com.pulumi.gcp.clouddeploy.CustomTargetTypeArgs;
import com.pulumi.gcp.clouddeploy.inputs.CustomTargetTypeCustomActionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var custom_target_type = new CustomTargetType("custom-target-type", CustomTargetTypeArgs.builder()
            .location("us-central1")
            .name("my-custom-target-type")
            .description("My custom target type")
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .customActions(CustomTargetTypeCustomActionsArgs.builder()
                .renderAction("renderAction")
                .deployAction("deployAction")
                .build())
            .build());

    }
}
```
```yaml
resources:
  custom-target-type:
    type: gcp:clouddeploy:CustomTargetType
    properties:
      location: us-central1
      name: my-custom-target-type
      description: My custom target type
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
      customActions:
        renderAction: renderAction
        deployAction: deployAction
```
<!--End PulumiCodeChooser -->
### Clouddeploy Custom Target Type Git Skaffold Modules


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const custom_target_type = new gcp.clouddeploy.CustomTargetType("custom-target-type", {
    location: "us-central1",
    name: "my-custom-target-type",
    description: "My custom target type",
    customActions: {
        renderAction: "renderAction",
        deployAction: "deployAction",
        includeSkaffoldModules: [{
            configs: ["my-config"],
            git: {
                repo: "http://github.com/example/example-repo.git",
                path: "configs/skaffold.yaml",
                ref: "main",
            },
        }],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

custom_target_type = gcp.clouddeploy.CustomTargetType("custom-target-type",
    location="us-central1",
    name="my-custom-target-type",
    description="My custom target type",
    custom_actions={
        "render_action": "renderAction",
        "deploy_action": "deployAction",
        "include_skaffold_modules": [{
            "configs": ["my-config"],
            "git": {
                "repo": "http://github.com/example/example-repo.git",
                "path": "configs/skaffold.yaml",
                "ref": "main",
            },
        }],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var custom_target_type = new Gcp.CloudDeploy.CustomTargetType("custom-target-type", new()
    {
        Location = "us-central1",
        Name = "my-custom-target-type",
        Description = "My custom target type",
        CustomActions = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsArgs
        {
            RenderAction = "renderAction",
            DeployAction = "deployAction",
            IncludeSkaffoldModules = new[]
            {
                new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs
                {
                    Configs = new[]
                    {
                        "my-config",
                    },
                    Git = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGitArgs
                    {
                        Repo = "http://github.com/example/example-repo.git",
                        Path = "configs/skaffold.yaml",
                        Ref = "main",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewCustomTargetType(ctx, "custom-target-type", &clouddeploy.CustomTargetTypeArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("my-custom-target-type"),
			Description: pulumi.String("My custom target type"),
			CustomActions: &clouddeploy.CustomTargetTypeCustomActionsArgs{
				RenderAction: pulumi.String("renderAction"),
				DeployAction: pulumi.String("deployAction"),
				IncludeSkaffoldModules: clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArray{
					&clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs{
						Configs: pulumi.StringArray{
							pulumi.String("my-config"),
						},
						Git: &clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGitArgs{
							Repo: pulumi.String("http://github.com/example/example-repo.git"),
							Path: pulumi.String("configs/skaffold.yaml"),
							Ref:  pulumi.String("main"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.CustomTargetType;
import com.pulumi.gcp.clouddeploy.CustomTargetTypeArgs;
import com.pulumi.gcp.clouddeploy.inputs.CustomTargetTypeCustomActionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var custom_target_type = new CustomTargetType("custom-target-type", CustomTargetTypeArgs.builder()
            .location("us-central1")
            .name("my-custom-target-type")
            .description("My custom target type")
            .customActions(CustomTargetTypeCustomActionsArgs.builder()
                .renderAction("renderAction")
                .deployAction("deployAction")
                .includeSkaffoldModules(CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs.builder()
                    .configs("my-config")
                    .git(CustomTargetTypeCustomActionsIncludeSkaffoldModuleGitArgs.builder()
                        .repo("http://github.com/example/example-repo.git")
                        .path("configs/skaffold.yaml")
                        .ref("main")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  custom-target-type:
    type: gcp:clouddeploy:CustomTargetType
    properties:
      location: us-central1
      name: my-custom-target-type
      description: My custom target type
      customActions:
        renderAction: renderAction
        deployAction: deployAction
        includeSkaffoldModules:
          - configs:
              - my-config
            git:
              repo: http://github.com/example/example-repo.git
              path: configs/skaffold.yaml
              ref: main
```
<!--End PulumiCodeChooser -->
### Clouddeploy Custom Target Type Gcs Skaffold Modules


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const custom_target_type = new gcp.clouddeploy.CustomTargetType("custom-target-type", {
    location: "us-central1",
    name: "my-custom-target-type",
    description: "My custom target type",
    customActions: {
        renderAction: "renderAction",
        deployAction: "deployAction",
        includeSkaffoldModules: [{
            configs: ["my-config"],
            googleCloudStorage: {
                source: "gs://example-bucket/dir/configs/*",
                path: "skaffold.yaml",
            },
        }],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

custom_target_type = gcp.clouddeploy.CustomTargetType("custom-target-type",
    location="us-central1",
    name="my-custom-target-type",
    description="My custom target type",
    custom_actions={
        "render_action": "renderAction",
        "deploy_action": "deployAction",
        "include_skaffold_modules": [{
            "configs": ["my-config"],
            "google_cloud_storage": {
                "source": "gs://example-bucket/dir/configs/*",
                "path": "skaffold.yaml",
            },
        }],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var custom_target_type = new Gcp.CloudDeploy.CustomTargetType("custom-target-type", new()
    {
        Location = "us-central1",
        Name = "my-custom-target-type",
        Description = "My custom target type",
        CustomActions = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsArgs
        {
            RenderAction = "renderAction",
            DeployAction = "deployAction",
            IncludeSkaffoldModules = new[]
            {
                new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs
                {
                    Configs = new[]
                    {
                        "my-config",
                    },
                    GoogleCloudStorage = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorageArgs
                    {
                        Source = "gs://example-bucket/dir/configs/*",
                        Path = "skaffold.yaml",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewCustomTargetType(ctx, "custom-target-type", &clouddeploy.CustomTargetTypeArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("my-custom-target-type"),
			Description: pulumi.String("My custom target type"),
			CustomActions: &clouddeploy.CustomTargetTypeCustomActionsArgs{
				RenderAction: pulumi.String("renderAction"),
				DeployAction: pulumi.String("deployAction"),
				IncludeSkaffoldModules: clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArray{
					&clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs{
						Configs: pulumi.StringArray{
							pulumi.String("my-config"),
						},
						GoogleCloudStorage: &clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorageArgs{
							Source: pulumi.String("gs://example-bucket/dir/configs/*"),
							Path:   pulumi.String("skaffold.yaml"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.CustomTargetType;
import com.pulumi.gcp.clouddeploy.CustomTargetTypeArgs;
import com.pulumi.gcp.clouddeploy.inputs.CustomTargetTypeCustomActionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var custom_target_type = new CustomTargetType("custom-target-type", CustomTargetTypeArgs.builder()
            .location("us-central1")
            .name("my-custom-target-type")
            .description("My custom target type")
            .customActions(CustomTargetTypeCustomActionsArgs.builder()
                .renderAction("renderAction")
                .deployAction("deployAction")
                .includeSkaffoldModules(CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs.builder()
                    .configs("my-config")
                    .googleCloudStorage(CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorageArgs.builder()
                        .source("gs://example-bucket/dir/configs/*")
                        .path("skaffold.yaml")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  custom-target-type:
    type: gcp:clouddeploy:CustomTargetType
    properties:
      location: us-central1
      name: my-custom-target-type
      description: My custom target type
      customActions:
        renderAction: renderAction
        deployAction: deployAction
        includeSkaffoldModules:
          - configs:
              - my-config
            googleCloudStorage:
              source: gs://example-bucket/dir/configs/*
              path: skaffold.yaml
```
<!--End PulumiCodeChooser -->
### Clouddeploy Custom Target Type Gcb Repo Skaffold Modules


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const custom_target_type = new gcp.clouddeploy.CustomTargetType("custom-target-type", {
    location: "us-central1",
    name: "my-custom-target-type",
    description: "My custom target type",
    customActions: {
        renderAction: "renderAction",
        deployAction: "deployAction",
        includeSkaffoldModules: [{
            configs: ["my-config"],
            googleCloudBuildRepo: {
                repository: "projects/example/locations/us-central1/connections/git/repositories/example-repo",
                path: "configs/skaffold.yaml",
                ref: "main",
            },
        }],
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

custom_target_type = gcp.clouddeploy.CustomTargetType("custom-target-type",
    location="us-central1",
    name="my-custom-target-type",
    description="My custom target type",
    custom_actions={
        "render_action": "renderAction",
        "deploy_action": "deployAction",
        "include_skaffold_modules": [{
            "configs": ["my-config"],
            "google_cloud_build_repo": {
                "repository": "projects/example/locations/us-central1/connections/git/repositories/example-repo",
                "path": "configs/skaffold.yaml",
                "ref": "main",
            },
        }],
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var custom_target_type = new Gcp.CloudDeploy.CustomTargetType("custom-target-type", new()
    {
        Location = "us-central1",
        Name = "my-custom-target-type",
        Description = "My custom target type",
        CustomActions = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsArgs
        {
            RenderAction = "renderAction",
            DeployAction = "deployAction",
            IncludeSkaffoldModules = new[]
            {
                new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs
                {
                    Configs = new[]
                    {
                        "my-config",
                    },
                    GoogleCloudBuildRepo = new Gcp.CloudDeploy.Inputs.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepoArgs
                    {
                        Repository = "projects/example/locations/us-central1/connections/git/repositories/example-repo",
                        Path = "configs/skaffold.yaml",
                        Ref = "main",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewCustomTargetType(ctx, "custom-target-type", &clouddeploy.CustomTargetTypeArgs{
			Location:    pulumi.String("us-central1"),
			Name:        pulumi.String("my-custom-target-type"),
			Description: pulumi.String("My custom target type"),
			CustomActions: &clouddeploy.CustomTargetTypeCustomActionsArgs{
				RenderAction: pulumi.String("renderAction"),
				DeployAction: pulumi.String("deployAction"),
				IncludeSkaffoldModules: clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArray{
					&clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs{
						Configs: pulumi.StringArray{
							pulumi.String("my-config"),
						},
						GoogleCloudBuildRepo: &clouddeploy.CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepoArgs{
							Repository: pulumi.String("projects/example/locations/us-central1/connections/git/repositories/example-repo"),
							Path:       pulumi.String("configs/skaffold.yaml"),
							Ref:        pulumi.String("main"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.CustomTargetType;
import com.pulumi.gcp.clouddeploy.CustomTargetTypeArgs;
import com.pulumi.gcp.clouddeploy.inputs.CustomTargetTypeCustomActionsArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var custom_target_type = new CustomTargetType("custom-target-type", CustomTargetTypeArgs.builder()
            .location("us-central1")
            .name("my-custom-target-type")
            .description("My custom target type")
            .customActions(CustomTargetTypeCustomActionsArgs.builder()
                .renderAction("renderAction")
                .deployAction("deployAction")
                .includeSkaffoldModules(CustomTargetTypeCustomActionsIncludeSkaffoldModuleArgs.builder()
                    .configs("my-config")
                    .googleCloudBuildRepo(CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepoArgs.builder()
                        .repository("projects/example/locations/us-central1/connections/git/repositories/example-repo")
                        .path("configs/skaffold.yaml")
                        .ref("main")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  custom-target-type:
    type: gcp:clouddeploy:CustomTargetType
    properties:
      location: us-central1
      name: my-custom-target-type
      description: My custom target type
      customActions:
        renderAction: renderAction
        deployAction: deployAction
        includeSkaffoldModules:
          - configs:
              - my-config
            googleCloudBuildRepo:
              repository: projects/example/locations/us-central1/connections/git/repositories/example-repo
              path: configs/skaffold.yaml
              ref: main
```
<!--End PulumiCodeChooser -->

## Import

CustomTargetType can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/customTargetTypes/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, CustomTargetType can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:clouddeploy/customTargetType:CustomTargetType default projects/{{project}}/locations/{{location}}/customTargetTypes/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/customTargetType:CustomTargetType default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/customTargetType:CustomTargetType default {{location}}/{{name}}
```

°
annotationsB2" ˜User annotations. These attributes can only be set and used by the user, and not by Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
ˆ
customActionsB}:{
y
clouddeployCustomTargetTypeCustomActionsKgcp:clouddeploy/CustomTargetTypeCustomActions:CustomTargetTypeCustomActionsvConfigures render and deploy for the `CustomTargetType` using Skaffold custom actions.
Structure is documented below.
Z
descriptionB" EDescription of the `CustomTargetType`. Max length is 255 characters.
Ó
labelsB2" ÀLabels are attributes that can be set and used by both the user and by Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
4
location" $The location of the source.


- - -
.
nameB"  Name of the `CustomTargetType`.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"°
annotationsB2" ˜User annotations. These attributes can only be set and used by the user, and not by Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.
**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
"D

createTime" 2Time at which the `CustomTargetType` was created.
"ˆ
customActionsB}:{
y
clouddeployCustomTargetTypeCustomActionsKgcp:clouddeploy/CustomTargetTypeCustomActions:CustomTargetTypeCustomActionsvConfigures render and deploy for the `CustomTargetType` using Skaffold custom actions.
Structure is documented below.
"A
customTargetTypeId" 'Resource id of the `CustomTargetType`.
"Z
descriptionB" EDescription of the `CustomTargetType`. Max length is 255 characters.
"
effectiveAnnotations2" "¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"ù
etag" ìThe weak etag of the `CustomTargetType` resource. This checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
"Ó
labelsB2" ÀLabels are attributes that can be set and used by both the user and by Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.
**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"4
location" $The location of the source.


- - -
",
name"  Name of the `CustomTargetType`.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"8
uid" -Unique identifier of the `CustomTargetType`.
"D

updateTime" 2Time at which the `CustomTargetType` was updated.
*Þ
p
clouddeployCustomTargetTypeIamBindingEgcp:clouddeploy/customTargetTypeIamBinding:CustomTargetTypeIamBinding¢
	condition”B‘:Ž
‹
clouddeploy#CustomTargetTypeIamBindingConditionWgcp:clouddeploy/CustomTargetTypeIamBindingCondition:CustomTargetTypeIamBindingCondition
locationB" 
members*" 
nameB" 
projectB" 

role" "¢
	condition”B‘:Ž
‹
clouddeploy#CustomTargetTypeIamBindingConditionWgcp:clouddeploy/CustomTargetTypeIamBindingCondition:CustomTargetTypeIamBindingCondition"

etag" "
location" "
members*" "

name" "
project" "

role" *Ï
m
clouddeployCustomTargetTypeIamMemberCgcp:clouddeploy/customTargetTypeIamMember:CustomTargetTypeIamMemberŸ
	condition‘BŽ:‹
ˆ
clouddeploy"CustomTargetTypeIamMemberConditionUgcp:clouddeploy/CustomTargetTypeIamMemberCondition:CustomTargetTypeIamMemberCondition
locationB" 
member" 
nameB" 
projectB" 

role" "Ÿ
	condition‘BŽ:‹
ˆ
clouddeploy"CustomTargetTypeIamMemberConditionUgcp:clouddeploy/CustomTargetTypeIamMemberCondition:CustomTargetTypeIamMemberCondition"

etag" "
location" "
member" "

name" "
project" "

role" *û
m
clouddeployCustomTargetTypeIamPolicyCgcp:clouddeploy/customTargetTypeIamPolicy:CustomTargetTypeIamPolicy
locationB" 
nameB" 

policyData" 
projectB" "

etag" "
location" "

name" "

policyData" "
project" *É‹
R
clouddeployDeliveryPipeline1gcp:clouddeploy/deliveryPipeline:DeliveryPipelineÍçThe Cloud Deploy `DeliveryPipeline` resource

## Example Usage

### Canary_delivery_pipeline
Creates a basic Cloud Deploy delivery pipeline
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.DeliveryPipeline("primary", {
    location: "us-west1",
    name: "pipeline",
    description: "basic description",
    project: "my-project-name",
    serialPipeline: {
        stages: [
            {
                deployParameters: [{
                    values: {
                        deployParameterKey: "deployParameterValue",
                    },
                    matchTargetLabels: {},
                }],
                profiles: [
                    "example-profile-one",
                    "example-profile-two",
                ],
                targetId: "example-target-one",
            },
            {
                profiles: [],
                targetId: "example-target-two",
            },
        ],
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.DeliveryPipeline("primary",
    location="us-west1",
    name="pipeline",
    description="basic description",
    project="my-project-name",
    serial_pipeline={
        "stages": [
            {
                "deploy_parameters": [{
                    "values": {
                        "deployParameterKey": "deployParameterValue",
                    },
                    "match_target_labels": {},
                }],
                "profiles": [
                    "example-profile-one",
                    "example-profile-two",
                ],
                "target_id": "example-target-one",
            },
            {
                "profiles": [],
                "target_id": "example-target-two",
            },
        ],
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.DeliveryPipeline("primary", new()
    {
        Location = "us-west1",
        Name = "pipeline",
        Description = "basic description",
        Project = "my-project-name",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    DeployParameters = new[]
                    {
                        new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageDeployParameterArgs
                        {
                            Values = 
                            {
                                { "deployParameterKey", "deployParameterValue" },
                            },
                            MatchTargetLabels = null,
                        },
                    },
                    Profiles = new[]
                    {
                        "example-profile-one",
                        "example-profile-two",
                    },
                    TargetId = "example-target-one",
                },
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    Profiles = new() { },
                    TargetId = "example-target-two",
                },
            },
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewDeliveryPipeline(ctx, "primary", &clouddeploy.DeliveryPipelineArgs{
			Location:    pulumi.String("us-west1"),
			Name:        pulumi.String("pipeline"),
			Description: pulumi.String("basic description"),
			Project:     pulumi.String("my-project-name"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						DeployParameters: clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArray{
							&clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArgs{
								Values: pulumi.StringMap{
									"deployParameterKey": pulumi.String("deployParameterValue"),
								},
								MatchTargetLabels: pulumi.StringMap{},
							},
						},
						Profiles: pulumi.StringArray{
							pulumi.String("example-profile-one"),
							pulumi.String("example-profile-two"),
						},
						TargetId: pulumi.String("example-target-one"),
					},
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						Profiles: pulumi.StringArray{},
						TargetId: pulumi.String("example-target-two"),
					},
				},
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new DeliveryPipeline("primary", DeliveryPipelineArgs.builder()
            .location("us-west1")
            .name("pipeline")
            .description("basic description")
            .project("my-project-name")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(                
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .deployParameters(DeliveryPipelineSerialPipelineStageDeployParameterArgs.builder()
                            .values(Map.of("deployParameterKey", "deployParameterValue"))
                            .matchTargetLabels()
                            .build())
                        .profiles(                        
                            "example-profile-one",
                            "example-profile-two")
                        .targetId("example-target-one")
                        .build(),
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .profiles()
                        .targetId("example-target-two")
                        .build())
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      location: us-west1
      name: pipeline
      description: basic description
      project: my-project-name
      serialPipeline:
        stages:
          - deployParameters:
              - values:
                  deployParameterKey: deployParameterValue
                matchTargetLabels: {}
            profiles:
              - example-profile-one
              - example-profile-two
            targetId: example-target-one
          - profiles: []
            targetId: example-target-two
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Canary_service_networking_delivery_pipeline
Creates a basic Cloud Deploy delivery pipeline
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.DeliveryPipeline("primary", {
    location: "us-west1",
    name: "pipeline",
    description: "basic description",
    project: "my-project-name",
    serialPipeline: {
        stages: [
            {
                deployParameters: [{
                    values: {
                        deployParameterKey: "deployParameterValue",
                    },
                    matchTargetLabels: {},
                }],
                profiles: [
                    "example-profile-one",
                    "example-profile-two",
                ],
                targetId: "example-target-one",
            },
            {
                profiles: [],
                targetId: "example-target-two",
            },
        ],
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.DeliveryPipeline("primary",
    location="us-west1",
    name="pipeline",
    description="basic description",
    project="my-project-name",
    serial_pipeline={
        "stages": [
            {
                "deploy_parameters": [{
                    "values": {
                        "deployParameterKey": "deployParameterValue",
                    },
                    "match_target_labels": {},
                }],
                "profiles": [
                    "example-profile-one",
                    "example-profile-two",
                ],
                "target_id": "example-target-one",
            },
            {
                "profiles": [],
                "target_id": "example-target-two",
            },
        ],
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.DeliveryPipeline("primary", new()
    {
        Location = "us-west1",
        Name = "pipeline",
        Description = "basic description",
        Project = "my-project-name",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    DeployParameters = new[]
                    {
                        new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageDeployParameterArgs
                        {
                            Values = 
                            {
                                { "deployParameterKey", "deployParameterValue" },
                            },
                            MatchTargetLabels = null,
                        },
                    },
                    Profiles = new[]
                    {
                        "example-profile-one",
                        "example-profile-two",
                    },
                    TargetId = "example-target-one",
                },
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    Profiles = new() { },
                    TargetId = "example-target-two",
                },
            },
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewDeliveryPipeline(ctx, "primary", &clouddeploy.DeliveryPipelineArgs{
			Location:    pulumi.String("us-west1"),
			Name:        pulumi.String("pipeline"),
			Description: pulumi.String("basic description"),
			Project:     pulumi.String("my-project-name"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						DeployParameters: clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArray{
							&clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArgs{
								Values: pulumi.StringMap{
									"deployParameterKey": pulumi.String("deployParameterValue"),
								},
								MatchTargetLabels: pulumi.StringMap{},
							},
						},
						Profiles: pulumi.StringArray{
							pulumi.String("example-profile-one"),
							pulumi.String("example-profile-two"),
						},
						TargetId: pulumi.String("example-target-one"),
					},
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						Profiles: pulumi.StringArray{},
						TargetId: pulumi.String("example-target-two"),
					},
				},
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new DeliveryPipeline("primary", DeliveryPipelineArgs.builder()
            .location("us-west1")
            .name("pipeline")
            .description("basic description")
            .project("my-project-name")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(                
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .deployParameters(DeliveryPipelineSerialPipelineStageDeployParameterArgs.builder()
                            .values(Map.of("deployParameterKey", "deployParameterValue"))
                            .matchTargetLabels()
                            .build())
                        .profiles(                        
                            "example-profile-one",
                            "example-profile-two")
                        .targetId("example-target-one")
                        .build(),
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .profiles()
                        .targetId("example-target-two")
                        .build())
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      location: us-west1
      name: pipeline
      description: basic description
      project: my-project-name
      serialPipeline:
        stages:
          - deployParameters:
              - values:
                  deployParameterKey: deployParameterValue
                matchTargetLabels: {}
            profiles:
              - example-profile-one
              - example-profile-two
            targetId: example-target-one
          - profiles: []
            targetId: example-target-two
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Canaryrun_delivery_pipeline
Creates a basic Cloud Deploy delivery pipeline
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.DeliveryPipeline("primary", {
    location: "us-west1",
    name: "pipeline",
    description: "basic description",
    project: "my-project-name",
    serialPipeline: {
        stages: [
            {
                deployParameters: [{
                    values: {
                        deployParameterKey: "deployParameterValue",
                    },
                    matchTargetLabels: {},
                }],
                profiles: [
                    "example-profile-one",
                    "example-profile-two",
                ],
                targetId: "example-target-one",
            },
            {
                profiles: [],
                targetId: "example-target-two",
            },
        ],
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.DeliveryPipeline("primary",
    location="us-west1",
    name="pipeline",
    description="basic description",
    project="my-project-name",
    serial_pipeline={
        "stages": [
            {
                "deploy_parameters": [{
                    "values": {
                        "deployParameterKey": "deployParameterValue",
                    },
                    "match_target_labels": {},
                }],
                "profiles": [
                    "example-profile-one",
                    "example-profile-two",
                ],
                "target_id": "example-target-one",
            },
            {
                "profiles": [],
                "target_id": "example-target-two",
            },
        ],
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.DeliveryPipeline("primary", new()
    {
        Location = "us-west1",
        Name = "pipeline",
        Description = "basic description",
        Project = "my-project-name",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    DeployParameters = new[]
                    {
                        new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageDeployParameterArgs
                        {
                            Values = 
                            {
                                { "deployParameterKey", "deployParameterValue" },
                            },
                            MatchTargetLabels = null,
                        },
                    },
                    Profiles = new[]
                    {
                        "example-profile-one",
                        "example-profile-two",
                    },
                    TargetId = "example-target-one",
                },
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    Profiles = new() { },
                    TargetId = "example-target-two",
                },
            },
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewDeliveryPipeline(ctx, "primary", &clouddeploy.DeliveryPipelineArgs{
			Location:    pulumi.String("us-west1"),
			Name:        pulumi.String("pipeline"),
			Description: pulumi.String("basic description"),
			Project:     pulumi.String("my-project-name"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						DeployParameters: clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArray{
							&clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArgs{
								Values: pulumi.StringMap{
									"deployParameterKey": pulumi.String("deployParameterValue"),
								},
								MatchTargetLabels: pulumi.StringMap{},
							},
						},
						Profiles: pulumi.StringArray{
							pulumi.String("example-profile-one"),
							pulumi.String("example-profile-two"),
						},
						TargetId: pulumi.String("example-target-one"),
					},
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						Profiles: pulumi.StringArray{},
						TargetId: pulumi.String("example-target-two"),
					},
				},
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new DeliveryPipeline("primary", DeliveryPipelineArgs.builder()
            .location("us-west1")
            .name("pipeline")
            .description("basic description")
            .project("my-project-name")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(                
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .deployParameters(DeliveryPipelineSerialPipelineStageDeployParameterArgs.builder()
                            .values(Map.of("deployParameterKey", "deployParameterValue"))
                            .matchTargetLabels()
                            .build())
                        .profiles(                        
                            "example-profile-one",
                            "example-profile-two")
                        .targetId("example-target-one")
                        .build(),
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .profiles()
                        .targetId("example-target-two")
                        .build())
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      location: us-west1
      name: pipeline
      description: basic description
      project: my-project-name
      serialPipeline:
        stages:
          - deployParameters:
              - values:
                  deployParameterKey: deployParameterValue
                matchTargetLabels: {}
            profiles:
              - example-profile-one
              - example-profile-two
            targetId: example-target-one
          - profiles: []
            targetId: example-target-two
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Delivery_pipeline
Creates a basic Cloud Deploy delivery pipeline
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.DeliveryPipeline("primary", {
    location: "us-west1",
    name: "pipeline",
    description: "basic description",
    project: "my-project-name",
    serialPipeline: {
        stages: [
            {
                deployParameters: [{
                    values: {
                        deployParameterKey: "deployParameterValue",
                    },
                    matchTargetLabels: {},
                }],
                profiles: [
                    "example-profile-one",
                    "example-profile-two",
                ],
                targetId: "example-target-one",
            },
            {
                profiles: [],
                targetId: "example-target-two",
            },
        ],
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.DeliveryPipeline("primary",
    location="us-west1",
    name="pipeline",
    description="basic description",
    project="my-project-name",
    serial_pipeline={
        "stages": [
            {
                "deploy_parameters": [{
                    "values": {
                        "deployParameterKey": "deployParameterValue",
                    },
                    "match_target_labels": {},
                }],
                "profiles": [
                    "example-profile-one",
                    "example-profile-two",
                ],
                "target_id": "example-target-one",
            },
            {
                "profiles": [],
                "target_id": "example-target-two",
            },
        ],
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.DeliveryPipeline("primary", new()
    {
        Location = "us-west1",
        Name = "pipeline",
        Description = "basic description",
        Project = "my-project-name",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    DeployParameters = new[]
                    {
                        new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageDeployParameterArgs
                        {
                            Values = 
                            {
                                { "deployParameterKey", "deployParameterValue" },
                            },
                            MatchTargetLabels = null,
                        },
                    },
                    Profiles = new[]
                    {
                        "example-profile-one",
                        "example-profile-two",
                    },
                    TargetId = "example-target-one",
                },
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    Profiles = new() { },
                    TargetId = "example-target-two",
                },
            },
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewDeliveryPipeline(ctx, "primary", &clouddeploy.DeliveryPipelineArgs{
			Location:    pulumi.String("us-west1"),
			Name:        pulumi.String("pipeline"),
			Description: pulumi.String("basic description"),
			Project:     pulumi.String("my-project-name"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						DeployParameters: clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArray{
							&clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArgs{
								Values: pulumi.StringMap{
									"deployParameterKey": pulumi.String("deployParameterValue"),
								},
								MatchTargetLabels: pulumi.StringMap{},
							},
						},
						Profiles: pulumi.StringArray{
							pulumi.String("example-profile-one"),
							pulumi.String("example-profile-two"),
						},
						TargetId: pulumi.String("example-target-one"),
					},
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						Profiles: pulumi.StringArray{},
						TargetId: pulumi.String("example-target-two"),
					},
				},
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new DeliveryPipeline("primary", DeliveryPipelineArgs.builder()
            .location("us-west1")
            .name("pipeline")
            .description("basic description")
            .project("my-project-name")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(                
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .deployParameters(DeliveryPipelineSerialPipelineStageDeployParameterArgs.builder()
                            .values(Map.of("deployParameterKey", "deployParameterValue"))
                            .matchTargetLabels()
                            .build())
                        .profiles(                        
                            "example-profile-one",
                            "example-profile-two")
                        .targetId("example-target-one")
                        .build(),
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .profiles()
                        .targetId("example-target-two")
                        .build())
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      location: us-west1
      name: pipeline
      description: basic description
      project: my-project-name
      serialPipeline:
        stages:
          - deployParameters:
              - values:
                  deployParameterKey: deployParameterValue
                matchTargetLabels: {}
            profiles:
              - example-profile-one
              - example-profile-two
            targetId: example-target-one
          - profiles: []
            targetId: example-target-two
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Verify_delivery_pipeline
tests creating and updating a delivery pipeline with deployment verification strategy
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.DeliveryPipeline("primary", {
    location: "us-west1",
    name: "pipeline",
    description: "basic description",
    project: "my-project-name",
    serialPipeline: {
        stages: [
            {
                deployParameters: [{
                    values: {
                        deployParameterKey: "deployParameterValue",
                    },
                    matchTargetLabels: {},
                }],
                profiles: [
                    "example-profile-one",
                    "example-profile-two",
                ],
                targetId: "example-target-one",
            },
            {
                profiles: [],
                targetId: "example-target-two",
            },
        ],
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.DeliveryPipeline("primary",
    location="us-west1",
    name="pipeline",
    description="basic description",
    project="my-project-name",
    serial_pipeline={
        "stages": [
            {
                "deploy_parameters": [{
                    "values": {
                        "deployParameterKey": "deployParameterValue",
                    },
                    "match_target_labels": {},
                }],
                "profiles": [
                    "example-profile-one",
                    "example-profile-two",
                ],
                "target_id": "example-target-one",
            },
            {
                "profiles": [],
                "target_id": "example-target-two",
            },
        ],
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.DeliveryPipeline("primary", new()
    {
        Location = "us-west1",
        Name = "pipeline",
        Description = "basic description",
        Project = "my-project-name",
        SerialPipeline = new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineArgs
        {
            Stages = new[]
            {
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    DeployParameters = new[]
                    {
                        new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageDeployParameterArgs
                        {
                            Values = 
                            {
                                { "deployParameterKey", "deployParameterValue" },
                            },
                            MatchTargetLabels = null,
                        },
                    },
                    Profiles = new[]
                    {
                        "example-profile-one",
                        "example-profile-two",
                    },
                    TargetId = "example-target-one",
                },
                new Gcp.CloudDeploy.Inputs.DeliveryPipelineSerialPipelineStageArgs
                {
                    Profiles = new() { },
                    TargetId = "example-target-two",
                },
            },
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewDeliveryPipeline(ctx, "primary", &clouddeploy.DeliveryPipelineArgs{
			Location:    pulumi.String("us-west1"),
			Name:        pulumi.String("pipeline"),
			Description: pulumi.String("basic description"),
			Project:     pulumi.String("my-project-name"),
			SerialPipeline: &clouddeploy.DeliveryPipelineSerialPipelineArgs{
				Stages: clouddeploy.DeliveryPipelineSerialPipelineStageArray{
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						DeployParameters: clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArray{
							&clouddeploy.DeliveryPipelineSerialPipelineStageDeployParameterArgs{
								Values: pulumi.StringMap{
									"deployParameterKey": pulumi.String("deployParameterValue"),
								},
								MatchTargetLabels: pulumi.StringMap{},
							},
						},
						Profiles: pulumi.StringArray{
							pulumi.String("example-profile-one"),
							pulumi.String("example-profile-two"),
						},
						TargetId: pulumi.String("example-target-one"),
					},
					&clouddeploy.DeliveryPipelineSerialPipelineStageArgs{
						Profiles: pulumi.StringArray{},
						TargetId: pulumi.String("example-target-two"),
					},
				},
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.DeliveryPipeline;
import com.pulumi.gcp.clouddeploy.DeliveryPipelineArgs;
import com.pulumi.gcp.clouddeploy.inputs.DeliveryPipelineSerialPipelineArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new DeliveryPipeline("primary", DeliveryPipelineArgs.builder()
            .location("us-west1")
            .name("pipeline")
            .description("basic description")
            .project("my-project-name")
            .serialPipeline(DeliveryPipelineSerialPipelineArgs.builder()
                .stages(                
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .deployParameters(DeliveryPipelineSerialPipelineStageDeployParameterArgs.builder()
                            .values(Map.of("deployParameterKey", "deployParameterValue"))
                            .matchTargetLabels()
                            .build())
                        .profiles(                        
                            "example-profile-one",
                            "example-profile-two")
                        .targetId("example-target-one")
                        .build(),
                    DeliveryPipelineSerialPipelineStageArgs.builder()
                        .profiles()
                        .targetId("example-target-two")
                        .build())
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:DeliveryPipeline
    properties:
      location: us-west1
      name: pipeline
      description: basic description
      project: my-project-name
      serialPipeline:
        stages:
          - deployParameters:
              - values:
                  deployParameterKey: deployParameterValue
                matchTargetLabels: {}
            profiles:
              - example-profile-one
              - example-profile-two
            targetId: example-target-one
          - profiles: []
            targetId: example-target-two
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->

## Import

DeliveryPipeline can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/deliveryPipelines/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, DeliveryPipeline can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:clouddeploy/deliveryPipeline:DeliveryPipeline default projects/{{project}}/locations/{{location}}/deliveryPipelines/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/deliveryPipeline:DeliveryPipeline default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/deliveryPipeline:DeliveryPipeline default {{location}}/{{name}}
```

·
annotationsB2" ŸUser annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See
https://google.aip.dev/128#annotations for more details such as format and size limitations. **Note**: This field is
non-authoritative, and will only manage the annotations present in your configuration. Please refer to the field
`effective_annotations` for all of the annotations present on the resource.
Z
descriptionB" EDescription of the `DeliveryPipeline`. Max length is 255 characters.
Ú
labelsB2" ÇLabels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the
following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and
dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a
lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values
are additionally constrained to be <= 128 bytes. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field `effective_labels` for all of the labels present on the
resource.
.
location" The location for the resource
@
nameB" 2Name of the `DeliveryPipeline`. Format is `a-z?`.
.
projectB" The project for the resource
ä
serialPipelineƒB€:~
|
clouddeployDeliveryPipelineSerialPipelineMgcp:clouddeploy/DeliveryPipelineSerialPipeline:DeliveryPipelineSerialPipelineLSerialPipeline defines a sequential set of stages for a `DeliveryPipeline`.
s
	suspendedB
 `When suspended, no new releases or rollouts can be created, but in-progress ones will complete.
"·
annotationsB2" ŸUser annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See
https://google.aip.dev/128#annotations for more details such as format and size limitations. **Note**: This field is
non-authoritative, and will only manage the annotations present in your configuration. Please refer to the field
`effective_annotations` for all of the annotations present on the resource.
"Ç

conditionss*q:o
m
clouddeployDeliveryPipelineConditionCgcp:clouddeploy/DeliveryPipelineCondition:DeliveryPipelineConditionDOutput only. Information around the state of the Delivery Pipeline.
"G

createTime" 5Output only. Time at which the pipeline was created.
"Z
descriptionB" EDescription of the `DeliveryPipeline`. Max length is 255 characters.
"
effectiveAnnotations2" "¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"Ç
etag" ºThis checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
"Ú
labelsB2" ÇLabels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the
following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and
dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a
lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values
are additionally constrained to be <= 128 bytes. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field `effective_labels` for all of the labels present on the
resource.
".
location" The location for the resource
">
name" 2Name of the `DeliveryPipeline`. Format is `a-z?`.
",
project" The project for the resource
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource and default labels configured on the provider.
"ä
serialPipelineƒB€:~
|
clouddeployDeliveryPipelineSerialPipelineMgcp:clouddeploy/DeliveryPipelineSerialPipeline:DeliveryPipelineSerialPipelineLSerialPipeline defines a sequential set of stages for a `DeliveryPipeline`.
"s
	suspendedB
 `When suspended, no new releases or rollouts can be created, but in-progress ones will complete.
"E
uid" :Output only. Unique identifier of the `DeliveryPipeline`.
"S

updateTime" AOutput only. Most recent time at which the pipeline was updated.
*Þ
p
clouddeployDeliveryPipelineIamBindingEgcp:clouddeploy/deliveryPipelineIamBinding:DeliveryPipelineIamBinding¢
	condition”B‘:Ž
‹
clouddeploy#DeliveryPipelineIamBindingConditionWgcp:clouddeploy/DeliveryPipelineIamBindingCondition:DeliveryPipelineIamBindingCondition
locationB" 
members*" 
nameB" 
projectB" 

role" "¢
	condition”B‘:Ž
‹
clouddeploy#DeliveryPipelineIamBindingConditionWgcp:clouddeploy/DeliveryPipelineIamBindingCondition:DeliveryPipelineIamBindingCondition"

etag" "
location" "
members*" "

name" "
project" "

role" *Ï
m
clouddeployDeliveryPipelineIamMemberCgcp:clouddeploy/deliveryPipelineIamMember:DeliveryPipelineIamMemberŸ
	condition‘BŽ:‹
ˆ
clouddeploy"DeliveryPipelineIamMemberConditionUgcp:clouddeploy/DeliveryPipelineIamMemberCondition:DeliveryPipelineIamMemberCondition
locationB" 
member" 
nameB" 
projectB" 

role" "Ÿ
	condition‘BŽ:‹
ˆ
clouddeploy"DeliveryPipelineIamMemberConditionUgcp:clouddeploy/DeliveryPipelineIamMemberCondition:DeliveryPipelineIamMemberCondition"

etag" "
location" "
member" "

name" "
project" "

role" *û
m
clouddeployDeliveryPipelineIamPolicyCgcp:clouddeploy/deliveryPipelineIamPolicy:DeliveryPipelineIamPolicy
locationB" 
nameB" 

policyData" 
projectB" "

etag" "
location" "

name" "

policyData" "
project" *þØ
4
clouddeployTargetgcp:clouddeploy/target:Target¢šThe Cloud Deploy `Target` resource

## Example Usage

### Multi_target
tests creating and updating a multi-target
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.Target("primary", {
    location: "us-west1",
    name: "target",
    deployParameters: {},
    description: "multi-target description",
    executionConfigs: [{
        usages: [
            "RENDER",
            "DEPLOY",
        ],
        executionTimeout: "3600s",
    }],
    multiTarget: {
        targetIds: [
            "1",
            "2",
        ],
    },
    project: "my-project-name",
    requireApproval: false,
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.Target("primary",
    location="us-west1",
    name="target",
    deploy_parameters={},
    description="multi-target description",
    execution_configs=[{
        "usages": [
            "RENDER",
            "DEPLOY",
        ],
        "execution_timeout": "3600s",
    }],
    multi_target={
        "target_ids": [
            "1",
            "2",
        ],
    },
    project="my-project-name",
    require_approval=False,
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.Target("primary", new()
    {
        Location = "us-west1",
        Name = "target",
        DeployParameters = null,
        Description = "multi-target description",
        ExecutionConfigs = new[]
        {
            new Gcp.CloudDeploy.Inputs.TargetExecutionConfigArgs
            {
                Usages = new[]
                {
                    "RENDER",
                    "DEPLOY",
                },
                ExecutionTimeout = "3600s",
            },
        },
        MultiTarget = new Gcp.CloudDeploy.Inputs.TargetMultiTargetArgs
        {
            TargetIds = new[]
            {
                "1",
                "2",
            },
        },
        Project = "my-project-name",
        RequireApproval = false,
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewTarget(ctx, "primary", &clouddeploy.TargetArgs{
			Location:         pulumi.String("us-west1"),
			Name:             pulumi.String("target"),
			DeployParameters: pulumi.StringMap{},
			Description:      pulumi.String("multi-target description"),
			ExecutionConfigs: clouddeploy.TargetExecutionConfigArray{
				&clouddeploy.TargetExecutionConfigArgs{
					Usages: pulumi.StringArray{
						pulumi.String("RENDER"),
						pulumi.String("DEPLOY"),
					},
					ExecutionTimeout: pulumi.String("3600s"),
				},
			},
			MultiTarget: &clouddeploy.TargetMultiTargetArgs{
				TargetIds: pulumi.StringArray{
					pulumi.String("1"),
					pulumi.String("2"),
				},
			},
			Project:         pulumi.String("my-project-name"),
			RequireApproval: pulumi.Bool(false),
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.Target;
import com.pulumi.gcp.clouddeploy.TargetArgs;
import com.pulumi.gcp.clouddeploy.inputs.TargetExecutionConfigArgs;
import com.pulumi.gcp.clouddeploy.inputs.TargetMultiTargetArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new Target("primary", TargetArgs.builder()
            .location("us-west1")
            .name("target")
            .deployParameters()
            .description("multi-target description")
            .executionConfigs(TargetExecutionConfigArgs.builder()
                .usages(                
                    "RENDER",
                    "DEPLOY")
                .executionTimeout("3600s")
                .build())
            .multiTarget(TargetMultiTargetArgs.builder()
                .targetIds(                
                    "1",
                    "2")
                .build())
            .project("my-project-name")
            .requireApproval(false)
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:Target
    properties:
      location: us-west1
      name: target
      deployParameters: {}
      description: multi-target description
      executionConfigs:
        - usages:
            - RENDER
            - DEPLOY
          executionTimeout: 3600s
      multiTarget:
        targetIds:
          - '1'
          - '2'
      project: my-project-name
      requireApproval: false
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Run_target
tests creating and updating a cloud run target
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.Target("primary", {
    location: "us-west1",
    name: "target",
    deployParameters: {},
    description: "basic description",
    executionConfigs: [{
        usages: [
            "RENDER",
            "DEPLOY",
        ],
        executionTimeout: "3600s",
    }],
    project: "my-project-name",
    requireApproval: false,
    run: {
        location: "projects/my-project-name/locations/us-west1",
    },
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.Target("primary",
    location="us-west1",
    name="target",
    deploy_parameters={},
    description="basic description",
    execution_configs=[{
        "usages": [
            "RENDER",
            "DEPLOY",
        ],
        "execution_timeout": "3600s",
    }],
    project="my-project-name",
    require_approval=False,
    run={
        "location": "projects/my-project-name/locations/us-west1",
    },
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.Target("primary", new()
    {
        Location = "us-west1",
        Name = "target",
        DeployParameters = null,
        Description = "basic description",
        ExecutionConfigs = new[]
        {
            new Gcp.CloudDeploy.Inputs.TargetExecutionConfigArgs
            {
                Usages = new[]
                {
                    "RENDER",
                    "DEPLOY",
                },
                ExecutionTimeout = "3600s",
            },
        },
        Project = "my-project-name",
        RequireApproval = false,
        Run = new Gcp.CloudDeploy.Inputs.TargetRunArgs
        {
            Location = "projects/my-project-name/locations/us-west1",
        },
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewTarget(ctx, "primary", &clouddeploy.TargetArgs{
			Location:         pulumi.String("us-west1"),
			Name:             pulumi.String("target"),
			DeployParameters: pulumi.StringMap{},
			Description:      pulumi.String("basic description"),
			ExecutionConfigs: clouddeploy.TargetExecutionConfigArray{
				&clouddeploy.TargetExecutionConfigArgs{
					Usages: pulumi.StringArray{
						pulumi.String("RENDER"),
						pulumi.String("DEPLOY"),
					},
					ExecutionTimeout: pulumi.String("3600s"),
				},
			},
			Project:         pulumi.String("my-project-name"),
			RequireApproval: pulumi.Bool(false),
			Run: &clouddeploy.TargetRunArgs{
				Location: pulumi.String("projects/my-project-name/locations/us-west1"),
			},
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.Target;
import com.pulumi.gcp.clouddeploy.TargetArgs;
import com.pulumi.gcp.clouddeploy.inputs.TargetExecutionConfigArgs;
import com.pulumi.gcp.clouddeploy.inputs.TargetRunArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new Target("primary", TargetArgs.builder()
            .location("us-west1")
            .name("target")
            .deployParameters()
            .description("basic description")
            .executionConfigs(TargetExecutionConfigArgs.builder()
                .usages(                
                    "RENDER",
                    "DEPLOY")
                .executionTimeout("3600s")
                .build())
            .project("my-project-name")
            .requireApproval(false)
            .run(TargetRunArgs.builder()
                .location("projects/my-project-name/locations/us-west1")
                .build())
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:Target
    properties:
      location: us-west1
      name: target
      deployParameters: {}
      description: basic description
      executionConfigs:
        - usages:
            - RENDER
            - DEPLOY
          executionTimeout: 3600s
      project: my-project-name
      requireApproval: false
      run:
        location: projects/my-project-name/locations/us-west1
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->
### Target
Creates a basic Cloud Deploy target
<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const primary = new gcp.clouddeploy.Target("primary", {
    location: "us-west1",
    name: "target",
    deployParameters: {
        deployParameterKey: "deployParameterValue",
    },
    description: "basic description",
    gke: {
        cluster: "projects/my-project-name/locations/us-west1/clusters/example-cluster-name",
    },
    project: "my-project-name",
    requireApproval: false,
    annotations: {
        my_first_annotation: "example-annotation-1",
        my_second_annotation: "example-annotation-2",
    },
    labels: {
        my_first_label: "example-label-1",
        my_second_label: "example-label-2",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

primary = gcp.clouddeploy.Target("primary",
    location="us-west1",
    name="target",
    deploy_parameters={
        "deployParameterKey": "deployParameterValue",
    },
    description="basic description",
    gke={
        "cluster": "projects/my-project-name/locations/us-west1/clusters/example-cluster-name",
    },
    project="my-project-name",
    require_approval=False,
    annotations={
        "my_first_annotation": "example-annotation-1",
        "my_second_annotation": "example-annotation-2",
    },
    labels={
        "my_first_label": "example-label-1",
        "my_second_label": "example-label-2",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var primary = new Gcp.CloudDeploy.Target("primary", new()
    {
        Location = "us-west1",
        Name = "target",
        DeployParameters = 
        {
            { "deployParameterKey", "deployParameterValue" },
        },
        Description = "basic description",
        Gke = new Gcp.CloudDeploy.Inputs.TargetGkeArgs
        {
            Cluster = "projects/my-project-name/locations/us-west1/clusters/example-cluster-name",
        },
        Project = "my-project-name",
        RequireApproval = false,
        Annotations = 
        {
            { "my_first_annotation", "example-annotation-1" },
            { "my_second_annotation", "example-annotation-2" },
        },
        Labels = 
        {
            { "my_first_label", "example-label-1" },
            { "my_second_label", "example-label-2" },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.NewTarget(ctx, "primary", &clouddeploy.TargetArgs{
			Location: pulumi.String("us-west1"),
			Name:     pulumi.String("target"),
			DeployParameters: pulumi.StringMap{
				"deployParameterKey": pulumi.String("deployParameterValue"),
			},
			Description: pulumi.String("basic description"),
			Gke: &clouddeploy.TargetGkeArgs{
				Cluster: pulumi.String("projects/my-project-name/locations/us-west1/clusters/example-cluster-name"),
			},
			Project:         pulumi.String("my-project-name"),
			RequireApproval: pulumi.Bool(false),
			Annotations: pulumi.StringMap{
				"my_first_annotation":  pulumi.String("example-annotation-1"),
				"my_second_annotation": pulumi.String("example-annotation-2"),
			},
			Labels: pulumi.StringMap{
				"my_first_label":  pulumi.String("example-label-1"),
				"my_second_label": pulumi.String("example-label-2"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.Target;
import com.pulumi.gcp.clouddeploy.TargetArgs;
import com.pulumi.gcp.clouddeploy.inputs.TargetGkeArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var primary = new Target("primary", TargetArgs.builder()
            .location("us-west1")
            .name("target")
            .deployParameters(Map.of("deployParameterKey", "deployParameterValue"))
            .description("basic description")
            .gke(TargetGkeArgs.builder()
                .cluster("projects/my-project-name/locations/us-west1/clusters/example-cluster-name")
                .build())
            .project("my-project-name")
            .requireApproval(false)
            .annotations(Map.ofEntries(
                Map.entry("my_first_annotation", "example-annotation-1"),
                Map.entry("my_second_annotation", "example-annotation-2")
            ))
            .labels(Map.ofEntries(
                Map.entry("my_first_label", "example-label-1"),
                Map.entry("my_second_label", "example-label-2")
            ))
            .build());

    }
}
```
```yaml
resources:
  primary:
    type: gcp:clouddeploy:Target
    properties:
      location: us-west1
      name: target
      deployParameters:
        deployParameterKey: deployParameterValue
      description: basic description
      gke:
        cluster: projects/my-project-name/locations/us-west1/clusters/example-cluster-name
      project: my-project-name
      requireApproval: false
      annotations:
        my_first_annotation: example-annotation-1
        my_second_annotation: example-annotation-2
      labels:
        my_first_label: example-label-1
        my_second_label: example-label-2
```
<!--End PulumiCodeChooser -->

## Import

Target can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/targets/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, Target can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:clouddeploy/target:Target default projects/{{project}}/locations/{{location}}/targets/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/target:Target default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:clouddeploy/target:Target default {{location}}/{{name}}
```

Â
annotationsB2" ªOptional. User annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.

**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
ž
anthosClusteraB_:]
[
clouddeployTargetAnthosCluster7gcp:clouddeploy/TargetAnthosCluster:TargetAnthosCluster*Information specifying an Anthos Cluster.
¦
associatedEntitieslBj*h:f
d
clouddeployTargetAssociatedEntity=gcp:clouddeploy/TargetAssociatedEntity:TargetAssociatedEntity¡Optional. Map of entity IDs to their associated entities. Associated entities allows specifying places other than the deployment target for specific features. For example, the Gateway API canary can be configured to deploy the HTTPRoute to a different cluster(s) than the deployment cluster using associated entities. An entity ID must consist of lower-case letters, numbers, and hyphens, start with a letter and end with a letter or a number, and have a max length of 63 characters. In other words, it must match the following regex: `^a-z?$`.
¢
customTarget^B\:Z
X
clouddeployTargetCustomTarget5gcp:clouddeploy/TargetCustomTarget:TargetCustomTarget2Optional. Information specifying a Custom Target.
T
deployParametersB2" 8Optional. The deploy parameters to use for this target.
Z
descriptionB" EOptional. Description of the `Target`. Max length is 255 characters.
¤
executionConfigsiBg*e:c
a
clouddeployTargetExecutionConfig;gcp:clouddeploy/TargetExecutionConfig:TargetExecutionConfig¤Configurations for all execution that relates to this `Target`. Each `ExecutionEnvironmentUsage` value may only be used in a single configuration; using the same value multiple times is an error. When one or more configurations are specified, they must include the `RENDER` and `DEPLOY` `ExecutionEnvironmentUsage` values. When no configurations are specified, execution will use the default specified in `DefaultPool`.
r
gkeCBA:?
=
clouddeploy	TargetGke#gcp:clouddeploy/TargetGke:TargetGke&Information specifying a GKE Cluster.
å
labelsB2" ÒOptional. Labels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
.
location" The location for the resource
’
multiTarget[BY:W
U
clouddeployTargetMultiTarget3gcp:clouddeploy/TargetMultiTarget:TargetMultiTarget&Information specifying a multiTarget.
?
nameB" 1Name of the `Target`. Format is `a-z?`.



- - -
.
projectB" The project for the resource
R
requireApprovalB
 9Optional. Whether or not the `Target` requires approval.
‚
runCBA:?
=
clouddeploy	TargetRun#gcp:clouddeploy/TargetRun:TargetRun6Information specifying a Cloud Run deployment target.
"Â
annotationsB2" ªOptional. User annotations. These attributes can only be set and used by the user, and not by Google Cloud Deploy. See https://google.aip.dev/128#annotations for more details such as format and size limitations.

**Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
Please refer to the field `effective_annotations` for all of the annotations present on the resource.
"ž
anthosClusteraB_:]
[
clouddeployTargetAnthosCluster7gcp:clouddeploy/TargetAnthosCluster:TargetAnthosCluster*Information specifying an Anthos Cluster.
"¦
associatedEntitieslBj*h:f
d
clouddeployTargetAssociatedEntity=gcp:clouddeploy/TargetAssociatedEntity:TargetAssociatedEntity¡Optional. Map of entity IDs to their associated entities. Associated entities allows specifying places other than the deployment target for specific features. For example, the Gateway API canary can be configured to deploy the HTTPRoute to a different cluster(s) than the deployment cluster using associated entities. An entity ID must consist of lower-case letters, numbers, and hyphens, start with a letter and end with a letter or a number, and have a max length of 63 characters. In other words, it must match the following regex: `^a-z?$`.
"G

createTime" 5Output only. Time at which the `Target` was created.
"¢
customTarget^B\:Z
X
clouddeployTargetCustomTarget5gcp:clouddeploy/TargetCustomTarget:TargetCustomTarget2Optional. Information specifying a Custom Target.
"T
deployParametersB2" 8Optional. The deploy parameters to use for this target.
"Z
descriptionB" EOptional. Description of the `Target`. Max length is 255 characters.
"
effectiveAnnotations2" "¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"Ñ
etag" ÄOptional. This checksum is computed by the server based on the value of other fields, and may be sent on update and delete requests to ensure the client has an up-to-date value before proceeding.
"¢
executionConfigsg*e:c
a
clouddeployTargetExecutionConfig;gcp:clouddeploy/TargetExecutionConfig:TargetExecutionConfig¤Configurations for all execution that relates to this `Target`. Each `ExecutionEnvironmentUsage` value may only be used in a single configuration; using the same value multiple times is an error. When one or more configurations are specified, they must include the `RENDER` and `DEPLOY` `ExecutionEnvironmentUsage` values. When no configurations are specified, execution will use the default specified in `DefaultPool`.
"r
gkeCBA:?
=
clouddeploy	TargetGke#gcp:clouddeploy/TargetGke:TargetGke&Information specifying a GKE Cluster.
"å
labelsB2" ÒOptional. Labels are attributes that can be set and used by both the user and by Google Cloud Deploy. Labels must meet the following constraints: * Keys and values can contain only lowercase letters, numeric characters, underscores, and dashes. * All characters must use UTF-8 encoding, and international characters are allowed. * Keys must start with a lowercase letter or international character. * Each resource is limited to a maximum of 64 labels. Both keys and values are additionally constrained to be <= 128 bytes.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
".
location" The location for the resource
"’
multiTarget[BY:W
U
clouddeployTargetMultiTarget3gcp:clouddeploy/TargetMultiTarget:TargetMultiTarget&Information specifying a multiTarget.
"=
name" 1Name of the `Target`. Format is `a-z?`.



- - -
",
project" The project for the resource
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource and default labels configured on the provider.
"R
requireApprovalB
 9Optional. Whether or not the `Target` requires approval.
"‚
runCBA:?
=
clouddeploy	TargetRun#gcp:clouddeploy/TargetRun:TargetRun6Information specifying a Cloud Run deployment target.
":
targetId" *Output only. Resource id of the `Target`.
";
uid" 0Output only. Unique identifier of the `Target`.
"S

updateTime" AOutput only. Most recent time at which the `Target` was updated.
*ü
R
clouddeployTargetIamBinding1gcp:clouddeploy/targetIamBinding:TargetIamBinding€
	conditionsBq:o
m
clouddeployTargetIamBindingConditionCgcp:clouddeploy/TargetIamBindingCondition:TargetIamBindingCondition
locationB" 
members*" 
nameB" 
projectB" 

role" "€
	conditionsBq:o
m
clouddeployTargetIamBindingConditionCgcp:clouddeploy/TargetIamBindingCondition:TargetIamBindingCondition"

etag" "
location" "
members*" "

name" "
project" "

role" *ë
O
clouddeployTargetIamMember/gcp:clouddeploy/targetIamMember:TargetIamMember}
	conditionpBn:l
j
clouddeployTargetIamMemberConditionAgcp:clouddeploy/TargetIamMemberCondition:TargetIamMemberCondition
locationB" 
member" 
nameB" 
projectB" 

role" "}
	conditionpBn:l
j
clouddeployTargetIamMemberConditionAgcp:clouddeploy/TargetIamMemberCondition:TargetIamMemberCondition"

etag" "
location" "
member" "

name" "
project" "

role" *Ý
O
clouddeployTargetIamPolicy/gcp:clouddeploy/targetIamPolicy:TargetIamPolicy
locationB" 
nameB" 

policyData" 
projectB" "

etag" "
location" "

name" "

policyData" "
project" *Ú¯
H
clouddomainsRegistration*gcp:clouddomains/registration:RegistrationšŒ## Example Usage

### Clouddomains Registration Full


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const myRegistration = new gcp.clouddomains.Registration("my_registration", {
    domainName: "example-domain.com",
    location: "global",
    labels: {
        labelkey: "labelvalue",
    },
    yearlyPrice: {
        currencyCode: "USD",
        units: "12",
    },
    dnsSettings: {
        customDns: {
            nameServers: [
                "ns-cloud-a1.googledomains.com.",
                "ns-cloud-a2.googledomains.com.",
                "ns-cloud-a3.googledomains.com.",
                "ns-cloud-a4.googledomains.com.",
            ],
        },
    },
    contactSettings: {
        privacy: "REDACTED_CONTACT_DATA",
        registrantContact: {
            phoneNumber: "+12345000000",
            email: "user@example.com",
            postalAddress: {
                regionCode: "US",
                postalCode: "95050",
                administrativeArea: "CA",
                locality: "Example City",
                addressLines: ["1234 Example street"],
                recipients: ["example recipient"],
            },
        },
        adminContact: {
            phoneNumber: "+12345000000",
            email: "user@example.com",
            postalAddress: {
                regionCode: "US",
                postalCode: "95050",
                administrativeArea: "CA",
                locality: "Example City",
                addressLines: ["1234 Example street"],
                recipients: ["example recipient"],
            },
        },
        technicalContact: {
            phoneNumber: "+12345000000",
            email: "user@example.com",
            postalAddress: {
                regionCode: "US",
                postalCode: "95050",
                administrativeArea: "CA",
                locality: "Example City",
                addressLines: ["1234 Example street"],
                recipients: ["example recipient"],
            },
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_registration = gcp.clouddomains.Registration("my_registration",
    domain_name="example-domain.com",
    location="global",
    labels={
        "labelkey": "labelvalue",
    },
    yearly_price={
        "currency_code": "USD",
        "units": "12",
    },
    dns_settings={
        "custom_dns": {
            "name_servers": [
                "ns-cloud-a1.googledomains.com.",
                "ns-cloud-a2.googledomains.com.",
                "ns-cloud-a3.googledomains.com.",
                "ns-cloud-a4.googledomains.com.",
            ],
        },
    },
    contact_settings={
        "privacy": "REDACTED_CONTACT_DATA",
        "registrant_contact": {
            "phone_number": "+12345000000",
            "email": "user@example.com",
            "postal_address": {
                "region_code": "US",
                "postal_code": "95050",
                "administrative_area": "CA",
                "locality": "Example City",
                "address_lines": ["1234 Example street"],
                "recipients": ["example recipient"],
            },
        },
        "admin_contact": {
            "phone_number": "+12345000000",
            "email": "user@example.com",
            "postal_address": {
                "region_code": "US",
                "postal_code": "95050",
                "administrative_area": "CA",
                "locality": "Example City",
                "address_lines": ["1234 Example street"],
                "recipients": ["example recipient"],
            },
        },
        "technical_contact": {
            "phone_number": "+12345000000",
            "email": "user@example.com",
            "postal_address": {
                "region_code": "US",
                "postal_code": "95050",
                "administrative_area": "CA",
                "locality": "Example City",
                "address_lines": ["1234 Example street"],
                "recipients": ["example recipient"],
            },
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var myRegistration = new Gcp.CloudDomains.Registration("my_registration", new()
    {
        DomainName = "example-domain.com",
        Location = "global",
        Labels = 
        {
            { "labelkey", "labelvalue" },
        },
        YearlyPrice = new Gcp.CloudDomains.Inputs.RegistrationYearlyPriceArgs
        {
            CurrencyCode = "USD",
            Units = "12",
        },
        DnsSettings = new Gcp.CloudDomains.Inputs.RegistrationDnsSettingsArgs
        {
            CustomDns = new Gcp.CloudDomains.Inputs.RegistrationDnsSettingsCustomDnsArgs
            {
                NameServers = new[]
                {
                    "ns-cloud-a1.googledomains.com.",
                    "ns-cloud-a2.googledomains.com.",
                    "ns-cloud-a3.googledomains.com.",
                    "ns-cloud-a4.googledomains.com.",
                },
            },
        },
        ContactSettings = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsArgs
        {
            Privacy = "REDACTED_CONTACT_DATA",
            RegistrantContact = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsRegistrantContactArgs
            {
                PhoneNumber = "+12345000000",
                Email = "user@example.com",
                PostalAddress = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsRegistrantContactPostalAddressArgs
                {
                    RegionCode = "US",
                    PostalCode = "95050",
                    AdministrativeArea = "CA",
                    Locality = "Example City",
                    AddressLines = new[]
                    {
                        "1234 Example street",
                    },
                    Recipients = new[]
                    {
                        "example recipient",
                    },
                },
            },
            AdminContact = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsAdminContactArgs
            {
                PhoneNumber = "+12345000000",
                Email = "user@example.com",
                PostalAddress = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsAdminContactPostalAddressArgs
                {
                    RegionCode = "US",
                    PostalCode = "95050",
                    AdministrativeArea = "CA",
                    Locality = "Example City",
                    AddressLines = new[]
                    {
                        "1234 Example street",
                    },
                    Recipients = new[]
                    {
                        "example recipient",
                    },
                },
            },
            TechnicalContact = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsTechnicalContactArgs
            {
                PhoneNumber = "+12345000000",
                Email = "user@example.com",
                PostalAddress = new Gcp.CloudDomains.Inputs.RegistrationContactSettingsTechnicalContactPostalAddressArgs
                {
                    RegionCode = "US",
                    PostalCode = "95050",
                    AdministrativeArea = "CA",
                    Locality = "Example City",
                    AddressLines = new[]
                    {
                        "1234 Example street",
                    },
                    Recipients = new[]
                    {
                        "example recipient",
                    },
                },
            },
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddomains"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddomains.NewRegistration(ctx, "my_registration", &clouddomains.RegistrationArgs{
			DomainName: pulumi.String("example-domain.com"),
			Location:   pulumi.String("global"),
			Labels: pulumi.StringMap{
				"labelkey": pulumi.String("labelvalue"),
			},
			YearlyPrice: &clouddomains.RegistrationYearlyPriceArgs{
				CurrencyCode: pulumi.String("USD"),
				Units:        pulumi.String("12"),
			},
			DnsSettings: &clouddomains.RegistrationDnsSettingsArgs{
				CustomDns: &clouddomains.RegistrationDnsSettingsCustomDnsArgs{
					NameServers: pulumi.StringArray{
						pulumi.String("ns-cloud-a1.googledomains.com."),
						pulumi.String("ns-cloud-a2.googledomains.com."),
						pulumi.String("ns-cloud-a3.googledomains.com."),
						pulumi.String("ns-cloud-a4.googledomains.com."),
					},
				},
			},
			ContactSettings: &clouddomains.RegistrationContactSettingsArgs{
				Privacy: pulumi.String("REDACTED_CONTACT_DATA"),
				RegistrantContact: &clouddomains.RegistrationContactSettingsRegistrantContactArgs{
					PhoneNumber: pulumi.String("+12345000000"),
					Email:       pulumi.String("user@example.com"),
					PostalAddress: &clouddomains.RegistrationContactSettingsRegistrantContactPostalAddressArgs{
						RegionCode:         pulumi.String("US"),
						PostalCode:         pulumi.String("95050"),
						AdministrativeArea: pulumi.String("CA"),
						Locality:           pulumi.String("Example City"),
						AddressLines: pulumi.StringArray{
							pulumi.String("1234 Example street"),
						},
						Recipients: pulumi.StringArray{
							pulumi.String("example recipient"),
						},
					},
				},
				AdminContact: &clouddomains.RegistrationContactSettingsAdminContactArgs{
					PhoneNumber: pulumi.String("+12345000000"),
					Email:       pulumi.String("user@example.com"),
					PostalAddress: &clouddomains.RegistrationContactSettingsAdminContactPostalAddressArgs{
						RegionCode:         pulumi.String("US"),
						PostalCode:         pulumi.String("95050"),
						AdministrativeArea: pulumi.String("CA"),
						Locality:           pulumi.String("Example City"),
						AddressLines: pulumi.StringArray{
							pulumi.String("1234 Example street"),
						},
						Recipients: pulumi.StringArray{
							pulumi.String("example recipient"),
						},
					},
				},
				TechnicalContact: &clouddomains.RegistrationContactSettingsTechnicalContactArgs{
					PhoneNumber: pulumi.String("+12345000000"),
					Email:       pulumi.String("user@example.com"),
					PostalAddress: &clouddomains.RegistrationContactSettingsTechnicalContactPostalAddressArgs{
						RegionCode:         pulumi.String("US"),
						PostalCode:         pulumi.String("95050"),
						AdministrativeArea: pulumi.String("CA"),
						Locality:           pulumi.String("Example City"),
						AddressLines: pulumi.StringArray{
							pulumi.String("1234 Example street"),
						},
						Recipients: pulumi.StringArray{
							pulumi.String("example recipient"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddomains.Registration;
import com.pulumi.gcp.clouddomains.RegistrationArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationYearlyPriceArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationDnsSettingsArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationDnsSettingsCustomDnsArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsRegistrantContactArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsRegistrantContactPostalAddressArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsAdminContactArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsAdminContactPostalAddressArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsTechnicalContactArgs;
import com.pulumi.gcp.clouddomains.inputs.RegistrationContactSettingsTechnicalContactPostalAddressArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var myRegistration = new Registration("myRegistration", RegistrationArgs.builder()
            .domainName("example-domain.com")
            .location("global")
            .labels(Map.of("labelkey", "labelvalue"))
            .yearlyPrice(RegistrationYearlyPriceArgs.builder()
                .currencyCode("USD")
                .units(12)
                .build())
            .dnsSettings(RegistrationDnsSettingsArgs.builder()
                .customDns(RegistrationDnsSettingsCustomDnsArgs.builder()
                    .nameServers(                    
                        "ns-cloud-a1.googledomains.com.",
                        "ns-cloud-a2.googledomains.com.",
                        "ns-cloud-a3.googledomains.com.",
                        "ns-cloud-a4.googledomains.com.")
                    .build())
                .build())
            .contactSettings(RegistrationContactSettingsArgs.builder()
                .privacy("REDACTED_CONTACT_DATA")
                .registrantContact(RegistrationContactSettingsRegistrantContactArgs.builder()
                    .phoneNumber("+12345000000")
                    .email("user@example.com")
                    .postalAddress(RegistrationContactSettingsRegistrantContactPostalAddressArgs.builder()
                        .regionCode("US")
                        .postalCode("95050")
                        .administrativeArea("CA")
                        .locality("Example City")
                        .addressLines("1234 Example street")
                        .recipients("example recipient")
                        .build())
                    .build())
                .adminContact(RegistrationContactSettingsAdminContactArgs.builder()
                    .phoneNumber("+12345000000")
                    .email("user@example.com")
                    .postalAddress(RegistrationContactSettingsAdminContactPostalAddressArgs.builder()
                        .regionCode("US")
                        .postalCode("95050")
                        .administrativeArea("CA")
                        .locality("Example City")
                        .addressLines("1234 Example street")
                        .recipients("example recipient")
                        .build())
                    .build())
                .technicalContact(RegistrationContactSettingsTechnicalContactArgs.builder()
                    .phoneNumber("+12345000000")
                    .email("user@example.com")
                    .postalAddress(RegistrationContactSettingsTechnicalContactPostalAddressArgs.builder()
                        .regionCode("US")
                        .postalCode("95050")
                        .administrativeArea("CA")
                        .locality("Example City")
                        .addressLines("1234 Example street")
                        .recipients("example recipient")
                        .build())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  myRegistration:
    type: gcp:clouddomains:Registration
    name: my_registration
    properties:
      domainName: example-domain.com
      location: global
      labels:
        labelkey: labelvalue
      yearlyPrice:
        currencyCode: USD
        units: 12
      dnsSettings:
        customDns:
          nameServers:
            - ns-cloud-a1.googledomains.com.
            - ns-cloud-a2.googledomains.com.
            - ns-cloud-a3.googledomains.com.
            - ns-cloud-a4.googledomains.com.
      contactSettings:
        privacy: REDACTED_CONTACT_DATA
        registrantContact:
          phoneNumber: '+12345000000'
          email: user@example.com
          postalAddress:
            regionCode: US
            postalCode: '95050'
            administrativeArea: CA
            locality: Example City
            addressLines:
              - 1234 Example street
            recipients:
              - example recipient
        adminContact:
          phoneNumber: '+12345000000'
          email: user@example.com
          postalAddress:
            regionCode: US
            postalCode: '95050'
            administrativeArea: CA
            locality: Example City
            addressLines:
              - 1234 Example street
            recipients:
              - example recipient
        technicalContact:
          phoneNumber: '+12345000000'
          email: user@example.com
          postalAddress:
            regionCode: US
            postalCode: '95050'
            administrativeArea: CA
            locality: Example City
            addressLines:
              - 1234 Example street
            recipients:
              - example recipient
```
<!--End PulumiCodeChooser -->

## Import

Registration can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/registrations/{{domain_name}}`

* `{{project}}/{{location}}/{{domain_name}}`

* `{{location}}/{{domain_name}}`

When using the `pulumi import` command, Registration can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:clouddomains/registration:Registration default projects/{{project}}/locations/{{location}}/registrations/{{domain_name}}
```

```sh
$ pulumi import gcp:clouddomains/registration:Registration default {{project}}/{{location}}/{{domain_name}}
```

```sh
$ pulumi import gcp:clouddomains/registration:Registration default {{location}}/{{domain_name}}
```

Š
contactNoticesB*" pThe list of contact notices that the caller acknowledges. Possible value is PUBLIC_CONTACT_DATA_ACKNOWLEDGEMENT
ô
contactSettingsy:w
u
clouddomainsRegistrationContactSettingsHgcp:clouddomains/RegistrationContactSettings:RegistrationContactSettingsfRequired. Settings for contact information linked to the Registration.
Structure is documented below.
À
dnsSettingsoBm:k
i
clouddomainsRegistrationDnsSettings@gcp:clouddomains/RegistrationDnsSettings:RegistrationDnsSettings@Settings controlling the DNS configuration of the Registration.
h

domainName" VRequired. The domain name. Unicode domain names must be expressed in Punycode format.
k
domainNoticesB*" RThe list of domain notices that you acknowledge. Possible value is HSTS_PRELOADED
‰
labelsB2" öSet of labels associated with the Registration. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
.
location" The location for the resource
õ
managementSettings†Bƒ:€
~
clouddomainsRegistrationManagementSettingsNgcp:clouddomains/RegistrationManagementSettings:RegistrationManagementSettingsVSettings for management of the Registration, including renewal, billing, and transfer

projectB" Ü
yearlyPricem:k
i
clouddomainsRegistrationYearlyPrice@gcp:clouddomains/RegistrationYearlyPrice:RegistrationYearlyPriceÝRequired. Yearly price to register or renew the domain. The value that should be put here can be obtained from
registrations.retrieveRegisterParameters or registrations.searchDomains calls.
Structure is documented below.
"Š
contactNoticesB*" pThe list of contact notices that the caller acknowledges. Possible value is PUBLIC_CONTACT_DATA_ACKNOWLEDGEMENT
"ô
contactSettingsy:w
u
clouddomainsRegistrationContactSettingsHgcp:clouddomains/RegistrationContactSettings:RegistrationContactSettingsfRequired. Settings for contact information linked to the Registration.
Structure is documented below.
"I

createTime" 7Output only. Time at which the automation was created.
"À
dnsSettingsoBm:k
i
clouddomainsRegistrationDnsSettings@gcp:clouddomains/RegistrationDnsSettings:RegistrationDnsSettings@Settings controlling the DNS configuration of the Registration.
"h

domainName" VRequired. The domain name. Unicode domain names must be expressed in Punycode format.
"k
domainNoticesB*" RThe list of domain notices that you acknowledge. Possible value is HSTS_PRELOADED
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"I

expireTime" 7Output only. Time at which the automation was updated.
"]
issues*" MOutput only. The set of issues with the Registration that require attention.
"‰
labelsB2" öSet of labels associated with the Registration. **Note**: This field is non-authoritative, and will only manage the
labels present in your configuration. Please refer to the field 'effective_labels' for all of the labels present on the
resource.
".
location" The location for the resource
"ò
managementSettingsƒ:€
~
clouddomainsRegistrationManagementSettingsNgcp:clouddomains/RegistrationManagementSettings:RegistrationManagementSettingsVSettings for management of the Registration, including renewal, billing, and transfer
"~
name" rOutput only. Name of the Registration resource, in the format projects/*/locations/*/registrations/<domain_name>.
"
project" "ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"ˆ
registerFailureReason" kOutput only. The reason the domain registration failed. Only set for domains in REGISTRATION_FAILED state.
"A
state" 4Output only. The current state of the Registration.
"
supportedPrivacies*" cOutput only. Set of options for the contactSettings.privacy field that this Registration supports.
"Ü
yearlyPricem:k
i
clouddomainsRegistrationYearlyPrice@gcp:clouddomains/RegistrationYearlyPrice:RegistrationYearlyPriceÝRequired. Yearly price to register or renew the domain. The value that should be put here can be obtained from
registrations.retrieveRegisterParameters or registrations.searchDomains calls.
Structure is documented below.
*à÷
@
cloudfunctionsFunction$gcp:cloudfunctions/function:Function¢Creates a new Cloud Function. For more information see:

* [API documentation](https://cloud.google.com/functions/docs/reference/rest/v1/projects.locations.functions)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/functions/docs)


> **Warning:** As of November 1, 2019, newly created Functions are
private-by-default and will require [appropriate IAM permissions](https://cloud.google.com/functions/docs/reference/iam/roles)
to be invoked. See below examples for how to set up the appropriate permissions,
or view the [Cloud Functions IAM resources](https://www.terraform.io/docs/providers/google/r/cloudfunctions_cloud_function_iam.html)
for Cloud Functions.

## Example Usage

### Public Function

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bucket = new gcp.storage.Bucket("bucket", {
    name: "test-bucket",
    location: "US",
});
const archive = new gcp.storage.BucketObject("archive", {
    name: "index.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("./path/to/zip/file/which/contains/code"),
});
const _function = new gcp.cloudfunctions.Function("function", {
    name: "function-test",
    description: "My function",
    runtime: "nodejs16",
    availableMemoryMb: 128,
    sourceArchiveBucket: bucket.name,
    sourceArchiveObject: archive.name,
    triggerHttp: true,
    entryPoint: "helloGET",
});
// IAM entry for all users to invoke the function
const invoker = new gcp.cloudfunctions.FunctionIamMember("invoker", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/cloudfunctions.invoker",
    member: "allUsers",
});
```
```python
import pulumi
import pulumi_gcp as gcp

bucket = gcp.storage.Bucket("bucket",
    name="test-bucket",
    location="US")
archive = gcp.storage.BucketObject("archive",
    name="index.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("./path/to/zip/file/which/contains/code"))
function = gcp.cloudfunctions.Function("function",
    name="function-test",
    description="My function",
    runtime="nodejs16",
    available_memory_mb=128,
    source_archive_bucket=bucket.name,
    source_archive_object=archive.name,
    trigger_http=True,
    entry_point="helloGET")
# IAM entry for all users to invoke the function
invoker = gcp.cloudfunctions.FunctionIamMember("invoker",
    project=function.project,
    region=function.region,
    cloud_function=function.name,
    role="roles/cloudfunctions.invoker",
    member="allUsers")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = "test-bucket",
        Location = "US",
    });

    var archive = new Gcp.Storage.BucketObject("archive", new()
    {
        Name = "index.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("./path/to/zip/file/which/contains/code"),
    });

    var function = new Gcp.CloudFunctions.Function("function", new()
    {
        Name = "function-test",
        Description = "My function",
        Runtime = "nodejs16",
        AvailableMemoryMb = 128,
        SourceArchiveBucket = bucket.Name,
        SourceArchiveObject = archive.Name,
        TriggerHttp = true,
        EntryPoint = "helloGET",
    });

    // IAM entry for all users to invoke the function
    var invoker = new Gcp.CloudFunctions.FunctionIamMember("invoker", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/cloudfunctions.invoker",
        Member = "allUsers",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:     pulumi.String("test-bucket"),
			Location: pulumi.String("US"),
		})
		if err != nil {
			return err
		}
		archive, err := storage.NewBucketObject(ctx, "archive", &storage.BucketObjectArgs{
			Name:   pulumi.String("index.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("./path/to/zip/file/which/contains/code"),
		})
		if err != nil {
			return err
		}
		function, err := cloudfunctions.NewFunction(ctx, "function", &cloudfunctions.FunctionArgs{
			Name:                pulumi.String("function-test"),
			Description:         pulumi.String("My function"),
			Runtime:             pulumi.String("nodejs16"),
			AvailableMemoryMb:   pulumi.Int(128),
			SourceArchiveBucket: bucket.Name,
			SourceArchiveObject: archive.Name,
			TriggerHttp:         pulumi.Bool(true),
			EntryPoint:          pulumi.String("helloGET"),
		})
		if err != nil {
			return err
		}
		// IAM entry for all users to invoke the function
		_, err = cloudfunctions.NewFunctionIamMember(ctx, "invoker", &cloudfunctions.FunctionIamMemberArgs{
			Project:       function.Project,
			Region:        function.Region,
			CloudFunction: function.Name,
			Role:          pulumi.String("roles/cloudfunctions.invoker"),
			Member:        pulumi.String("allUsers"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctions.Function;
import com.pulumi.gcp.cloudfunctions.FunctionArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name("test-bucket")
            .location("US")
            .build());

        var archive = new BucketObject("archive", BucketObjectArgs.builder()
            .name("index.zip")
            .bucket(bucket.name())
            .source(new FileAsset("./path/to/zip/file/which/contains/code"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-test")
            .description("My function")
            .runtime("nodejs16")
            .availableMemoryMb(128)
            .sourceArchiveBucket(bucket.name())
            .sourceArchiveObject(archive.name())
            .triggerHttp(true)
            .entryPoint("helloGET")
            .build());

        // IAM entry for all users to invoke the function
        var invoker = new FunctionIamMember("invoker", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/cloudfunctions.invoker")
            .member("allUsers")
            .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: test-bucket
      location: US
  archive:
    type: gcp:storage:BucketObject
    properties:
      name: index.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: ./path/to/zip/file/which/contains/code
  function:
    type: gcp:cloudfunctions:Function
    properties:
      name: function-test
      description: My function
      runtime: nodejs16
      availableMemoryMb: 128
      sourceArchiveBucket: ${bucket.name}
      sourceArchiveObject: ${archive.name}
      triggerHttp: true
      entryPoint: helloGET
  # IAM entry for all users to invoke the function
  invoker:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/cloudfunctions.invoker
      member: allUsers
```
<!--End PulumiCodeChooser -->

### Single User

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const bucket = new gcp.storage.Bucket("bucket", {
    name: "test-bucket",
    location: "US",
});
const archive = new gcp.storage.BucketObject("archive", {
    name: "index.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("./path/to/zip/file/which/contains/code"),
});
const _function = new gcp.cloudfunctions.Function("function", {
    name: "function-test",
    description: "My function",
    runtime: "nodejs16",
    availableMemoryMb: 128,
    sourceArchiveBucket: bucket.name,
    sourceArchiveObject: archive.name,
    triggerHttp: true,
    httpsTriggerSecurityLevel: "SECURE_ALWAYS",
    timeout: 60,
    entryPoint: "helloGET",
    labels: {
        "my-label": "my-label-value",
    },
    environmentVariables: {
        MY_ENV_VAR: "my-env-var-value",
    },
});
// IAM entry for a single user to invoke the function
const invoker = new gcp.cloudfunctions.FunctionIamMember("invoker", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/cloudfunctions.invoker",
    member: "user:myFunctionInvoker@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

bucket = gcp.storage.Bucket("bucket",
    name="test-bucket",
    location="US")
archive = gcp.storage.BucketObject("archive",
    name="index.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("./path/to/zip/file/which/contains/code"))
function = gcp.cloudfunctions.Function("function",
    name="function-test",
    description="My function",
    runtime="nodejs16",
    available_memory_mb=128,
    source_archive_bucket=bucket.name,
    source_archive_object=archive.name,
    trigger_http=True,
    https_trigger_security_level="SECURE_ALWAYS",
    timeout=60,
    entry_point="helloGET",
    labels={
        "my-label": "my-label-value",
    },
    environment_variables={
        "MY_ENV_VAR": "my-env-var-value",
    })
# IAM entry for a single user to invoke the function
invoker = gcp.cloudfunctions.FunctionIamMember("invoker",
    project=function.project,
    region=function.region,
    cloud_function=function.name,
    role="roles/cloudfunctions.invoker",
    member="user:myFunctionInvoker@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = "test-bucket",
        Location = "US",
    });

    var archive = new Gcp.Storage.BucketObject("archive", new()
    {
        Name = "index.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("./path/to/zip/file/which/contains/code"),
    });

    var function = new Gcp.CloudFunctions.Function("function", new()
    {
        Name = "function-test",
        Description = "My function",
        Runtime = "nodejs16",
        AvailableMemoryMb = 128,
        SourceArchiveBucket = bucket.Name,
        SourceArchiveObject = archive.Name,
        TriggerHttp = true,
        HttpsTriggerSecurityLevel = "SECURE_ALWAYS",
        Timeout = 60,
        EntryPoint = "helloGET",
        Labels = 
        {
            { "my-label", "my-label-value" },
        },
        EnvironmentVariables = 
        {
            { "MY_ENV_VAR", "my-env-var-value" },
        },
    });

    // IAM entry for a single user to invoke the function
    var invoker = new Gcp.CloudFunctions.FunctionIamMember("invoker", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/cloudfunctions.invoker",
        Member = "user:myFunctionInvoker@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:     pulumi.String("test-bucket"),
			Location: pulumi.String("US"),
		})
		if err != nil {
			return err
		}
		archive, err := storage.NewBucketObject(ctx, "archive", &storage.BucketObjectArgs{
			Name:   pulumi.String("index.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("./path/to/zip/file/which/contains/code"),
		})
		if err != nil {
			return err
		}
		function, err := cloudfunctions.NewFunction(ctx, "function", &cloudfunctions.FunctionArgs{
			Name:                      pulumi.String("function-test"),
			Description:               pulumi.String("My function"),
			Runtime:                   pulumi.String("nodejs16"),
			AvailableMemoryMb:         pulumi.Int(128),
			SourceArchiveBucket:       bucket.Name,
			SourceArchiveObject:       archive.Name,
			TriggerHttp:               pulumi.Bool(true),
			HttpsTriggerSecurityLevel: pulumi.String("SECURE_ALWAYS"),
			Timeout:                   pulumi.Int(60),
			EntryPoint:                pulumi.String("helloGET"),
			Labels: pulumi.StringMap{
				"my-label": pulumi.String("my-label-value"),
			},
			EnvironmentVariables: pulumi.StringMap{
				"MY_ENV_VAR": pulumi.String("my-env-var-value"),
			},
		})
		if err != nil {
			return err
		}
		// IAM entry for a single user to invoke the function
		_, err = cloudfunctions.NewFunctionIamMember(ctx, "invoker", &cloudfunctions.FunctionIamMemberArgs{
			Project:       function.Project,
			Region:        function.Region,
			CloudFunction: function.Name,
			Role:          pulumi.String("roles/cloudfunctions.invoker"),
			Member:        pulumi.String("user:myFunctionInvoker@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctions.Function;
import com.pulumi.gcp.cloudfunctions.FunctionArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name("test-bucket")
            .location("US")
            .build());

        var archive = new BucketObject("archive", BucketObjectArgs.builder()
            .name("index.zip")
            .bucket(bucket.name())
            .source(new FileAsset("./path/to/zip/file/which/contains/code"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-test")
            .description("My function")
            .runtime("nodejs16")
            .availableMemoryMb(128)
            .sourceArchiveBucket(bucket.name())
            .sourceArchiveObject(archive.name())
            .triggerHttp(true)
            .httpsTriggerSecurityLevel("SECURE_ALWAYS")
            .timeout(60)
            .entryPoint("helloGET")
            .labels(Map.of("my-label", "my-label-value"))
            .environmentVariables(Map.of("MY_ENV_VAR", "my-env-var-value"))
            .build());

        // IAM entry for a single user to invoke the function
        var invoker = new FunctionIamMember("invoker", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/cloudfunctions.invoker")
            .member("user:myFunctionInvoker@example.com")
            .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: test-bucket
      location: US
  archive:
    type: gcp:storage:BucketObject
    properties:
      name: index.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: ./path/to/zip/file/which/contains/code
  function:
    type: gcp:cloudfunctions:Function
    properties:
      name: function-test
      description: My function
      runtime: nodejs16
      availableMemoryMb: 128
      sourceArchiveBucket: ${bucket.name}
      sourceArchiveObject: ${archive.name}
      triggerHttp: true
      httpsTriggerSecurityLevel: SECURE_ALWAYS
      timeout: 60
      entryPoint: helloGET
      labels:
        my-label: my-label-value
      environmentVariables:
        MY_ENV_VAR: my-env-var-value
  # IAM entry for a single user to invoke the function
  invoker:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/cloudfunctions.invoker
      member: user:myFunctionInvoker@example.com
```
<!--End PulumiCodeChooser -->

## Import

Functions can be imported using the `name` or `{{project}}/{{region}}/name`, e.g.

* `{{project}}/{{region}}/{{name}}`

* `{{name}}`

When using the `pulumi import` command, Functions can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudfunctions/function:Function default {{project}}/{{region}}/{{name}}
```

```sh
$ pulumi import gcp:cloudfunctions/function:Function default {{name}}
```

˜
availableMemoryMbB }Memory (in MB), available to the function. Default value is `256`. Possible values include `128`, `256`, `512`, `1024`, etc.
p
buildEnvironmentVariablesB2" KA set of key/value environment variable pairs available during build time.
Â
buildServiceAccountB" ¤If provided, the self-provided service account to use to build the function. The format of this field is `projects/{project}/serviceAccounts/{serviceAccountEmail}`
o
buildWorkerPoolB" VName of the Cloud Build Custom Worker Pool that should be used to build the function.
2
descriptionB" Description of the function.
¡
dockerRegistryB" ˆDocker Registry to use for storing the function's Docker images. Allowed values are ARTIFACT_REGISTRY (default) and CONTAINER_REGISTRY.
©
dockerRepositoryB" ŽUser-managed repository created in Artifact Registry to which the function's Docker image will be pushed after it is built by Cloud Build. May optionally be encrypted with a customer-managed encryption key (CMEK). If unspecified and `docker_registry` is not explicitly set to `CONTAINER_REGISTRY`, GCF will create and use a default Artifact Registry repository named 'gcf-artifacts' in the region.
l

entryPointB" XName of the function that will be executed when the Google Cloud Function is triggered.
i
environmentVariablesB2" IA set of key/value environment variable pairs to assign to the function.
Š
eventTriggerjBh:f
d
cloudfunctionsFunctionEventTrigger<gcp:cloudfunctions/FunctionEventTrigger:FunctionEventTriggerA source that fires events in response to a condition in another service. Structure is documented below. Cannot be used with `trigger_http`.
‡
httpsTriggerSecurityLevelB" ãThe security level for the function. The following options are available:

* `SECURE_ALWAYS` Requests for a URL that match this handler that do not use HTTPS are automatically redirected to the HTTPS URL with the same path. Query parameters are reserved for the redirect.
* `SECURE_OPTIONAL` Both HTTP and HTTPS requests with URLs that match the handler succeed without redirects. The application can examine the request to determine which protocol was used and respond accordingly.
i
httpsTriggerUrlB" PURL which triggers function execution. Returned only if `trigger_http` is used.
…
ingressSettingsB" ëString value that controls what traffic can reach the function. Allowed values are `ALLOW_ALL`, `ALLOW_INTERNAL_AND_GCLB` and `ALLOW_INTERNAL_ONLY`. Check [ingress documentation](https://cloud.google.com/functions/docs/networking/network-settings#ingress_settings) to see the impact of each settings value. Changes to this field will recreate the cloud function.
¥

kmsKeyNameB" Resource name of a KMS crypto key (managed by the user) used to encrypt/decrypt function resources. It must match the pattern `projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{crypto_key}`.
If specified, you must also provide an artifact registry repository using the `docker_repository` field that was created with the same KMS crypto key. Before deploying, please complete all pre-requisites described in https://cloud.google.com/functions/docs/securing/cmek#granting_service_accounts_access_to_the_key
•
labelsB2" ‚A set of key/value label pairs to assign to the function. Label keys must follow the requirements at https://cloud.google.com/resource-manager/docs/creating-managing-labels#requirements.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field 'effective_labels' for all of the labels present on the resource.
n
maxInstancesB XThe limit on the maximum number of function instances that may coexist at a given time.
n
minInstancesB XThe limit on the minimum number of function instances that may coexist at a given time.
[
nameB" MA user-defined name of the function. Function names must be unique globally.
_
projectB" NProject of the function. If it is not provided, the provider project is used.
X
regionB" HRegion of function. If it is not provided, the provider region is used.
œ
runtime" ŒThe runtime in which the function is going to run.
Eg. `"nodejs16"`, `"python39"`, `"dotnet3"`, `"go116"`, `"java11"`, `"ruby30"`, `"php74"`, etc. Check the [official doc](https://cloud.google.com/functions/docs/concepts/exec#runtimes) for the up-to-date list.

- - -
ƒ
secretEnvironmentVariables—B”*‘:Ž
‹
cloudfunctions!FunctionSecretEnvironmentVariableVgcp:cloudfunctions/FunctionSecretEnvironmentVariable:FunctionSecretEnvironmentVariableKSecret environment variables configuration. Structure is documented below.
¼
secretVolumeslBj*h:f
d
cloudfunctionsFunctionSecretVolume<gcp:cloudfunctions/FunctionSecretVolume:FunctionSecretVolume=Secret volumes configuration. Structure is documented below.
f
serviceAccountEmailB" IIf provided, the self-provided service account to run the function with.
d
sourceArchiveBucketB" GThe GCS bucket containing the zip archive which contains the function.
Q
sourceArchiveObjectB" 4The source archive object (file) in archive bucket.
§
sourceRepositoryvBt:r
p
cloudfunctionsFunctionSourceRepositoryDgcp:cloudfunctions/FunctionSourceRepository:FunctionSourceRepositoryšRepresents parameters related to source repository where a function is hosted.
Cannot be set alongside `source_archive_bucket` or `source_archive_object`. Structure is documented below. It must match the pattern `projects/{project}/locations/{location}/repositories/{repository}`.*
v
timeoutB eTimeout (in seconds) for the function. Default value is 60 seconds. Cannot be more than 540 seconds.
™
triggerHttpB
 ƒBoolean variable. Any HTTP request (of a supported type) to the endpoint will trigger function execution. Supported HTTP request types are: POST, PUT, GET, DELETE, and OPTIONS. Endpoint is returned as `https_trigger_url`. Cannot be used with `event_trigger`.
É
vpcConnectorB" ²The VPC Network Connector that this cloud function can connect to. It should be set up as fully-qualified URI. The format of this field is `projects/*/locations/*/connectors/*`.
•
vpcConnectorEgressSettingsB" ðThe egress settings for the connector, controlling what traffic is diverted through it. Allowed values are `ALL_TRAFFIC` and `PRIVATE_RANGES_ONLY`. Defaults to `PRIVATE_RANGES_ONLY`. If unset, this field preserves the previously set value.
"˜
availableMemoryMbB }Memory (in MB), available to the function. Default value is `256`. Possible values include `128`, `256`, `512`, `1024`, etc.
"p
buildEnvironmentVariablesB2" KA set of key/value environment variable pairs available during build time.
"À
buildServiceAccount" ¤If provided, the self-provided service account to use to build the function. The format of this field is `projects/{project}/serviceAccounts/{serviceAccountEmail}`
"o
buildWorkerPoolB" VName of the Cloud Build Custom Worker Pool that should be used to build the function.
"2
descriptionB" Description of the function.
"Ÿ
dockerRegistry" ˆDocker Registry to use for storing the function's Docker images. Allowed values are ARTIFACT_REGISTRY (default) and CONTAINER_REGISTRY.
"©
dockerRepositoryB" ŽUser-managed repository created in Artifact Registry to which the function's Docker image will be pushed after it is built by Cloud Build. May optionally be encrypted with a customer-managed encryption key (CMEK). If unspecified and `docker_registry` is not explicitly set to `CONTAINER_REGISTRY`, GCF will create and use a default Artifact Registry repository named 'gcf-artifacts' in the region.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"l

entryPointB" XName of the function that will be executed when the Google Cloud Function is triggered.
"i
environmentVariablesB2" IA set of key/value environment variable pairs to assign to the function.
"ˆ
eventTriggerh:f
d
cloudfunctionsFunctionEventTrigger<gcp:cloudfunctions/FunctionEventTrigger:FunctionEventTriggerA source that fires events in response to a condition in another service. Structure is documented below. Cannot be used with `trigger_http`.
"…
httpsTriggerSecurityLevel" ãThe security level for the function. The following options are available:

* `SECURE_ALWAYS` Requests for a URL that match this handler that do not use HTTPS are automatically redirected to the HTTPS URL with the same path. Query parameters are reserved for the redirect.
* `SECURE_OPTIONAL` Both HTTP and HTTPS requests with URLs that match the handler succeed without redirects. The application can examine the request to determine which protocol was used and respond accordingly.
"g
httpsTriggerUrl" PURL which triggers function execution. Returned only if `trigger_http` is used.
"…
ingressSettingsB" ëString value that controls what traffic can reach the function. Allowed values are `ALLOW_ALL`, `ALLOW_INTERNAL_AND_GCLB` and `ALLOW_INTERNAL_ONLY`. Check [ingress documentation](https://cloud.google.com/functions/docs/networking/network-settings#ingress_settings) to see the impact of each settings value. Changes to this field will recreate the cloud function.
"¥

kmsKeyNameB" Resource name of a KMS crypto key (managed by the user) used to encrypt/decrypt function resources. It must match the pattern `projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{crypto_key}`.
If specified, you must also provide an artifact registry repository using the `docker_repository` field that was created with the same KMS crypto key. Before deploying, please complete all pre-requisites described in https://cloud.google.com/functions/docs/securing/cmek#granting_service_accounts_access_to_the_key
"•
labelsB2" ‚A set of key/value label pairs to assign to the function. Label keys must follow the requirements at https://cloud.google.com/resource-manager/docs/creating-managing-labels#requirements.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field 'effective_labels' for all of the labels present on the resource.
"l
maxInstances XThe limit on the maximum number of function instances that may coexist at a given time.
"n
minInstancesB XThe limit on the minimum number of function instances that may coexist at a given time.
"Y
name" MA user-defined name of the function. Function names must be unique globally.
"]
project" NProject of the function. If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource and default labels configured on the provider.
"V
region" HRegion of function. If it is not provided, the provider region is used.
"œ
runtime" ŒThe runtime in which the function is going to run.
Eg. `"nodejs16"`, `"python39"`, `"dotnet3"`, `"go116"`, `"java11"`, `"ruby30"`, `"php74"`, etc. Check the [official doc](https://cloud.google.com/functions/docs/concepts/exec#runtimes) for the up-to-date list.

- - -
"ƒ
secretEnvironmentVariables—B”*‘:Ž
‹
cloudfunctions!FunctionSecretEnvironmentVariableVgcp:cloudfunctions/FunctionSecretEnvironmentVariable:FunctionSecretEnvironmentVariableKSecret environment variables configuration. Structure is documented below.
"¼
secretVolumeslBj*h:f
d
cloudfunctionsFunctionSecretVolume<gcp:cloudfunctions/FunctionSecretVolume:FunctionSecretVolume=Secret volumes configuration. Structure is documented below.
"d
serviceAccountEmail" IIf provided, the self-provided service account to run the function with.
"d
sourceArchiveBucketB" GThe GCS bucket containing the zip archive which contains the function.
"Q
sourceArchiveObjectB" 4The source archive object (file) in archive bucket.
"§
sourceRepositoryvBt:r
p
cloudfunctionsFunctionSourceRepositoryDgcp:cloudfunctions/FunctionSourceRepository:FunctionSourceRepositoryšRepresents parameters related to source repository where a function is hosted.
Cannot be set alongside `source_archive_bucket` or `source_archive_object`. Structure is documented below. It must match the pattern `projects/{project}/locations/{location}/repositories/{repository}`.*
";
status" -Describes the current stage of a deployment.
"v
timeoutB eTimeout (in seconds) for the function. Default value is 60 seconds. Cannot be more than 540 seconds.
"™
triggerHttpB
 ƒBoolean variable. Any HTTP request (of a supported type) to the endpoint will trigger function execution. Supported HTTP request types are: POST, PUT, GET, DELETE, and OPTIONS. Endpoint is returned as `https_trigger_url`. Cannot be used with `event_trigger`.
"
	versionId" |The version identifier of the Cloud Function. Each deployment attempt results in a new version of a function being
created.
"É
vpcConnectorB" ²The VPC Network Connector that this cloud function can connect to. It should be set up as fully-qualified URI. The format of this field is `projects/*/locations/*/connectors/*`.
"“
vpcConnectorEgressSettings" ðThe egress settings for the connector, controlling what traffic is diverted through it. Allowed values are `ALL_TRAFFIC` and `PRIVATE_RANGES_ONLY`. Defaults to `PRIVATE_RANGES_ONLY`. If unset, this field preserves the previously set value.
*¿å
^
cloudfunctionsFunctionIamBinding8gcp:cloudfunctions/functionIamBinding:FunctionIamBindingºÀThree different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions CloudFunction
Three different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}

* {{project}}/{{region}}/{{cloud_function}}

* {{region}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions cloudfunction IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamBinding:FunctionIamBinding editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamBinding:FunctionIamBinding editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamBinding:FunctionIamBinding editor projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
Œ
	conditionB}:{
y
cloudfunctionsFunctionIamBindingConditionJgcp:cloudfunctions/FunctionIamBindingCondition:FunctionIamBindingConditionÖ	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Ä
regionB" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudfunctions.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"Œ
	conditionB}:{
y
cloudfunctionsFunctionIamBindingConditionJgcp:cloudfunctions/FunctionIamBindingCondition:FunctionIamBindingCondition"3
etag" '(Computed) The etag of the IAM policy.
"Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"Â
region" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
"Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudfunctions.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*ªå
[
cloudfunctionsFunctionIamMember6gcp:cloudfunctions/functionIamMember:FunctionIamMember´ÀThree different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions CloudFunction
Three different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}

* {{project}}/{{region}}/{{cloud_function}}

* {{region}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions cloudfunction IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamMember:FunctionIamMember editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamMember:FunctionIamMember editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamMember:FunctionIamMember editor projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
‰
	condition|Bz:x
v
cloudfunctionsFunctionIamMemberConditionHgcp:cloudfunctions/FunctionIamMemberCondition:FunctionIamMemberConditionÓ	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Ä
regionB" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudfunctions.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"‰
	condition|Bz:x
v
cloudfunctionsFunctionIamMemberConditionHgcp:cloudfunctions/FunctionIamMemberCondition:FunctionIamMemberCondition"3
etag" '(Computed) The etag of the IAM policy.
"Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"Â
region" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
"Þ
role" ÑThe role that should be applied. Only one
`gcp.cloudfunctions.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*æÍ
[
cloudfunctionsFunctionIamPolicy6gcp:cloudfunctions/functionIamPolicy:FunctionIamPolicy´ÀThree different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions CloudFunction
Three different resources help you manage your IAM policy for Cloud Functions CloudFunction. Each of these resources serves a different use case:

* `gcp.cloudfunctions.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the cloudfunction and replaces any existing policy already attached.
* `gcp.cloudfunctions.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the cloudfunction are preserved.
* `gcp.cloudfunctions.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the cloudfunction are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctions.FunctionIamPolicy`: Retrieves the IAM policy for the cloudfunction

> **Note:** `gcp.cloudfunctions.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctions.FunctionIamBinding` and `gcp.cloudfunctions.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctions.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctions.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctions.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctions.FunctionIamPolicy("policy", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctions.FunctionIamPolicy("policy",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctions.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctions.NewFunctionIamPolicy(ctx, "policy", &cloudfunctions.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctions.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctions:FunctionIamPolicy
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctions.FunctionIamBinding("binding", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctions.FunctionIamBinding("binding",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctions.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamBinding(ctx, "binding", &cloudfunctions.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctions.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctions:FunctionIamBinding
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctions.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctions.FunctionIamMember("member", {
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctions.FunctionIamMember("member",
    project=function["project"],
    region=function["region"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctions.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.NewFunctionIamMember(ctx, "member", &cloudfunctions.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Region:        pulumi.Any(function.Region),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.FunctionIamMember;
import com.pulumi.gcp.cloudfunctions.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctions:FunctionIamMember
    properties:
      project: ${function.project}
      region: ${function.region}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}

* {{project}}/{{region}}/{{cloud_function}}

* {{region}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions cloudfunction IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamPolicy:FunctionIamPolicy editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamPolicy:FunctionIamPolicy editor "projects/{{project}}/locations/{{region}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctions/functionIamPolicy:FunctionIamPolicy editor projects/{{project}}/locations/{{region}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Ä
regionB" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"3
etag" '(Computed) The etag of the IAM policy.
"_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"Â
region" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
*æä
D
cloudfunctionsv2Function&gcp:cloudfunctionsv2/function:FunctionÆA Cloud Function that contains user computation executed in response to an event.


To get more information about function, see:

* [API documentation](https://cloud.google.com/functions/docs/reference/rest/v2beta/projects.locations.functions)

## Example Usage

### Cloudfunctions2 Basic


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-v2",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
function = gcp.cloudfunctionsv2.Function("function",
    name="function-v2",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-v2",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-v2"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-v2")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .build())
            .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-v2
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Full


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account",
});
const topic = new gcp.pubsub.Topic("topic", {name: "functions2-topic"});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloPubSub",
        environmentVariables: {
            BUILD_CONFIG_TEST: "build_test",
        },
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 3,
        minInstanceCount: 1,
        availableMemory: "4Gi",
        timeoutSeconds: 60,
        maxInstanceRequestConcurrency: 80,
        availableCpu: "4",
        environmentVariables: {
            SERVICE_CONFIG_TEST: "config_test",
            SERVICE_CONFIG_DIFF_TEST: account.email,
        },
        ingressSettings: "ALLOW_INTERNAL_ONLY",
        allTrafficOnLatestRevision: true,
        serviceAccountEmail: account.email,
    },
    eventTrigger: {
        triggerRegion: "us-central1",
        eventType: "google.cloud.pubsub.topic.v1.messagePublished",
        pubsubTopic: topic.id,
        retryPolicy: "RETRY_POLICY_RETRY",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account")
topic = gcp.pubsub.Topic("topic", name="functions2-topic")
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloPubSub",
        "environment_variables": {
            "BUILD_CONFIG_TEST": "build_test",
        },
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 3,
        "min_instance_count": 1,
        "available_memory": "4Gi",
        "timeout_seconds": 60,
        "max_instance_request_concurrency": 80,
        "available_cpu": "4",
        "environment_variables": {
            "SERVICE_CONFIG_TEST": "config_test",
            "SERVICE_CONFIG_DIFF_TEST": account.email,
        },
        "ingress_settings": "ALLOW_INTERNAL_ONLY",
        "all_traffic_on_latest_revision": True,
        "service_account_email": account.email,
    },
    event_trigger={
        "trigger_region": "us-central1",
        "event_type": "google.cloud.pubsub.topic.v1.messagePublished",
        "pubsub_topic": topic.id,
        "retry_policy": "RETRY_POLICY_RETRY",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account",
    });

    var topic = new Gcp.PubSub.Topic("topic", new()
    {
        Name = "functions2-topic",
    });

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloPubSub",
            EnvironmentVariables = 
            {
                { "BUILD_CONFIG_TEST", "build_test" },
            },
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 3,
            MinInstanceCount = 1,
            AvailableMemory = "4Gi",
            TimeoutSeconds = 60,
            MaxInstanceRequestConcurrency = 80,
            AvailableCpu = "4",
            EnvironmentVariables = 
            {
                { "SERVICE_CONFIG_TEST", "config_test" },
                { "SERVICE_CONFIG_DIFF_TEST", account.Email },
            },
            IngressSettings = "ALLOW_INTERNAL_ONLY",
            AllTrafficOnLatestRevision = true,
            ServiceAccountEmail = account.Email,
        },
        EventTrigger = new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerArgs
        {
            TriggerRegion = "us-central1",
            EventType = "google.cloud.pubsub.topic.v1.messagePublished",
            PubsubTopic = topic.Id,
            RetryPolicy = "RETRY_POLICY_RETRY",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account"),
		})
		if err != nil {
			return err
		}
		topic, err := pubsub.NewTopic(ctx, "topic", &pubsub.TopicArgs{
			Name: pulumi.String("functions2-topic"),
		})
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloPubSub"),
				EnvironmentVariables: pulumi.StringMap{
					"BUILD_CONFIG_TEST": pulumi.String("build_test"),
				},
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount:              pulumi.Int(3),
				MinInstanceCount:              pulumi.Int(1),
				AvailableMemory:               pulumi.String("4Gi"),
				TimeoutSeconds:                pulumi.Int(60),
				MaxInstanceRequestConcurrency: pulumi.Int(80),
				AvailableCpu:                  pulumi.String("4"),
				EnvironmentVariables: pulumi.StringMap{
					"SERVICE_CONFIG_TEST":      pulumi.String("config_test"),
					"SERVICE_CONFIG_DIFF_TEST": account.Email,
				},
				IngressSettings:            pulumi.String("ALLOW_INTERNAL_ONLY"),
				AllTrafficOnLatestRevision: pulumi.Bool(true),
				ServiceAccountEmail:        account.Email,
			},
			EventTrigger: &cloudfunctionsv2.FunctionEventTriggerArgs{
				TriggerRegion: pulumi.String("us-central1"),
				EventType:     pulumi.String("google.cloud.pubsub.topic.v1.messagePublished"),
				PubsubTopic:   topic.ID(),
				RetryPolicy:   pulumi.String("RETRY_POLICY_RETRY"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionEventTriggerArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account")
            .build());

        var topic = new Topic("topic", TopicArgs.builder()
            .name("functions2-topic")
            .build());

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloPubSub")
                .environmentVariables(Map.of("BUILD_CONFIG_TEST", "build_test"))
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(3)
                .minInstanceCount(1)
                .availableMemory("4Gi")
                .timeoutSeconds(60)
                .maxInstanceRequestConcurrency(80)
                .availableCpu("4")
                .environmentVariables(Map.ofEntries(
                    Map.entry("SERVICE_CONFIG_TEST", "config_test"),
                    Map.entry("SERVICE_CONFIG_DIFF_TEST", account.email())
                ))
                .ingressSettings("ALLOW_INTERNAL_ONLY")
                .allTrafficOnLatestRevision(true)
                .serviceAccountEmail(account.email())
                .build())
            .eventTrigger(FunctionEventTriggerArgs.builder()
                .triggerRegion("us-central1")
                .eventType("google.cloud.pubsub.topic.v1.messagePublished")
                .pubsubTopic(topic.id())
                .retryPolicy("RETRY_POLICY_RETRY")
                .build())
            .build());

    }
}
```
```yaml
resources:
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account
  topic:
    type: gcp:pubsub:Topic
    properties:
      name: functions2-topic
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloPubSub
        environmentVariables:
          BUILD_CONFIG_TEST: build_test
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 3
        minInstanceCount: 1
        availableMemory: 4Gi
        timeoutSeconds: 60
        maxInstanceRequestConcurrency: 80
        availableCpu: '4'
        environmentVariables:
          SERVICE_CONFIG_TEST: config_test
          SERVICE_CONFIG_DIFF_TEST: ${account.email}
        ingressSettings: ALLOW_INTERNAL_ONLY
        allTrafficOnLatestRevision: true
        serviceAccountEmail: ${account.email}
      eventTrigger:
        triggerRegion: us-central1
        eventType: google.cloud.pubsub.topic.v1.messagePublished
        pubsubTopic: ${topic.id}
        retryPolicy: RETRY_POLICY_RETRY
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Scheduler Auth


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account",
});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        minInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
        serviceAccountEmail: account.email,
    },
});
const invoker = new gcp.cloudfunctionsv2.FunctionIamMember("invoker", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/cloudfunctions.invoker",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const cloudRunInvoker = new gcp.cloudrun.IamMember("cloud_run_invoker", {
    project: _function.project,
    location: _function.location,
    service: _function.name,
    role: "roles/run.invoker",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const invokeCloudFunction = new gcp.cloudscheduler.Job("invoke_cloud_function", {
    name: "invoke-gcf-function",
    description: "Schedule the HTTPS trigger for cloud function",
    schedule: "0 0 * * *",
    project: _function.project,
    region: _function.location,
    httpTarget: {
        uri: _function.serviceConfig.apply(serviceConfig => serviceConfig?.uri),
        httpMethod: "POST",
        oidcToken: {
            audience: _function.serviceConfig.apply(serviceConfig => `${serviceConfig?.uri}/`),
            serviceAccountEmail: account.email,
        },
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account")
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "min_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
        "service_account_email": account.email,
    })
invoker = gcp.cloudfunctionsv2.FunctionIamMember("invoker",
    project=function.project,
    location=function.location,
    cloud_function=function.name,
    role="roles/cloudfunctions.invoker",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
cloud_run_invoker = gcp.cloudrun.IamMember("cloud_run_invoker",
    project=function.project,
    location=function.location,
    service=function.name,
    role="roles/run.invoker",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
invoke_cloud_function = gcp.cloudscheduler.Job("invoke_cloud_function",
    name="invoke-gcf-function",
    description="Schedule the HTTPS trigger for cloud function",
    schedule="0 0 * * *",
    project=function.project,
    region=function.location,
    http_target={
        "uri": function.service_config.uri,
        "http_method": "POST",
        "oidc_token": {
            "audience": function.service_config.apply(lambda service_config: f"{service_config.uri}/"),
            "service_account_email": account.email,
        },
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account",
    });

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MinInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
            ServiceAccountEmail = account.Email,
        },
    });

    var invoker = new Gcp.CloudFunctionsV2.FunctionIamMember("invoker", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/cloudfunctions.invoker",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var cloudRunInvoker = new Gcp.CloudRun.IamMember("cloud_run_invoker", new()
    {
        Project = function.Project,
        Location = function.Location,
        Service = function.Name,
        Role = "roles/run.invoker",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var invokeCloudFunction = new Gcp.CloudScheduler.Job("invoke_cloud_function", new()
    {
        Name = "invoke-gcf-function",
        Description = "Schedule the HTTPS trigger for cloud function",
        Schedule = "0 0 * * *",
        Project = function.Project,
        Region = function.Location,
        HttpTarget = new Gcp.CloudScheduler.Inputs.JobHttpTargetArgs
        {
            Uri = function.ServiceConfig.Apply(serviceConfig => serviceConfig?.Uri),
            HttpMethod = "POST",
            OidcToken = new Gcp.CloudScheduler.Inputs.JobHttpTargetOidcTokenArgs
            {
                Audience = function.ServiceConfig.Apply(serviceConfig => $"{serviceConfig?.Uri}/"),
                ServiceAccountEmail = account.Email,
            },
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudrun"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudscheduler"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account"),
		})
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		function, err := cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MinInstanceCount:    pulumi.Int(1),
				AvailableMemory:     pulumi.String("256M"),
				TimeoutSeconds:      pulumi.Int(60),
				ServiceAccountEmail: account.Email,
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamMember(ctx, "invoker", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       function.Project,
			Location:      function.Location,
			CloudFunction: function.Name,
			Role:          pulumi.String("roles/cloudfunctions.invoker"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		_, err = cloudrun.NewIamMember(ctx, "cloud_run_invoker", &cloudrun.IamMemberArgs{
			Project:  function.Project,
			Location: function.Location,
			Service:  function.Name,
			Role:     pulumi.String("roles/run.invoker"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		_, err = cloudscheduler.NewJob(ctx, "invoke_cloud_function", &cloudscheduler.JobArgs{
			Name:        pulumi.String("invoke-gcf-function"),
			Description: pulumi.String("Schedule the HTTPS trigger for cloud function"),
			Schedule:    pulumi.String("0 0 * * *"),
			Project:     function.Project,
			Region:      function.Location,
			HttpTarget: &cloudscheduler.JobHttpTargetArgs{
				Uri: function.ServiceConfig.ApplyT(func(serviceConfig cloudfunctionsv2.FunctionServiceConfig) (*string, error) {
					return &serviceConfig.Uri, nil
				}).(pulumi.StringPtrOutput),
				HttpMethod: pulumi.String("POST"),
				OidcToken: &cloudscheduler.JobHttpTargetOidcTokenArgs{
					Audience: function.ServiceConfig.ApplyT(func(serviceConfig cloudfunctionsv2.FunctionServiceConfig) (string, error) {
						return fmt.Sprintf("%v/", serviceConfig.Uri), nil
					}).(pulumi.StringOutput),
					ServiceAccountEmail: account.Email,
				},
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import com.pulumi.gcp.cloudrun.IamMember;
import com.pulumi.gcp.cloudrun.IamMemberArgs;
import com.pulumi.gcp.cloudscheduler.Job;
import com.pulumi.gcp.cloudscheduler.JobArgs;
import com.pulumi.gcp.cloudscheduler.inputs.JobHttpTargetArgs;
import com.pulumi.gcp.cloudscheduler.inputs.JobHttpTargetOidcTokenArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account")
            .build());

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .minInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .serviceAccountEmail(account.email())
                .build())
            .build());

        var invoker = new FunctionIamMember("invoker", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/cloudfunctions.invoker")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var cloudRunInvoker = new IamMember("cloudRunInvoker", IamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .service(function.name())
            .role("roles/run.invoker")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var invokeCloudFunction = new Job("invokeCloudFunction", JobArgs.builder()
            .name("invoke-gcf-function")
            .description("Schedule the HTTPS trigger for cloud function")
            .schedule("0 0 * * *")
            .project(function.project())
            .region(function.location())
            .httpTarget(JobHttpTargetArgs.builder()
                .uri(function.serviceConfig().applyValue(serviceConfig -> serviceConfig.uri()))
                .httpMethod("POST")
                .oidcToken(JobHttpTargetOidcTokenArgs.builder()
                    .audience(function.serviceConfig().applyValue(serviceConfig -> String.format("%s/", serviceConfig.uri())))
                    .serviceAccountEmail(account.email())
                    .build())
                .build())
            .build());

    }
}
```
```yaml
resources:
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        minInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
        serviceAccountEmail: ${account.email}
  invoker:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/cloudfunctions.invoker
      member: serviceAccount:${account.email}
  cloudRunInvoker:
    type: gcp:cloudrun:IamMember
    name: cloud_run_invoker
    properties:
      project: ${function.project}
      location: ${function.location}
      service: ${function.name}
      role: roles/run.invoker
      member: serviceAccount:${account.email}
  invokeCloudFunction:
    type: gcp:cloudscheduler:Job
    name: invoke_cloud_function
    properties:
      name: invoke-gcf-function
      description: Schedule the HTTPS trigger for cloud function
      schedule: 0 0 * * *
      project: ${function.project}
      region: ${function.location}
      httpTarget:
        uri: ${function.serviceConfig.uri}
        httpMethod: POST
        oidcToken:
          audience: ${function.serviceConfig.uri}/
          serviceAccountEmail: ${account.email}
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Basic Gcs


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const source_bucket = new gcp.storage.Bucket("source-bucket", {
    name: "gcf-source-bucket",
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: source_bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const trigger_bucket = new gcp.storage.Bucket("trigger-bucket", {
    name: "gcf-trigger-bucket",
    location: "us-central1",
    uniformBucketLevelAccess: true,
});
const gcsAccount = gcp.storage.getProjectServiceAccount({});
// To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
// (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
const gcs_pubsub_publishing = new gcp.projects.IAMMember("gcs-pubsub-publishing", {
    project: "my-project-name",
    role: "roles/pubsub.publisher",
    member: gcsAccount.then(gcsAccount => `serviceAccount:${gcsAccount.emailAddress}`),
});
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account - used for both the cloud function and eventarc trigger in the test",
});
// Permissions on the service account used by the function and Eventarc trigger
const invoking = new gcp.projects.IAMMember("invoking", {
    project: "my-project-name",
    role: "roles/run.invoker",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
}, {
    dependsOn: [gcs_pubsub_publishing],
});
const event_receiving = new gcp.projects.IAMMember("event-receiving", {
    project: "my-project-name",
    role: "roles/eventarc.eventReceiver",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
}, {
    dependsOn: [invoking],
});
const artifactregistry_reader = new gcp.projects.IAMMember("artifactregistry-reader", {
    project: "my-project-name",
    role: "roles/artifactregistry.reader",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
}, {
    dependsOn: [event_receiving],
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs12",
        entryPoint: "entryPoint",
        environmentVariables: {
            BUILD_CONFIG_TEST: "build_test",
        },
        source: {
            storageSource: {
                bucket: source_bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 3,
        minInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
        environmentVariables: {
            SERVICE_CONFIG_TEST: "config_test",
        },
        ingressSettings: "ALLOW_INTERNAL_ONLY",
        allTrafficOnLatestRevision: true,
        serviceAccountEmail: account.email,
    },
    eventTrigger: {
        eventType: "google.cloud.storage.object.v1.finalized",
        retryPolicy: "RETRY_POLICY_RETRY",
        serviceAccountEmail: account.email,
        eventFilters: [{
            attribute: "bucket",
            value: trigger_bucket.name,
        }],
    },
}, {
    dependsOn: [
        event_receiving,
        artifactregistry_reader,
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

source_bucket = gcp.storage.Bucket("source-bucket",
    name="gcf-source-bucket",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=source_bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
trigger_bucket = gcp.storage.Bucket("trigger-bucket",
    name="gcf-trigger-bucket",
    location="us-central1",
    uniform_bucket_level_access=True)
gcs_account = gcp.storage.get_project_service_account()
# To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
# (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
gcs_pubsub_publishing = gcp.projects.IAMMember("gcs-pubsub-publishing",
    project="my-project-name",
    role="roles/pubsub.publisher",
    member=f"serviceAccount:{gcs_account.email_address}")
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account - used for both the cloud function and eventarc trigger in the test")
# Permissions on the service account used by the function and Eventarc trigger
invoking = gcp.projects.IAMMember("invoking",
    project="my-project-name",
    role="roles/run.invoker",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"),
    opts = pulumi.ResourceOptions(depends_on=[gcs_pubsub_publishing]))
event_receiving = gcp.projects.IAMMember("event-receiving",
    project="my-project-name",
    role="roles/eventarc.eventReceiver",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"),
    opts = pulumi.ResourceOptions(depends_on=[invoking]))
artifactregistry_reader = gcp.projects.IAMMember("artifactregistry-reader",
    project="my-project-name",
    role="roles/artifactregistry.reader",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"),
    opts = pulumi.ResourceOptions(depends_on=[event_receiving]))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs12",
        "entry_point": "entryPoint",
        "environment_variables": {
            "BUILD_CONFIG_TEST": "build_test",
        },
        "source": {
            "storage_source": {
                "bucket": source_bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 3,
        "min_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
        "environment_variables": {
            "SERVICE_CONFIG_TEST": "config_test",
        },
        "ingress_settings": "ALLOW_INTERNAL_ONLY",
        "all_traffic_on_latest_revision": True,
        "service_account_email": account.email,
    },
    event_trigger={
        "event_type": "google.cloud.storage.object.v1.finalized",
        "retry_policy": "RETRY_POLICY_RETRY",
        "service_account_email": account.email,
        "event_filters": [{
            "attribute": "bucket",
            "value": trigger_bucket.name,
        }],
    },
    opts = pulumi.ResourceOptions(depends_on=[
            event_receiving,
            artifactregistry_reader,
        ]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var source_bucket = new Gcp.Storage.Bucket("source-bucket", new()
    {
        Name = "gcf-source-bucket",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = source_bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var trigger_bucket = new Gcp.Storage.Bucket("trigger-bucket", new()
    {
        Name = "gcf-trigger-bucket",
        Location = "us-central1",
        UniformBucketLevelAccess = true,
    });

    var gcsAccount = Gcp.Storage.GetProjectServiceAccount.Invoke();

    // To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
    // (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
    var gcs_pubsub_publishing = new Gcp.Projects.IAMMember("gcs-pubsub-publishing", new()
    {
        Project = "my-project-name",
        Role = "roles/pubsub.publisher",
        Member = $"serviceAccount:{gcsAccount.Apply(getProjectServiceAccountResult => getProjectServiceAccountResult.EmailAddress)}",
    });

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account - used for both the cloud function and eventarc trigger in the test",
    });

    // Permissions on the service account used by the function and Eventarc trigger
    var invoking = new Gcp.Projects.IAMMember("invoking", new()
    {
        Project = "my-project-name",
        Role = "roles/run.invoker",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            gcs_pubsub_publishing,
        },
    });

    var event_receiving = new Gcp.Projects.IAMMember("event-receiving", new()
    {
        Project = "my-project-name",
        Role = "roles/eventarc.eventReceiver",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            invoking,
        },
    });

    var artifactregistry_reader = new Gcp.Projects.IAMMember("artifactregistry-reader", new()
    {
        Project = "my-project-name",
        Role = "roles/artifactregistry.reader",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            event_receiving,
        },
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs12",
            EntryPoint = "entryPoint",
            EnvironmentVariables = 
            {
                { "BUILD_CONFIG_TEST", "build_test" },
            },
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = source_bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 3,
            MinInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
            EnvironmentVariables = 
            {
                { "SERVICE_CONFIG_TEST", "config_test" },
            },
            IngressSettings = "ALLOW_INTERNAL_ONLY",
            AllTrafficOnLatestRevision = true,
            ServiceAccountEmail = account.Email,
        },
        EventTrigger = new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerArgs
        {
            EventType = "google.cloud.storage.object.v1.finalized",
            RetryPolicy = "RETRY_POLICY_RETRY",
            ServiceAccountEmail = account.Email,
            EventFilters = new[]
            {
                new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerEventFilterArgs
                {
                    Attribute = "bucket",
                    Value = trigger_bucket.Name,
                },
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            event_receiving,
            artifactregistry_reader,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := storage.NewBucket(ctx, "source-bucket", &storage.BucketArgs{
			Name:                     pulumi.String("gcf-source-bucket"),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: source_bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		_, err = storage.NewBucket(ctx, "trigger-bucket", &storage.BucketArgs{
			Name:                     pulumi.String("gcf-trigger-bucket"),
			Location:                 pulumi.String("us-central1"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		gcsAccount, err := storage.GetProjectServiceAccount(ctx, &storage.GetProjectServiceAccountArgs{}, nil)
		if err != nil {
			return err
		}
		// To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
		// (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
		_, err = projects.NewIAMMember(ctx, "gcs-pubsub-publishing", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/pubsub.publisher"),
			Member:  pulumi.Sprintf("serviceAccount:%v", gcsAccount.EmailAddress),
		})
		if err != nil {
			return err
		}
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account - used for both the cloud function and eventarc trigger in the test"),
		})
		if err != nil {
			return err
		}
		// Permissions on the service account used by the function and Eventarc trigger
		invoking, err := projects.NewIAMMember(ctx, "invoking", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/run.invoker"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		}, pulumi.DependsOn([]pulumi.Resource{
			gcs_pubsub_publishing,
		}))
		if err != nil {
			return err
		}
		_, err = projects.NewIAMMember(ctx, "event-receiving", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/eventarc.eventReceiver"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		}, pulumi.DependsOn([]pulumi.Resource{
			invoking,
		}))
		if err != nil {
			return err
		}
		_, err = projects.NewIAMMember(ctx, "artifactregistry-reader", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/artifactregistry.reader"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		}, pulumi.DependsOn([]pulumi.Resource{
			event_receiving,
		}))
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs12"),
				EntryPoint: pulumi.String("entryPoint"),
				EnvironmentVariables: pulumi.StringMap{
					"BUILD_CONFIG_TEST": pulumi.String("build_test"),
				},
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: source_bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(3),
				MinInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
				EnvironmentVariables: pulumi.StringMap{
					"SERVICE_CONFIG_TEST": pulumi.String("config_test"),
				},
				IngressSettings:            pulumi.String("ALLOW_INTERNAL_ONLY"),
				AllTrafficOnLatestRevision: pulumi.Bool(true),
				ServiceAccountEmail:        account.Email,
			},
			EventTrigger: &cloudfunctionsv2.FunctionEventTriggerArgs{
				EventType:           pulumi.String("google.cloud.storage.object.v1.finalized"),
				RetryPolicy:         pulumi.String("RETRY_POLICY_RETRY"),
				ServiceAccountEmail: account.Email,
				EventFilters: cloudfunctionsv2.FunctionEventTriggerEventFilterArray{
					&cloudfunctionsv2.FunctionEventTriggerEventFilterArgs{
						Attribute: pulumi.String("bucket"),
						Value:     trigger_bucket.Name,
					},
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			event_receiving,
			artifactregistry_reader,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.storage.StorageFunctions;
import com.pulumi.gcp.storage.inputs.GetProjectServiceAccountArgs;
import com.pulumi.gcp.projects.IAMMember;
import com.pulumi.gcp.projects.IAMMemberArgs;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionEventTriggerArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var source_bucket = new Bucket("source-bucket", BucketArgs.builder()
            .name("gcf-source-bucket")
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(source_bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var trigger_bucket = new Bucket("trigger-bucket", BucketArgs.builder()
            .name("gcf-trigger-bucket")
            .location("us-central1")
            .uniformBucketLevelAccess(true)
            .build());

        final var gcsAccount = StorageFunctions.getProjectServiceAccount();

        // To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
        // (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
        var gcs_pubsub_publishing = new IAMMember("gcs-pubsub-publishing", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/pubsub.publisher")
            .member(String.format("serviceAccount:%s", gcsAccount.applyValue(getProjectServiceAccountResult -> getProjectServiceAccountResult.emailAddress())))
            .build());

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account - used for both the cloud function and eventarc trigger in the test")
            .build());

        // Permissions on the service account used by the function and Eventarc trigger
        var invoking = new IAMMember("invoking", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/run.invoker")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build(), CustomResourceOptions.builder()
                .dependsOn(gcs_pubsub_publishing)
                .build());

        var event_receiving = new IAMMember("event-receiving", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/eventarc.eventReceiver")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build(), CustomResourceOptions.builder()
                .dependsOn(invoking)
                .build());

        var artifactregistry_reader = new IAMMember("artifactregistry-reader", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/artifactregistry.reader")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build(), CustomResourceOptions.builder()
                .dependsOn(event_receiving)
                .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs12")
                .entryPoint("entryPoint")
                .environmentVariables(Map.of("BUILD_CONFIG_TEST", "build_test"))
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(source_bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(3)
                .minInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .environmentVariables(Map.of("SERVICE_CONFIG_TEST", "config_test"))
                .ingressSettings("ALLOW_INTERNAL_ONLY")
                .allTrafficOnLatestRevision(true)
                .serviceAccountEmail(account.email())
                .build())
            .eventTrigger(FunctionEventTriggerArgs.builder()
                .eventType("google.cloud.storage.object.v1.finalized")
                .retryPolicy("RETRY_POLICY_RETRY")
                .serviceAccountEmail(account.email())
                .eventFilters(FunctionEventTriggerEventFilterArgs.builder()
                    .attribute("bucket")
                    .value(trigger_bucket.name())
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    event_receiving,
                    artifactregistry_reader)
                .build());

    }
}
```
```yaml
resources:
  source-bucket:
    type: gcp:storage:Bucket
    properties:
      name: gcf-source-bucket
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${["source-bucket"].name}
      source:
        fn::FileAsset: function-source.zip
  trigger-bucket:
    type: gcp:storage:Bucket
    properties:
      name: gcf-trigger-bucket
      location: us-central1
      uniformBucketLevelAccess: true
  # To use GCS CloudEvent triggers, the GCS service account requires the Pub/Sub Publisher(roles/pubsub.publisher) IAM role in the specified project.
  # (See https://cloud.google.com/eventarc/docs/run/quickstart-storage#before-you-begin)
  gcs-pubsub-publishing:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/pubsub.publisher
      member: serviceAccount:${gcsAccount.emailAddress}
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account - used for both the cloud function and eventarc trigger in the test
  # Permissions on the service account used by the function and Eventarc trigger
  invoking:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/run.invoker
      member: serviceAccount:${account.email}
    options:
      dependsOn:
        - ${["gcs-pubsub-publishing"]}
  event-receiving:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/eventarc.eventReceiver
      member: serviceAccount:${account.email}
    options:
      dependsOn:
        - ${invoking}
  artifactregistry-reader:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/artifactregistry.reader
      member: serviceAccount:${account.email}
    options:
      dependsOn:
        - ${["event-receiving"]}
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs12
        entryPoint: entryPoint
        environmentVariables:
          BUILD_CONFIG_TEST: build_test
        source:
          storageSource:
            bucket: ${["source-bucket"].name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 3
        minInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
        environmentVariables:
          SERVICE_CONFIG_TEST: config_test
        ingressSettings: ALLOW_INTERNAL_ONLY
        allTrafficOnLatestRevision: true
        serviceAccountEmail: ${account.email}
      eventTrigger:
        eventType: google.cloud.storage.object.v1.finalized
        retryPolicy: RETRY_POLICY_RETRY
        serviceAccountEmail: ${account.email}
        eventFilters:
          - attribute: bucket
            value: ${["trigger-bucket"].name}
    options:
      dependsOn:
        - ${["event-receiving"]}
        - ${["artifactregistry-reader"]}
variables:
  gcsAccount:
    fn::invoke:
      function: gcp:storage:getProjectServiceAccount
      arguments: {}
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Basic Auditlogs


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

// This example follows the examples shown in this Google Cloud Community blog post
// https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
// and the docs:
// https://cloud.google.com/eventarc/docs/path-patterns
const source_bucket = new gcp.storage.Bucket("source-bucket", {
    name: "gcf-source-bucket",
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: source_bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account - used for both the cloud function and eventarc trigger in the test",
});
// Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
// Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
// google_cloudfunctions2_function below (Audit Log events have path pattern support)
const audit_log_bucket = new gcp.storage.Bucket("audit-log-bucket", {
    name: "gcf-auditlog-bucket",
    location: "us-central1",
    uniformBucketLevelAccess: true,
});
// Permissions on the service account used by the function and Eventarc trigger
const invoking = new gcp.projects.IAMMember("invoking", {
    project: "my-project-name",
    role: "roles/run.invoker",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const event_receiving = new gcp.projects.IAMMember("event-receiving", {
    project: "my-project-name",
    role: "roles/eventarc.eventReceiver",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
}, {
    dependsOn: [invoking],
});
const artifactregistry_reader = new gcp.projects.IAMMember("artifactregistry-reader", {
    project: "my-project-name",
    role: "roles/artifactregistry.reader",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
}, {
    dependsOn: [event_receiving],
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs12",
        entryPoint: "entryPoint",
        environmentVariables: {
            BUILD_CONFIG_TEST: "build_test",
        },
        source: {
            storageSource: {
                bucket: source_bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 3,
        minInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
        environmentVariables: {
            SERVICE_CONFIG_TEST: "config_test",
        },
        ingressSettings: "ALLOW_INTERNAL_ONLY",
        allTrafficOnLatestRevision: true,
        serviceAccountEmail: account.email,
    },
    eventTrigger: {
        triggerRegion: "us-central1",
        eventType: "google.cloud.audit.log.v1.written",
        retryPolicy: "RETRY_POLICY_RETRY",
        serviceAccountEmail: account.email,
        eventFilters: [
            {
                attribute: "serviceName",
                value: "storage.googleapis.com",
            },
            {
                attribute: "methodName",
                value: "storage.objects.create",
            },
            {
                attribute: "resourceName",
                value: pulumi.interpolate`/projects/_/buckets/${audit_log_bucket.name}/objects/*.txt`,
                operator: "match-path-pattern",
            },
        ],
    },
}, {
    dependsOn: [
        event_receiving,
        artifactregistry_reader,
    ],
});
```
```python
import pulumi
import pulumi_gcp as gcp

# This example follows the examples shown in this Google Cloud Community blog post
# https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
# and the docs:
# https://cloud.google.com/eventarc/docs/path-patterns
source_bucket = gcp.storage.Bucket("source-bucket",
    name="gcf-source-bucket",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=source_bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account - used for both the cloud function and eventarc trigger in the test")
# Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
# Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
# google_cloudfunctions2_function below (Audit Log events have path pattern support)
audit_log_bucket = gcp.storage.Bucket("audit-log-bucket",
    name="gcf-auditlog-bucket",
    location="us-central1",
    uniform_bucket_level_access=True)
# Permissions on the service account used by the function and Eventarc trigger
invoking = gcp.projects.IAMMember("invoking",
    project="my-project-name",
    role="roles/run.invoker",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
event_receiving = gcp.projects.IAMMember("event-receiving",
    project="my-project-name",
    role="roles/eventarc.eventReceiver",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"),
    opts = pulumi.ResourceOptions(depends_on=[invoking]))
artifactregistry_reader = gcp.projects.IAMMember("artifactregistry-reader",
    project="my-project-name",
    role="roles/artifactregistry.reader",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"),
    opts = pulumi.ResourceOptions(depends_on=[event_receiving]))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs12",
        "entry_point": "entryPoint",
        "environment_variables": {
            "BUILD_CONFIG_TEST": "build_test",
        },
        "source": {
            "storage_source": {
                "bucket": source_bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 3,
        "min_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
        "environment_variables": {
            "SERVICE_CONFIG_TEST": "config_test",
        },
        "ingress_settings": "ALLOW_INTERNAL_ONLY",
        "all_traffic_on_latest_revision": True,
        "service_account_email": account.email,
    },
    event_trigger={
        "trigger_region": "us-central1",
        "event_type": "google.cloud.audit.log.v1.written",
        "retry_policy": "RETRY_POLICY_RETRY",
        "service_account_email": account.email,
        "event_filters": [
            {
                "attribute": "serviceName",
                "value": "storage.googleapis.com",
            },
            {
                "attribute": "methodName",
                "value": "storage.objects.create",
            },
            {
                "attribute": "resourceName",
                "value": audit_log_bucket.name.apply(lambda name: f"/projects/_/buckets/{name}/objects/*.txt"),
                "operator": "match-path-pattern",
            },
        ],
    },
    opts = pulumi.ResourceOptions(depends_on=[
            event_receiving,
            artifactregistry_reader,
        ]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    // This example follows the examples shown in this Google Cloud Community blog post
    // https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
    // and the docs:
    // https://cloud.google.com/eventarc/docs/path-patterns
    var source_bucket = new Gcp.Storage.Bucket("source-bucket", new()
    {
        Name = "gcf-source-bucket",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = source_bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account - used for both the cloud function and eventarc trigger in the test",
    });

    // Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
    // Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
    // google_cloudfunctions2_function below (Audit Log events have path pattern support)
    var audit_log_bucket = new Gcp.Storage.Bucket("audit-log-bucket", new()
    {
        Name = "gcf-auditlog-bucket",
        Location = "us-central1",
        UniformBucketLevelAccess = true,
    });

    // Permissions on the service account used by the function and Eventarc trigger
    var invoking = new Gcp.Projects.IAMMember("invoking", new()
    {
        Project = "my-project-name",
        Role = "roles/run.invoker",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var event_receiving = new Gcp.Projects.IAMMember("event-receiving", new()
    {
        Project = "my-project-name",
        Role = "roles/eventarc.eventReceiver",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            invoking,
        },
    });

    var artifactregistry_reader = new Gcp.Projects.IAMMember("artifactregistry-reader", new()
    {
        Project = "my-project-name",
        Role = "roles/artifactregistry.reader",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            event_receiving,
        },
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs12",
            EntryPoint = "entryPoint",
            EnvironmentVariables = 
            {
                { "BUILD_CONFIG_TEST", "build_test" },
            },
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = source_bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 3,
            MinInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
            EnvironmentVariables = 
            {
                { "SERVICE_CONFIG_TEST", "config_test" },
            },
            IngressSettings = "ALLOW_INTERNAL_ONLY",
            AllTrafficOnLatestRevision = true,
            ServiceAccountEmail = account.Email,
        },
        EventTrigger = new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerArgs
        {
            TriggerRegion = "us-central1",
            EventType = "google.cloud.audit.log.v1.written",
            RetryPolicy = "RETRY_POLICY_RETRY",
            ServiceAccountEmail = account.Email,
            EventFilters = new[]
            {
                new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerEventFilterArgs
                {
                    Attribute = "serviceName",
                    Value = "storage.googleapis.com",
                },
                new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerEventFilterArgs
                {
                    Attribute = "methodName",
                    Value = "storage.objects.create",
                },
                new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerEventFilterArgs
                {
                    Attribute = "resourceName",
                    Value = audit_log_bucket.Name.Apply(name => $"/projects/_/buckets/{name}/objects/*.txt"),
                    Operator = "match-path-pattern",
                },
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            event_receiving,
            artifactregistry_reader,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		// This example follows the examples shown in this Google Cloud Community blog post
		// https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
		// and the docs:
		// https://cloud.google.com/eventarc/docs/path-patterns
		_, err := storage.NewBucket(ctx, "source-bucket", &storage.BucketArgs{
			Name:                     pulumi.String("gcf-source-bucket"),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: source_bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account - used for both the cloud function and eventarc trigger in the test"),
		})
		if err != nil {
			return err
		}
		// Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
		// Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
		// google_cloudfunctions2_function below (Audit Log events have path pattern support)
		_, err = storage.NewBucket(ctx, "audit-log-bucket", &storage.BucketArgs{
			Name:                     pulumi.String("gcf-auditlog-bucket"),
			Location:                 pulumi.String("us-central1"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		// Permissions on the service account used by the function and Eventarc trigger
		invoking, err := projects.NewIAMMember(ctx, "invoking", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/run.invoker"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		_, err = projects.NewIAMMember(ctx, "event-receiving", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/eventarc.eventReceiver"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		}, pulumi.DependsOn([]pulumi.Resource{
			invoking,
		}))
		if err != nil {
			return err
		}
		_, err = projects.NewIAMMember(ctx, "artifactregistry-reader", &projects.IAMMemberArgs{
			Project: pulumi.String("my-project-name"),
			Role:    pulumi.String("roles/artifactregistry.reader"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		}, pulumi.DependsOn([]pulumi.Resource{
			event_receiving,
		}))
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs12"),
				EntryPoint: pulumi.String("entryPoint"),
				EnvironmentVariables: pulumi.StringMap{
					"BUILD_CONFIG_TEST": pulumi.String("build_test"),
				},
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: source_bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(3),
				MinInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
				EnvironmentVariables: pulumi.StringMap{
					"SERVICE_CONFIG_TEST": pulumi.String("config_test"),
				},
				IngressSettings:            pulumi.String("ALLOW_INTERNAL_ONLY"),
				AllTrafficOnLatestRevision: pulumi.Bool(true),
				ServiceAccountEmail:        account.Email,
			},
			EventTrigger: &cloudfunctionsv2.FunctionEventTriggerArgs{
				TriggerRegion:       pulumi.String("us-central1"),
				EventType:           pulumi.String("google.cloud.audit.log.v1.written"),
				RetryPolicy:         pulumi.String("RETRY_POLICY_RETRY"),
				ServiceAccountEmail: account.Email,
				EventFilters: cloudfunctionsv2.FunctionEventTriggerEventFilterArray{
					&cloudfunctionsv2.FunctionEventTriggerEventFilterArgs{
						Attribute: pulumi.String("serviceName"),
						Value:     pulumi.String("storage.googleapis.com"),
					},
					&cloudfunctionsv2.FunctionEventTriggerEventFilterArgs{
						Attribute: pulumi.String("methodName"),
						Value:     pulumi.String("storage.objects.create"),
					},
					&cloudfunctionsv2.FunctionEventTriggerEventFilterArgs{
						Attribute: pulumi.String("resourceName"),
						Value: audit_log_bucket.Name.ApplyT(func(name string) (string, error) {
							return fmt.Sprintf("/projects/_/buckets/%v/objects/*.txt", name), nil
						}).(pulumi.StringOutput),
						Operator: pulumi.String("match-path-pattern"),
					},
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			event_receiving,
			artifactregistry_reader,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.projects.IAMMember;
import com.pulumi.gcp.projects.IAMMemberArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionEventTriggerArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        // This example follows the examples shown in this Google Cloud Community blog post
        // https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
        // and the docs:
        // https://cloud.google.com/eventarc/docs/path-patterns
        var source_bucket = new Bucket("source-bucket", BucketArgs.builder()
            .name("gcf-source-bucket")
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(source_bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account - used for both the cloud function and eventarc trigger in the test")
            .build());

        // Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
        // Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
        // google_cloudfunctions2_function below (Audit Log events have path pattern support)
        var audit_log_bucket = new Bucket("audit-log-bucket", BucketArgs.builder()
            .name("gcf-auditlog-bucket")
            .location("us-central1")
            .uniformBucketLevelAccess(true)
            .build());

        // Permissions on the service account used by the function and Eventarc trigger
        var invoking = new IAMMember("invoking", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/run.invoker")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var event_receiving = new IAMMember("event-receiving", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/eventarc.eventReceiver")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build(), CustomResourceOptions.builder()
                .dependsOn(invoking)
                .build());

        var artifactregistry_reader = new IAMMember("artifactregistry-reader", IAMMemberArgs.builder()
            .project("my-project-name")
            .role("roles/artifactregistry.reader")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build(), CustomResourceOptions.builder()
                .dependsOn(event_receiving)
                .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs12")
                .entryPoint("entryPoint")
                .environmentVariables(Map.of("BUILD_CONFIG_TEST", "build_test"))
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(source_bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(3)
                .minInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .environmentVariables(Map.of("SERVICE_CONFIG_TEST", "config_test"))
                .ingressSettings("ALLOW_INTERNAL_ONLY")
                .allTrafficOnLatestRevision(true)
                .serviceAccountEmail(account.email())
                .build())
            .eventTrigger(FunctionEventTriggerArgs.builder()
                .triggerRegion("us-central1")
                .eventType("google.cloud.audit.log.v1.written")
                .retryPolicy("RETRY_POLICY_RETRY")
                .serviceAccountEmail(account.email())
                .eventFilters(                
                    FunctionEventTriggerEventFilterArgs.builder()
                        .attribute("serviceName")
                        .value("storage.googleapis.com")
                        .build(),
                    FunctionEventTriggerEventFilterArgs.builder()
                        .attribute("methodName")
                        .value("storage.objects.create")
                        .build(),
                    FunctionEventTriggerEventFilterArgs.builder()
                        .attribute("resourceName")
                        .value(audit_log_bucket.name().applyValue(name -> String.format("/projects/_/buckets/%s/objects/*.txt", name)))
                        .operator("match-path-pattern")
                        .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    event_receiving,
                    artifactregistry_reader)
                .build());

    }
}
```
```yaml
resources:
  # This example follows the examples shown in this Google Cloud Community blog post
  # https://medium.com/google-cloud/applying-a-path-pattern-when-filtering-in-eventarc-f06b937b4c34
  # and the docs:
  # https://cloud.google.com/eventarc/docs/path-patterns
  source-bucket:
    type: gcp:storage:Bucket
    properties:
      name: gcf-source-bucket
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${["source-bucket"].name}
      source:
        fn::FileAsset: function-source.zip
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account - used for both the cloud function and eventarc trigger in the test
  # Note: The right way of listening for Cloud Storage events is to use a Cloud Storage trigger.
  # Here we use Audit Logs to monitor the bucket so path patterns can be used in the example of
  # google_cloudfunctions2_function below (Audit Log events have path pattern support)
  audit-log-bucket:
    type: gcp:storage:Bucket
    properties:
      name: gcf-auditlog-bucket
      location: us-central1
      uniformBucketLevelAccess: true
  # Permissions on the service account used by the function and Eventarc trigger
  invoking:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/run.invoker
      member: serviceAccount:${account.email}
  event-receiving:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/eventarc.eventReceiver
      member: serviceAccount:${account.email}
    options:
      dependsOn:
        - ${invoking}
  artifactregistry-reader:
    type: gcp:projects:IAMMember
    properties:
      project: my-project-name
      role: roles/artifactregistry.reader
      member: serviceAccount:${account.email}
    options:
      dependsOn:
        - ${["event-receiving"]}
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs12
        entryPoint: entryPoint
        environmentVariables:
          BUILD_CONFIG_TEST: build_test
        source:
          storageSource:
            bucket: ${["source-bucket"].name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 3
        minInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
        environmentVariables:
          SERVICE_CONFIG_TEST: config_test
        ingressSettings: ALLOW_INTERNAL_ONLY
        allTrafficOnLatestRevision: true
        serviceAccountEmail: ${account.email}
      eventTrigger:
        triggerRegion: us-central1
        eventType: google.cloud.audit.log.v1.written
        retryPolicy: RETRY_POLICY_RETRY
        serviceAccountEmail: ${account.email}
        eventFilters:
          - attribute: serviceName
            value: storage.googleapis.com
          - attribute: methodName
            value: storage.objects.create
          - attribute: resourceName
            value: /projects/_/buckets/${["audit-log-bucket"].name}/objects/*.txt
            operator: match-path-pattern
    options:
      dependsOn:
        - ${["event-receiving"]}
        - ${["artifactregistry-reader"]}
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Basic Builder


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";
import * as time from "@pulumi/time";

const project = "my-project-name";
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account",
});
const logWriter = new gcp.projects.IAMMember("log_writer", {
    project: account.project,
    role: "roles/logging.logWriter",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const artifactRegistryWriter = new gcp.projects.IAMMember("artifact_registry_writer", {
    project: account.project,
    role: "roles/artifactregistry.writer",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const storageObjectAdmin = new gcp.projects.IAMMember("storage_object_admin", {
    project: account.project,
    role: "roles/storage.objectAdmin",
    member: pulumi.interpolate`serviceAccount:${account.email}`,
});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
// builder permissions need to stablize before it can pull the source zip
const wait60s = new time.index.Sleep("wait_60s", {createDuration: "60s"}, {
    dependsOn: [
        logWriter,
        artifactRegistryWriter,
        storageObjectAdmin,
    ],
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-v2",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
        serviceAccount: account.id,
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
    },
}, {
    dependsOn: [wait60s],
});
```
```python
import pulumi
import pulumi_gcp as gcp
import pulumi_time as time

project = "my-project-name"
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account")
log_writer = gcp.projects.IAMMember("log_writer",
    project=account.project,
    role="roles/logging.logWriter",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
artifact_registry_writer = gcp.projects.IAMMember("artifact_registry_writer",
    project=account.project,
    role="roles/artifactregistry.writer",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
storage_object_admin = gcp.projects.IAMMember("storage_object_admin",
    project=account.project,
    role="roles/storage.objectAdmin",
    member=account.email.apply(lambda email: f"serviceAccount:{email}"))
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
# builder permissions need to stablize before it can pull the source zip
wait60s = time.index.Sleep("wait_60s", create_duration=60s,
opts = pulumi.ResourceOptions(depends_on=[
        log_writer,
        artifact_registry_writer,
        storage_object_admin,
    ]))
function = gcp.cloudfunctionsv2.Function("function",
    name="function-v2",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
        "service_account": account.id,
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
    },
    opts = pulumi.ResourceOptions(depends_on=[wait60s]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;
using Time = Pulumi.Time;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account",
    });

    var logWriter = new Gcp.Projects.IAMMember("log_writer", new()
    {
        Project = account.Project,
        Role = "roles/logging.logWriter",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var artifactRegistryWriter = new Gcp.Projects.IAMMember("artifact_registry_writer", new()
    {
        Project = account.Project,
        Role = "roles/artifactregistry.writer",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var storageObjectAdmin = new Gcp.Projects.IAMMember("storage_object_admin", new()
    {
        Project = account.Project,
        Role = "roles/storage.objectAdmin",
        Member = account.Email.Apply(email => $"serviceAccount:{email}"),
    });

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    // builder permissions need to stablize before it can pull the source zip
    var wait60s = new Time.Index.Sleep("wait_60s", new()
    {
        CreateDuration = "60s",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            logWriter,
            artifactRegistryWriter,
            storageObjectAdmin,
        },
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-v2",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
            ServiceAccount = account.Id,
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            wait60s,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi-time/sdk/go/time"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account"),
		})
		if err != nil {
			return err
		}
		logWriter, err := projects.NewIAMMember(ctx, "log_writer", &projects.IAMMemberArgs{
			Project: account.Project,
			Role:    pulumi.String("roles/logging.logWriter"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		artifactRegistryWriter, err := projects.NewIAMMember(ctx, "artifact_registry_writer", &projects.IAMMemberArgs{
			Project: account.Project,
			Role:    pulumi.String("roles/artifactregistry.writer"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		storageObjectAdmin, err := projects.NewIAMMember(ctx, "storage_object_admin", &projects.IAMMemberArgs{
			Project: account.Project,
			Role:    pulumi.String("roles/storage.objectAdmin"),
			Member: account.Email.ApplyT(func(email string) (string, error) {
				return fmt.Sprintf("serviceAccount:%v", email), nil
			}).(pulumi.StringOutput),
		})
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		// builder permissions need to stablize before it can pull the source zip
		wait60s, err := time.NewSleep(ctx, "wait_60s", &time.SleepArgs{
			CreateDuration: "60s",
		}, pulumi.DependsOn([]pulumi.Resource{
			logWriter,
			artifactRegistryWriter,
			storageObjectAdmin,
		}))
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-v2"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
				ServiceAccount: account.ID(),
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			wait60s,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.projects.IAMMember;
import com.pulumi.gcp.projects.IAMMemberArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.time.sleep;
import com.pulumi.time.SleepArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account")
            .build());

        var logWriter = new IAMMember("logWriter", IAMMemberArgs.builder()
            .project(account.project())
            .role("roles/logging.logWriter")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var artifactRegistryWriter = new IAMMember("artifactRegistryWriter", IAMMemberArgs.builder()
            .project(account.project())
            .role("roles/artifactregistry.writer")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var storageObjectAdmin = new IAMMember("storageObjectAdmin", IAMMemberArgs.builder()
            .project(account.project())
            .role("roles/storage.objectAdmin")
            .member(account.email().applyValue(email -> String.format("serviceAccount:%s", email)))
            .build());

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        // builder permissions need to stablize before it can pull the source zip
        var wait60s = new Sleep("wait60s", SleepArgs.builder()
            .createDuration("60s")
            .build(), CustomResourceOptions.builder()
                .dependsOn(                
                    logWriter,
                    artifactRegistryWriter,
                    storageObjectAdmin)
                .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-v2")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .serviceAccount(account.id())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(wait60s)
                .build());

    }
}
```
```yaml
resources:
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account
  logWriter:
    type: gcp:projects:IAMMember
    name: log_writer
    properties:
      project: ${account.project}
      role: roles/logging.logWriter
      member: serviceAccount:${account.email}
  artifactRegistryWriter:
    type: gcp:projects:IAMMember
    name: artifact_registry_writer
    properties:
      project: ${account.project}
      role: roles/artifactregistry.writer
      member: serviceAccount:${account.email}
  storageObjectAdmin:
    type: gcp:projects:IAMMember
    name: storage_object_admin
    properties:
      project: ${account.project}
      role: roles/storage.objectAdmin
      member: serviceAccount:${account.email}
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  # builder permissions need to stablize before it can pull the source zip
  wait60s:
    type: time:sleep
    name: wait_60s
    properties:
      createDuration: 60s
    options:
      dependsOn:
        - ${logWriter}
        - ${artifactRegistryWriter}
        - ${storageObjectAdmin}
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-v2
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
        serviceAccount: ${account.id}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
    options:
      dependsOn:
        - ${wait60s}
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Secret Env


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const secret = new gcp.secretmanager.Secret("secret", {
    secretId: "secret",
    replication: {
        userManaged: {
            replicas: [{
                location: "us-central1",
            }],
        },
    },
});
const secretSecretVersion = new gcp.secretmanager.SecretVersion("secret", {
    secret: secret.name,
    secretData: "secret",
    enabled: true,
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-secret",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
        secretEnvironmentVariables: [{
            key: "TEST",
            projectId: project,
            secret: secret.secretId,
            version: "latest",
        }],
    },
}, {
    dependsOn: [secretSecretVersion],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
secret = gcp.secretmanager.Secret("secret",
    secret_id="secret",
    replication={
        "user_managed": {
            "replicas": [{
                "location": "us-central1",
            }],
        },
    })
secret_secret_version = gcp.secretmanager.SecretVersion("secret",
    secret=secret.name,
    secret_data="secret",
    enabled=True)
function = gcp.cloudfunctionsv2.Function("function",
    name="function-secret",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
        "secret_environment_variables": [{
            "key": "TEST",
            "project_id": project,
            "secret": secret.secret_id,
            "version": "latest",
        }],
    },
    opts = pulumi.ResourceOptions(depends_on=[secret_secret_version]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var secret = new Gcp.SecretManager.Secret("secret", new()
    {
        SecretId = "secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            UserManaged = new Gcp.SecretManager.Inputs.SecretReplicationUserManagedArgs
            {
                Replicas = new[]
                {
                    new Gcp.SecretManager.Inputs.SecretReplicationUserManagedReplicaArgs
                    {
                        Location = "us-central1",
                    },
                },
            },
        },
    });

    var secretSecretVersion = new Gcp.SecretManager.SecretVersion("secret", new()
    {
        Secret = secret.Name,
        SecretData = "secret",
        Enabled = true,
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-secret",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
            SecretEnvironmentVariables = new[]
            {
                new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigSecretEnvironmentVariableArgs
                {
                    Key = "TEST",
                    ProjectId = project,
                    Secret = secret.SecretId,
                    Version = "latest",
                },
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            secretSecretVersion,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		secret, err := secretmanager.NewSecret(ctx, "secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				UserManaged: &secretmanager.SecretReplicationUserManagedArgs{
					Replicas: secretmanager.SecretReplicationUserManagedReplicaArray{
						&secretmanager.SecretReplicationUserManagedReplicaArgs{
							Location: pulumi.String("us-central1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		secretSecretVersion, err := secretmanager.NewSecretVersion(ctx, "secret", &secretmanager.SecretVersionArgs{
			Secret:     secret.Name,
			SecretData: pulumi.String("secret"),
			Enabled:    pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-secret"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
				SecretEnvironmentVariables: cloudfunctionsv2.FunctionServiceConfigSecretEnvironmentVariableArray{
					&cloudfunctionsv2.FunctionServiceConfigSecretEnvironmentVariableArgs{
						Key:       pulumi.String("TEST"),
						ProjectId: pulumi.String(project),
						Secret:    secret.SecretId,
						Version:   pulumi.String("latest"),
					},
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			secretSecretVersion,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationUserManagedArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var secret = new Secret("secret", SecretArgs.builder()
            .secretId("secret")
            .replication(SecretReplicationArgs.builder()
                .userManaged(SecretReplicationUserManagedArgs.builder()
                    .replicas(SecretReplicationUserManagedReplicaArgs.builder()
                        .location("us-central1")
                        .build())
                    .build())
                .build())
            .build());

        var secretSecretVersion = new SecretVersion("secretSecretVersion", SecretVersionArgs.builder()
            .secret(secret.name())
            .secretData("secret")
            .enabled(true)
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-secret")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .secretEnvironmentVariables(FunctionServiceConfigSecretEnvironmentVariableArgs.builder()
                    .key("TEST")
                    .projectId(project)
                    .secret(secret.secretId())
                    .version("latest")
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(secretSecretVersion)
                .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-secret
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
        secretEnvironmentVariables:
          - key: TEST
            projectId: ${project}
            secret: ${secret.secretId}
            version: latest
    options:
      dependsOn:
        - ${secretSecretVersion}
  secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: secret
      replication:
        userManaged:
          replicas:
            - location: us-central1
  secretSecretVersion:
    type: gcp:secretmanager:SecretVersion
    name: secret
    properties:
      secret: ${secret.name}
      secretData: secret
      enabled: true
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Secret Volume


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const secret = new gcp.secretmanager.Secret("secret", {
    secretId: "secret",
    replication: {
        userManaged: {
            replicas: [{
                location: "us-central1",
            }],
        },
    },
});
const secretSecretVersion = new gcp.secretmanager.SecretVersion("secret", {
    secret: secret.name,
    secretData: "secret",
    enabled: true,
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-secret",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
        secretVolumes: [{
            mountPath: "/etc/secrets",
            projectId: project,
            secret: secret.secretId,
        }],
    },
}, {
    dependsOn: [secretSecretVersion],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
secret = gcp.secretmanager.Secret("secret",
    secret_id="secret",
    replication={
        "user_managed": {
            "replicas": [{
                "location": "us-central1",
            }],
        },
    })
secret_secret_version = gcp.secretmanager.SecretVersion("secret",
    secret=secret.name,
    secret_data="secret",
    enabled=True)
function = gcp.cloudfunctionsv2.Function("function",
    name="function-secret",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
        "secret_volumes": [{
            "mount_path": "/etc/secrets",
            "project_id": project,
            "secret": secret.secret_id,
        }],
    },
    opts = pulumi.ResourceOptions(depends_on=[secret_secret_version]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var secret = new Gcp.SecretManager.Secret("secret", new()
    {
        SecretId = "secret",
        Replication = new Gcp.SecretManager.Inputs.SecretReplicationArgs
        {
            UserManaged = new Gcp.SecretManager.Inputs.SecretReplicationUserManagedArgs
            {
                Replicas = new[]
                {
                    new Gcp.SecretManager.Inputs.SecretReplicationUserManagedReplicaArgs
                    {
                        Location = "us-central1",
                    },
                },
            },
        },
    });

    var secretSecretVersion = new Gcp.SecretManager.SecretVersion("secret", new()
    {
        Secret = secret.Name,
        SecretData = "secret",
        Enabled = true,
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-secret",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
            SecretVolumes = new[]
            {
                new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigSecretVolumeArgs
                {
                    MountPath = "/etc/secrets",
                    ProjectId = project,
                    Secret = secret.SecretId,
                },
            },
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            secretSecretVersion,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/secretmanager"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		secret, err := secretmanager.NewSecret(ctx, "secret", &secretmanager.SecretArgs{
			SecretId: pulumi.String("secret"),
			Replication: &secretmanager.SecretReplicationArgs{
				UserManaged: &secretmanager.SecretReplicationUserManagedArgs{
					Replicas: secretmanager.SecretReplicationUserManagedReplicaArray{
						&secretmanager.SecretReplicationUserManagedReplicaArgs{
							Location: pulumi.String("us-central1"),
						},
					},
				},
			},
		})
		if err != nil {
			return err
		}
		secretSecretVersion, err := secretmanager.NewSecretVersion(ctx, "secret", &secretmanager.SecretVersionArgs{
			Secret:     secret.Name,
			SecretData: pulumi.String("secret"),
			Enabled:    pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-secret"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
				SecretVolumes: cloudfunctionsv2.FunctionServiceConfigSecretVolumeArray{
					&cloudfunctionsv2.FunctionServiceConfigSecretVolumeArgs{
						MountPath: pulumi.String("/etc/secrets"),
						ProjectId: pulumi.String(project),
						Secret:    secret.SecretId,
					},
				},
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			secretSecretVersion,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.secretmanager.Secret;
import com.pulumi.gcp.secretmanager.SecretArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationArgs;
import com.pulumi.gcp.secretmanager.inputs.SecretReplicationUserManagedArgs;
import com.pulumi.gcp.secretmanager.SecretVersion;
import com.pulumi.gcp.secretmanager.SecretVersionArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var secret = new Secret("secret", SecretArgs.builder()
            .secretId("secret")
            .replication(SecretReplicationArgs.builder()
                .userManaged(SecretReplicationUserManagedArgs.builder()
                    .replicas(SecretReplicationUserManagedReplicaArgs.builder()
                        .location("us-central1")
                        .build())
                    .build())
                .build())
            .build());

        var secretSecretVersion = new SecretVersion("secretSecretVersion", SecretVersionArgs.builder()
            .secret(secret.name())
            .secretData("secret")
            .enabled(true)
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-secret")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .secretVolumes(FunctionServiceConfigSecretVolumeArgs.builder()
                    .mountPath("/etc/secrets")
                    .projectId(project)
                    .secret(secret.secretId())
                    .build())
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(secretSecretVersion)
                .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-secret
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
        secretVolumes:
          - mountPath: /etc/secrets
            projectId: ${project}
            secret: ${secret.secretId}
    options:
      dependsOn:
        - ${secretSecretVersion}
  secret:
    type: gcp:secretmanager:Secret
    properties:
      secretId: secret
      replication:
        userManaged:
          replicas:
            - location: us-central1
  secretSecretVersion:
    type: gcp:secretmanager:SecretVersion
    name: secret
    properties:
      secret: ${secret.name}
      secretData: secret
      enabled: true
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Private Workerpool


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const pool = new gcp.cloudbuild.WorkerPool("pool", {
    name: "workerpool",
    location: "us-central1",
    workerConfig: {
        diskSizeGb: 100,
        machineType: "e2-standard-8",
        noExternalIp: false,
    },
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-workerpool",
    location: "us-central1",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
        workerPool: pool.id,
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
pool = gcp.cloudbuild.WorkerPool("pool",
    name="workerpool",
    location="us-central1",
    worker_config={
        "disk_size_gb": 100,
        "machine_type": "e2-standard-8",
        "no_external_ip": False,
    })
function = gcp.cloudfunctionsv2.Function("function",
    name="function-workerpool",
    location="us-central1",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
        "worker_pool": pool.id,
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var pool = new Gcp.CloudBuild.WorkerPool("pool", new()
    {
        Name = "workerpool",
        Location = "us-central1",
        WorkerConfig = new Gcp.CloudBuild.Inputs.WorkerPoolWorkerConfigArgs
        {
            DiskSizeGb = 100,
            MachineType = "e2-standard-8",
            NoExternalIp = false,
        },
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-workerpool",
        Location = "us-central1",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
            WorkerPool = pool.Id,
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		pool, err := cloudbuild.NewWorkerPool(ctx, "pool", &cloudbuild.WorkerPoolArgs{
			Name:     pulumi.String("workerpool"),
			Location: pulumi.String("us-central1"),
			WorkerConfig: &cloudbuild.WorkerPoolWorkerConfigArgs{
				DiskSizeGb:   pulumi.Int(100),
				MachineType:  pulumi.String("e2-standard-8"),
				NoExternalIp: pulumi.Bool(false),
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-workerpool"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloHttp"),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
				WorkerPool: pool.ID(),
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudbuild.WorkerPool;
import com.pulumi.gcp.cloudbuild.WorkerPoolArgs;
import com.pulumi.gcp.cloudbuild.inputs.WorkerPoolWorkerConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var pool = new WorkerPool("pool", WorkerPoolArgs.builder()
            .name("workerpool")
            .location("us-central1")
            .workerConfig(WorkerPoolWorkerConfigArgs.builder()
                .diskSizeGb(100)
                .machineType("e2-standard-8")
                .noExternalIp(false)
                .build())
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-workerpool")
            .location("us-central1")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .workerPool(pool.id())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .build())
            .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  pool:
    type: gcp:cloudbuild:WorkerPool
    properties:
      name: workerpool
      location: us-central1
      workerConfig:
        diskSizeGb: 100
        machineType: e2-standard-8
        noExternalIp: false
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-workerpool
      location: us-central1
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
        workerPool: ${pool.id}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Cmek Docs


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const projectGetProject = gcp.organizations.getProject({});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const eaSa = new gcp.projects.ServiceIdentity("ea_sa", {
    project: projectGetProject.then(projectGetProject => projectGetProject.projectId),
    service: "eventarc.googleapis.com",
});
const unencoded_ar_repo = new gcp.artifactregistry.Repository("unencoded-ar-repo", {
    repositoryId: "ar-repo",
    location: "us-central1",
    format: "DOCKER",
});
const gcfCmekKeyuser = new gcp.kms.CryptoKeyIAMBinding("gcf_cmek_keyuser", {
    cryptoKeyId: "cmek-key",
    role: "roles/cloudkms.cryptoKeyEncrypterDecrypter",
    members: [
        projectGetProject.then(projectGetProject => `serviceAccount:service-${projectGetProject.number}@gcf-admin-robot.iam.gserviceaccount.com`),
        projectGetProject.then(projectGetProject => `serviceAccount:service-${projectGetProject.number}@gcp-sa-artifactregistry.iam.gserviceaccount.com`),
        projectGetProject.then(projectGetProject => `serviceAccount:service-${projectGetProject.number}@gs-project-accounts.iam.gserviceaccount.com`),
        projectGetProject.then(projectGetProject => `serviceAccount:service-${projectGetProject.number}@serverless-robot-prod.iam.gserviceaccount.com`),
        eaSa.member,
    ],
}, {
    dependsOn: [eaSa],
});
const encoded_ar_repo = new gcp.artifactregistry.Repository("encoded-ar-repo", {
    location: "us-central1",
    repositoryId: "cmek-repo",
    format: "DOCKER",
    kmsKeyName: "cmek-key",
}, {
    dependsOn: [gcfCmekKeyuser],
});
const binding = new gcp.artifactregistry.RepositoryIamBinding("binding", {
    location: encoded_ar_repo.location,
    repository: encoded_ar_repo.name,
    role: "roles/artifactregistry.admin",
    members: [projectGetProject.then(projectGetProject => `serviceAccount:service-${projectGetProject.number}@gcf-admin-robot.iam.gserviceaccount.com`)],
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "function-cmek",
    location: "us-central1",
    description: "CMEK function",
    kmsKeyName: "cmek-key",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloHttp",
        dockerRepository: encoded_ar_repo.id,
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
    },
    serviceConfig: {
        maxInstanceCount: 1,
        availableMemory: "256M",
        timeoutSeconds: 60,
    },
}, {
    dependsOn: [gcfCmekKeyuser],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
project_get_project = gcp.organizations.get_project()
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
ea_sa = gcp.projects.ServiceIdentity("ea_sa",
    project=project_get_project.project_id,
    service="eventarc.googleapis.com")
unencoded_ar_repo = gcp.artifactregistry.Repository("unencoded-ar-repo",
    repository_id="ar-repo",
    location="us-central1",
    format="DOCKER")
gcf_cmek_keyuser = gcp.kms.CryptoKeyIAMBinding("gcf_cmek_keyuser",
    crypto_key_id="cmek-key",
    role="roles/cloudkms.cryptoKeyEncrypterDecrypter",
    members=[
        f"serviceAccount:service-{project_get_project.number}@gcf-admin-robot.iam.gserviceaccount.com",
        f"serviceAccount:service-{project_get_project.number}@gcp-sa-artifactregistry.iam.gserviceaccount.com",
        f"serviceAccount:service-{project_get_project.number}@gs-project-accounts.iam.gserviceaccount.com",
        f"serviceAccount:service-{project_get_project.number}@serverless-robot-prod.iam.gserviceaccount.com",
        ea_sa.member,
    ],
    opts = pulumi.ResourceOptions(depends_on=[ea_sa]))
encoded_ar_repo = gcp.artifactregistry.Repository("encoded-ar-repo",
    location="us-central1",
    repository_id="cmek-repo",
    format="DOCKER",
    kms_key_name="cmek-key",
    opts = pulumi.ResourceOptions(depends_on=[gcf_cmek_keyuser]))
binding = gcp.artifactregistry.RepositoryIamBinding("binding",
    location=encoded_ar_repo.location,
    repository=encoded_ar_repo.name,
    role="roles/artifactregistry.admin",
    members=[f"serviceAccount:service-{project_get_project.number}@gcf-admin-robot.iam.gserviceaccount.com"])
function = gcp.cloudfunctionsv2.Function("function",
    name="function-cmek",
    location="us-central1",
    description="CMEK function",
    kms_key_name="cmek-key",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloHttp",
        "docker_repository": encoded_ar_repo.id,
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
    },
    service_config={
        "max_instance_count": 1,
        "available_memory": "256M",
        "timeout_seconds": 60,
    },
    opts = pulumi.ResourceOptions(depends_on=[gcf_cmek_keyuser]))
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var projectGetProject = Gcp.Organizations.GetProject.Invoke();

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var eaSa = new Gcp.Projects.ServiceIdentity("ea_sa", new()
    {
        Project = projectGetProject.Apply(getProjectResult => getProjectResult.ProjectId),
        Service = "eventarc.googleapis.com",
    });

    var unencoded_ar_repo = new Gcp.ArtifactRegistry.Repository("unencoded-ar-repo", new()
    {
        RepositoryId = "ar-repo",
        Location = "us-central1",
        Format = "DOCKER",
    });

    var gcfCmekKeyuser = new Gcp.Kms.CryptoKeyIAMBinding("gcf_cmek_keyuser", new()
    {
        CryptoKeyId = "cmek-key",
        Role = "roles/cloudkms.cryptoKeyEncrypterDecrypter",
        Members = new[]
        {
            $"serviceAccount:service-{projectGetProject.Apply(getProjectResult => getProjectResult.Number)}@gcf-admin-robot.iam.gserviceaccount.com",
            $"serviceAccount:service-{projectGetProject.Apply(getProjectResult => getProjectResult.Number)}@gcp-sa-artifactregistry.iam.gserviceaccount.com",
            $"serviceAccount:service-{projectGetProject.Apply(getProjectResult => getProjectResult.Number)}@gs-project-accounts.iam.gserviceaccount.com",
            $"serviceAccount:service-{projectGetProject.Apply(getProjectResult => getProjectResult.Number)}@serverless-robot-prod.iam.gserviceaccount.com",
            eaSa.Member,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            eaSa,
        },
    });

    var encoded_ar_repo = new Gcp.ArtifactRegistry.Repository("encoded-ar-repo", new()
    {
        Location = "us-central1",
        RepositoryId = "cmek-repo",
        Format = "DOCKER",
        KmsKeyName = "cmek-key",
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            gcfCmekKeyuser,
        },
    });

    var binding = new Gcp.ArtifactRegistry.RepositoryIamBinding("binding", new()
    {
        Location = encoded_ar_repo.Location,
        Repository = encoded_ar_repo.Name,
        Role = "roles/artifactregistry.admin",
        Members = new[]
        {
            $"serviceAccount:service-{projectGetProject.Apply(getProjectResult => getProjectResult.Number)}@gcf-admin-robot.iam.gserviceaccount.com",
        },
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "function-cmek",
        Location = "us-central1",
        Description = "CMEK function",
        KmsKeyName = "cmek-key",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloHttp",
            DockerRepository = encoded_ar_repo.Id,
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 1,
            AvailableMemory = "256M",
            TimeoutSeconds = 60,
        },
    }, new CustomResourceOptions
    {
        DependsOn =
        {
            gcfCmekKeyuser,
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/artifactregistry"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/kms"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/projects"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		projectGetProject, err := organizations.LookupProject(ctx, &organizations.LookupProjectArgs{}, nil)
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		eaSa, err := projects.NewServiceIdentity(ctx, "ea_sa", &projects.ServiceIdentityArgs{
			Project: pulumi.String(projectGetProject.ProjectId),
			Service: pulumi.String("eventarc.googleapis.com"),
		})
		if err != nil {
			return err
		}
		_, err = artifactregistry.NewRepository(ctx, "unencoded-ar-repo", &artifactregistry.RepositoryArgs{
			RepositoryId: pulumi.String("ar-repo"),
			Location:     pulumi.String("us-central1"),
			Format:       pulumi.String("DOCKER"),
		})
		if err != nil {
			return err
		}
		gcfCmekKeyuser, err := kms.NewCryptoKeyIAMBinding(ctx, "gcf_cmek_keyuser", &kms.CryptoKeyIAMBindingArgs{
			CryptoKeyId: pulumi.String("cmek-key"),
			Role:        pulumi.String("roles/cloudkms.cryptoKeyEncrypterDecrypter"),
			Members: pulumi.StringArray{
				pulumi.Sprintf("serviceAccount:service-%v@gcf-admin-robot.iam.gserviceaccount.com", projectGetProject.Number),
				pulumi.Sprintf("serviceAccount:service-%v@gcp-sa-artifactregistry.iam.gserviceaccount.com", projectGetProject.Number),
				pulumi.Sprintf("serviceAccount:service-%v@gs-project-accounts.iam.gserviceaccount.com", projectGetProject.Number),
				pulumi.Sprintf("serviceAccount:service-%v@serverless-robot-prod.iam.gserviceaccount.com", projectGetProject.Number),
				eaSa.Member,
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			eaSa,
		}))
		if err != nil {
			return err
		}
		_, err = artifactregistry.NewRepository(ctx, "encoded-ar-repo", &artifactregistry.RepositoryArgs{
			Location:     pulumi.String("us-central1"),
			RepositoryId: pulumi.String("cmek-repo"),
			Format:       pulumi.String("DOCKER"),
			KmsKeyName:   pulumi.String("cmek-key"),
		}, pulumi.DependsOn([]pulumi.Resource{
			gcfCmekKeyuser,
		}))
		if err != nil {
			return err
		}
		_, err = artifactregistry.NewRepositoryIamBinding(ctx, "binding", &artifactregistry.RepositoryIamBindingArgs{
			Location:   encoded_ar_repo.Location,
			Repository: encoded_ar_repo.Name,
			Role:       pulumi.String("roles/artifactregistry.admin"),
			Members: pulumi.StringArray{
				pulumi.Sprintf("serviceAccount:service-%v@gcf-admin-robot.iam.gserviceaccount.com", projectGetProject.Number),
			},
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("function-cmek"),
			Location:    pulumi.String("us-central1"),
			Description: pulumi.String("CMEK function"),
			KmsKeyName:  pulumi.String("cmek-key"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:          pulumi.String("nodejs16"),
				EntryPoint:       pulumi.String("helloHttp"),
				DockerRepository: encoded_ar_repo.ID(),
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount: pulumi.Int(1),
				AvailableMemory:  pulumi.String("256M"),
				TimeoutSeconds:   pulumi.Int(60),
			},
		}, pulumi.DependsOn([]pulumi.Resource{
			gcfCmekKeyuser,
		}))
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetProjectArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.projects.ServiceIdentity;
import com.pulumi.gcp.projects.ServiceIdentityArgs;
import com.pulumi.gcp.artifactregistry.Repository;
import com.pulumi.gcp.artifactregistry.RepositoryArgs;
import com.pulumi.gcp.kms.CryptoKeyIAMBinding;
import com.pulumi.gcp.kms.CryptoKeyIAMBindingArgs;
import com.pulumi.gcp.artifactregistry.RepositoryIamBinding;
import com.pulumi.gcp.artifactregistry.RepositoryIamBindingArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.resources.CustomResourceOptions;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        final var projectGetProject = OrganizationsFunctions.getProject();

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var eaSa = new ServiceIdentity("eaSa", ServiceIdentityArgs.builder()
            .project(projectGetProject.applyValue(getProjectResult -> getProjectResult.projectId()))
            .service("eventarc.googleapis.com")
            .build());

        var unencoded_ar_repo = new Repository("unencoded-ar-repo", RepositoryArgs.builder()
            .repositoryId("ar-repo")
            .location("us-central1")
            .format("DOCKER")
            .build());

        var gcfCmekKeyuser = new CryptoKeyIAMBinding("gcfCmekKeyuser", CryptoKeyIAMBindingArgs.builder()
            .cryptoKeyId("cmek-key")
            .role("roles/cloudkms.cryptoKeyEncrypterDecrypter")
            .members(            
                String.format("serviceAccount:service-%s@gcf-admin-robot.iam.gserviceaccount.com", projectGetProject.applyValue(getProjectResult -> getProjectResult.number())),
                String.format("serviceAccount:service-%s@gcp-sa-artifactregistry.iam.gserviceaccount.com", projectGetProject.applyValue(getProjectResult -> getProjectResult.number())),
                String.format("serviceAccount:service-%s@gs-project-accounts.iam.gserviceaccount.com", projectGetProject.applyValue(getProjectResult -> getProjectResult.number())),
                String.format("serviceAccount:service-%s@serverless-robot-prod.iam.gserviceaccount.com", projectGetProject.applyValue(getProjectResult -> getProjectResult.number())),
                eaSa.member())
            .build(), CustomResourceOptions.builder()
                .dependsOn(eaSa)
                .build());

        var encoded_ar_repo = new Repository("encoded-ar-repo", RepositoryArgs.builder()
            .location("us-central1")
            .repositoryId("cmek-repo")
            .format("DOCKER")
            .kmsKeyName("cmek-key")
            .build(), CustomResourceOptions.builder()
                .dependsOn(gcfCmekKeyuser)
                .build());

        var binding = new RepositoryIamBinding("binding", RepositoryIamBindingArgs.builder()
            .location(encoded_ar_repo.location())
            .repository(encoded_ar_repo.name())
            .role("roles/artifactregistry.admin")
            .members(String.format("serviceAccount:service-%s@gcf-admin-robot.iam.gserviceaccount.com", projectGetProject.applyValue(getProjectResult -> getProjectResult.number())))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("function-cmek")
            .location("us-central1")
            .description("CMEK function")
            .kmsKeyName("cmek-key")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloHttp")
                .dockerRepository(encoded_ar_repo.id())
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(1)
                .availableMemory("256M")
                .timeoutSeconds(60)
                .build())
            .build(), CustomResourceOptions.builder()
                .dependsOn(gcfCmekKeyuser)
                .build());

    }
}
```
```yaml
resources:
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  eaSa:
    type: gcp:projects:ServiceIdentity
    name: ea_sa
    properties:
      project: ${projectGetProject.projectId}
      service: eventarc.googleapis.com
  unencoded-ar-repo:
    type: gcp:artifactregistry:Repository
    properties:
      repositoryId: ar-repo
      location: us-central1
      format: DOCKER
  binding:
    type: gcp:artifactregistry:RepositoryIamBinding
    properties:
      location: ${["encoded-ar-repo"].location}
      repository: ${["encoded-ar-repo"].name}
      role: roles/artifactregistry.admin
      members:
        - serviceAccount:service-${projectGetProject.number}@gcf-admin-robot.iam.gserviceaccount.com
  gcfCmekKeyuser:
    type: gcp:kms:CryptoKeyIAMBinding
    name: gcf_cmek_keyuser
    properties:
      cryptoKeyId: cmek-key
      role: roles/cloudkms.cryptoKeyEncrypterDecrypter
      members:
        - serviceAccount:service-${projectGetProject.number}@gcf-admin-robot.iam.gserviceaccount.com
        - serviceAccount:service-${projectGetProject.number}@gcp-sa-artifactregistry.iam.gserviceaccount.com
        - serviceAccount:service-${projectGetProject.number}@gs-project-accounts.iam.gserviceaccount.com
        - serviceAccount:service-${projectGetProject.number}@serverless-robot-prod.iam.gserviceaccount.com
        - ${eaSa.member}
    options:
      dependsOn:
        - ${eaSa}
  encoded-ar-repo:
    type: gcp:artifactregistry:Repository
    properties:
      location: us-central1
      repositoryId: cmek-repo
      format: DOCKER
      kmsKeyName: cmek-key
    options:
      dependsOn:
        - ${gcfCmekKeyuser}
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: function-cmek
      location: us-central1
      description: CMEK function
      kmsKeyName: cmek-key
      buildConfig:
        runtime: nodejs16
        entryPoint: helloHttp
        dockerRepository: ${["encoded-ar-repo"].id}
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
      serviceConfig:
        maxInstanceCount: 1
        availableMemory: 256M
        timeoutSeconds: 60
    options:
      dependsOn:
        - ${gcfCmekKeyuser}
variables:
  project: my-project-name
  projectGetProject:
    fn::invoke:
      function: gcp:organizations:getProject
      arguments: {}
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Abiu


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account",
});
const topic = new gcp.pubsub.Topic("topic", {name: "functions2-topic"});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "europe-west6",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloPubSub",
        environmentVariables: {
            BUILD_CONFIG_TEST: "build_test",
        },
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
        automaticUpdatePolicy: {},
    },
    serviceConfig: {
        maxInstanceCount: 3,
        minInstanceCount: 1,
        availableMemory: "4Gi",
        timeoutSeconds: 60,
        maxInstanceRequestConcurrency: 80,
        availableCpu: "4",
        environmentVariables: {
            SERVICE_CONFIG_TEST: "config_test",
        },
        ingressSettings: "ALLOW_INTERNAL_ONLY",
        allTrafficOnLatestRevision: true,
        serviceAccountEmail: account.email,
    },
    eventTrigger: {
        triggerRegion: "us-central1",
        eventType: "google.cloud.pubsub.topic.v1.messagePublished",
        pubsubTopic: topic.id,
        retryPolicy: "RETRY_POLICY_RETRY",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account")
topic = gcp.pubsub.Topic("topic", name="functions2-topic")
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="europe-west6",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloPubSub",
        "environment_variables": {
            "BUILD_CONFIG_TEST": "build_test",
        },
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
        "automatic_update_policy": {},
    },
    service_config={
        "max_instance_count": 3,
        "min_instance_count": 1,
        "available_memory": "4Gi",
        "timeout_seconds": 60,
        "max_instance_request_concurrency": 80,
        "available_cpu": "4",
        "environment_variables": {
            "SERVICE_CONFIG_TEST": "config_test",
        },
        "ingress_settings": "ALLOW_INTERNAL_ONLY",
        "all_traffic_on_latest_revision": True,
        "service_account_email": account.email,
    },
    event_trigger={
        "trigger_region": "us-central1",
        "event_type": "google.cloud.pubsub.topic.v1.messagePublished",
        "pubsub_topic": topic.id,
        "retry_policy": "RETRY_POLICY_RETRY",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account",
    });

    var topic = new Gcp.PubSub.Topic("topic", new()
    {
        Name = "functions2-topic",
    });

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "europe-west6",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloPubSub",
            EnvironmentVariables = 
            {
                { "BUILD_CONFIG_TEST", "build_test" },
            },
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
            AutomaticUpdatePolicy = null,
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 3,
            MinInstanceCount = 1,
            AvailableMemory = "4Gi",
            TimeoutSeconds = 60,
            MaxInstanceRequestConcurrency = 80,
            AvailableCpu = "4",
            EnvironmentVariables = 
            {
                { "SERVICE_CONFIG_TEST", "config_test" },
            },
            IngressSettings = "ALLOW_INTERNAL_ONLY",
            AllTrafficOnLatestRevision = true,
            ServiceAccountEmail = account.Email,
        },
        EventTrigger = new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerArgs
        {
            TriggerRegion = "us-central1",
            EventType = "google.cloud.pubsub.topic.v1.messagePublished",
            PubsubTopic = topic.Id,
            RetryPolicy = "RETRY_POLICY_RETRY",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account"),
		})
		if err != nil {
			return err
		}
		topic, err := pubsub.NewTopic(ctx, "topic", &pubsub.TopicArgs{
			Name: pulumi.String("functions2-topic"),
		})
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("europe-west6"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloPubSub"),
				EnvironmentVariables: pulumi.StringMap{
					"BUILD_CONFIG_TEST": pulumi.String("build_test"),
				},
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
				AutomaticUpdatePolicy: &cloudfunctionsv2.FunctionBuildConfigAutomaticUpdatePolicyArgs{},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount:              pulumi.Int(3),
				MinInstanceCount:              pulumi.Int(1),
				AvailableMemory:               pulumi.String("4Gi"),
				TimeoutSeconds:                pulumi.Int(60),
				MaxInstanceRequestConcurrency: pulumi.Int(80),
				AvailableCpu:                  pulumi.String("4"),
				EnvironmentVariables: pulumi.StringMap{
					"SERVICE_CONFIG_TEST": pulumi.String("config_test"),
				},
				IngressSettings:            pulumi.String("ALLOW_INTERNAL_ONLY"),
				AllTrafficOnLatestRevision: pulumi.Bool(true),
				ServiceAccountEmail:        account.Email,
			},
			EventTrigger: &cloudfunctionsv2.FunctionEventTriggerArgs{
				TriggerRegion: pulumi.String("us-central1"),
				EventType:     pulumi.String("google.cloud.pubsub.topic.v1.messagePublished"),
				PubsubTopic:   topic.ID(),
				RetryPolicy:   pulumi.String("RETRY_POLICY_RETRY"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigAutomaticUpdatePolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionEventTriggerArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account")
            .build());

        var topic = new Topic("topic", TopicArgs.builder()
            .name("functions2-topic")
            .build());

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("europe-west6")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloPubSub")
                .environmentVariables(Map.of("BUILD_CONFIG_TEST", "build_test"))
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .automaticUpdatePolicy()
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(3)
                .minInstanceCount(1)
                .availableMemory("4Gi")
                .timeoutSeconds(60)
                .maxInstanceRequestConcurrency(80)
                .availableCpu("4")
                .environmentVariables(Map.of("SERVICE_CONFIG_TEST", "config_test"))
                .ingressSettings("ALLOW_INTERNAL_ONLY")
                .allTrafficOnLatestRevision(true)
                .serviceAccountEmail(account.email())
                .build())
            .eventTrigger(FunctionEventTriggerArgs.builder()
                .triggerRegion("us-central1")
                .eventType("google.cloud.pubsub.topic.v1.messagePublished")
                .pubsubTopic(topic.id())
                .retryPolicy("RETRY_POLICY_RETRY")
                .build())
            .build());

    }
}
```
```yaml
resources:
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account
  topic:
    type: gcp:pubsub:Topic
    properties:
      name: functions2-topic
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: europe-west6
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloPubSub
        environmentVariables:
          BUILD_CONFIG_TEST: build_test
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
        automaticUpdatePolicy: {}
      serviceConfig:
        maxInstanceCount: 3
        minInstanceCount: 1
        availableMemory: 4Gi
        timeoutSeconds: 60
        maxInstanceRequestConcurrency: 80
        availableCpu: '4'
        environmentVariables:
          SERVICE_CONFIG_TEST: config_test
        ingressSettings: ALLOW_INTERNAL_ONLY
        allTrafficOnLatestRevision: true
        serviceAccountEmail: ${account.email}
      eventTrigger:
        triggerRegion: us-central1
        eventType: google.cloud.pubsub.topic.v1.messagePublished
        pubsubTopic: ${topic.id}
        retryPolicy: RETRY_POLICY_RETRY
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->
### Cloudfunctions2 Abiu On Deploy


<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const project = "my-project-name";
const account = new gcp.serviceaccount.Account("account", {
    accountId: "gcf-sa",
    displayName: "Test Service Account",
});
const topic = new gcp.pubsub.Topic("topic", {name: "functions2-topic"});
const bucket = new gcp.storage.Bucket("bucket", {
    name: `${project}-gcf-source`,
    location: "US",
    uniformBucketLevelAccess: true,
});
const object = new gcp.storage.BucketObject("object", {
    name: "function-source.zip",
    bucket: bucket.name,
    source: new pulumi.asset.FileAsset("function-source.zip"),
});
const _function = new gcp.cloudfunctionsv2.Function("function", {
    name: "gcf-function",
    location: "europe-west6",
    description: "a new function",
    buildConfig: {
        runtime: "nodejs16",
        entryPoint: "helloPubSub",
        environmentVariables: {
            BUILD_CONFIG_TEST: "build_test",
        },
        source: {
            storageSource: {
                bucket: bucket.name,
                object: object.name,
            },
        },
        onDeployUpdatePolicy: {},
    },
    serviceConfig: {
        maxInstanceCount: 3,
        minInstanceCount: 1,
        availableMemory: "4Gi",
        timeoutSeconds: 60,
        maxInstanceRequestConcurrency: 80,
        availableCpu: "4",
        environmentVariables: {
            SERVICE_CONFIG_TEST: "config_test",
        },
        ingressSettings: "ALLOW_INTERNAL_ONLY",
        allTrafficOnLatestRevision: true,
        serviceAccountEmail: account.email,
    },
    eventTrigger: {
        triggerRegion: "us-central1",
        eventType: "google.cloud.pubsub.topic.v1.messagePublished",
        pubsubTopic: topic.id,
        retryPolicy: "RETRY_POLICY_RETRY",
    },
});
```
```python
import pulumi
import pulumi_gcp as gcp

project = "my-project-name"
account = gcp.serviceaccount.Account("account",
    account_id="gcf-sa",
    display_name="Test Service Account")
topic = gcp.pubsub.Topic("topic", name="functions2-topic")
bucket = gcp.storage.Bucket("bucket",
    name=f"{project}-gcf-source",
    location="US",
    uniform_bucket_level_access=True)
object = gcp.storage.BucketObject("object",
    name="function-source.zip",
    bucket=bucket.name,
    source=pulumi.FileAsset("function-source.zip"))
function = gcp.cloudfunctionsv2.Function("function",
    name="gcf-function",
    location="europe-west6",
    description="a new function",
    build_config={
        "runtime": "nodejs16",
        "entry_point": "helloPubSub",
        "environment_variables": {
            "BUILD_CONFIG_TEST": "build_test",
        },
        "source": {
            "storage_source": {
                "bucket": bucket.name,
                "object": object.name,
            },
        },
        "on_deploy_update_policy": {},
    },
    service_config={
        "max_instance_count": 3,
        "min_instance_count": 1,
        "available_memory": "4Gi",
        "timeout_seconds": 60,
        "max_instance_request_concurrency": 80,
        "available_cpu": "4",
        "environment_variables": {
            "SERVICE_CONFIG_TEST": "config_test",
        },
        "ingress_settings": "ALLOW_INTERNAL_ONLY",
        "all_traffic_on_latest_revision": True,
        "service_account_email": account.email,
    },
    event_trigger={
        "trigger_region": "us-central1",
        "event_type": "google.cloud.pubsub.topic.v1.messagePublished",
        "pubsub_topic": topic.id,
        "retry_policy": "RETRY_POLICY_RETRY",
    })
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var project = "my-project-name";

    var account = new Gcp.ServiceAccount.Account("account", new()
    {
        AccountId = "gcf-sa",
        DisplayName = "Test Service Account",
    });

    var topic = new Gcp.PubSub.Topic("topic", new()
    {
        Name = "functions2-topic",
    });

    var bucket = new Gcp.Storage.Bucket("bucket", new()
    {
        Name = $"{project}-gcf-source",
        Location = "US",
        UniformBucketLevelAccess = true,
    });

    var @object = new Gcp.Storage.BucketObject("object", new()
    {
        Name = "function-source.zip",
        Bucket = bucket.Name,
        Source = new FileAsset("function-source.zip"),
    });

    var function = new Gcp.CloudFunctionsV2.Function("function", new()
    {
        Name = "gcf-function",
        Location = "europe-west6",
        Description = "a new function",
        BuildConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigArgs
        {
            Runtime = "nodejs16",
            EntryPoint = "helloPubSub",
            EnvironmentVariables = 
            {
                { "BUILD_CONFIG_TEST", "build_test" },
            },
            Source = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceArgs
            {
                StorageSource = new Gcp.CloudFunctionsV2.Inputs.FunctionBuildConfigSourceStorageSourceArgs
                {
                    Bucket = bucket.Name,
                    Object = @object.Name,
                },
            },
            OnDeployUpdatePolicy = null,
        },
        ServiceConfig = new Gcp.CloudFunctionsV2.Inputs.FunctionServiceConfigArgs
        {
            MaxInstanceCount = 3,
            MinInstanceCount = 1,
            AvailableMemory = "4Gi",
            TimeoutSeconds = 60,
            MaxInstanceRequestConcurrency = 80,
            AvailableCpu = "4",
            EnvironmentVariables = 
            {
                { "SERVICE_CONFIG_TEST", "config_test" },
            },
            IngressSettings = "ALLOW_INTERNAL_ONLY",
            AllTrafficOnLatestRevision = true,
            ServiceAccountEmail = account.Email,
        },
        EventTrigger = new Gcp.CloudFunctionsV2.Inputs.FunctionEventTriggerArgs
        {
            TriggerRegion = "us-central1",
            EventType = "google.cloud.pubsub.topic.v1.messagePublished",
            PubsubTopic = topic.Id,
            RetryPolicy = "RETRY_POLICY_RETRY",
        },
    });

});
```
```go
package main

import (
	"fmt"

	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/pubsub"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/serviceaccount"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/storage"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		project := "my-project-name"
		account, err := serviceaccount.NewAccount(ctx, "account", &serviceaccount.AccountArgs{
			AccountId:   pulumi.String("gcf-sa"),
			DisplayName: pulumi.String("Test Service Account"),
		})
		if err != nil {
			return err
		}
		topic, err := pubsub.NewTopic(ctx, "topic", &pubsub.TopicArgs{
			Name: pulumi.String("functions2-topic"),
		})
		if err != nil {
			return err
		}
		bucket, err := storage.NewBucket(ctx, "bucket", &storage.BucketArgs{
			Name:                     pulumi.Sprintf("%v-gcf-source", project),
			Location:                 pulumi.String("US"),
			UniformBucketLevelAccess: pulumi.Bool(true),
		})
		if err != nil {
			return err
		}
		object, err := storage.NewBucketObject(ctx, "object", &storage.BucketObjectArgs{
			Name:   pulumi.String("function-source.zip"),
			Bucket: bucket.Name,
			Source: pulumi.NewFileAsset("function-source.zip"),
		})
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunction(ctx, "function", &cloudfunctionsv2.FunctionArgs{
			Name:        pulumi.String("gcf-function"),
			Location:    pulumi.String("europe-west6"),
			Description: pulumi.String("a new function"),
			BuildConfig: &cloudfunctionsv2.FunctionBuildConfigArgs{
				Runtime:    pulumi.String("nodejs16"),
				EntryPoint: pulumi.String("helloPubSub"),
				EnvironmentVariables: pulumi.StringMap{
					"BUILD_CONFIG_TEST": pulumi.String("build_test"),
				},
				Source: &cloudfunctionsv2.FunctionBuildConfigSourceArgs{
					StorageSource: &cloudfunctionsv2.FunctionBuildConfigSourceStorageSourceArgs{
						Bucket: bucket.Name,
						Object: object.Name,
					},
				},
				OnDeployUpdatePolicy: &cloudfunctionsv2.FunctionBuildConfigOnDeployUpdatePolicyArgs{},
			},
			ServiceConfig: &cloudfunctionsv2.FunctionServiceConfigArgs{
				MaxInstanceCount:              pulumi.Int(3),
				MinInstanceCount:              pulumi.Int(1),
				AvailableMemory:               pulumi.String("4Gi"),
				TimeoutSeconds:                pulumi.Int(60),
				MaxInstanceRequestConcurrency: pulumi.Int(80),
				AvailableCpu:                  pulumi.String("4"),
				EnvironmentVariables: pulumi.StringMap{
					"SERVICE_CONFIG_TEST": pulumi.String("config_test"),
				},
				IngressSettings:            pulumi.String("ALLOW_INTERNAL_ONLY"),
				AllTrafficOnLatestRevision: pulumi.Bool(true),
				ServiceAccountEmail:        account.Email,
			},
			EventTrigger: &cloudfunctionsv2.FunctionEventTriggerArgs{
				TriggerRegion: pulumi.String("us-central1"),
				EventType:     pulumi.String("google.cloud.pubsub.topic.v1.messagePublished"),
				PubsubTopic:   topic.ID(),
				RetryPolicy:   pulumi.String("RETRY_POLICY_RETRY"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.serviceaccount.Account;
import com.pulumi.gcp.serviceaccount.AccountArgs;
import com.pulumi.gcp.pubsub.Topic;
import com.pulumi.gcp.pubsub.TopicArgs;
import com.pulumi.gcp.storage.Bucket;
import com.pulumi.gcp.storage.BucketArgs;
import com.pulumi.gcp.storage.BucketObject;
import com.pulumi.gcp.storage.BucketObjectArgs;
import com.pulumi.gcp.cloudfunctionsv2.Function;
import com.pulumi.gcp.cloudfunctionsv2.FunctionArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigSourceStorageSourceArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionBuildConfigOnDeployUpdatePolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionServiceConfigArgs;
import com.pulumi.gcp.cloudfunctionsv2.inputs.FunctionEventTriggerArgs;
import com.pulumi.asset.FileAsset;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var project = "my-project-name";

        var account = new Account("account", AccountArgs.builder()
            .accountId("gcf-sa")
            .displayName("Test Service Account")
            .build());

        var topic = new Topic("topic", TopicArgs.builder()
            .name("functions2-topic")
            .build());

        var bucket = new Bucket("bucket", BucketArgs.builder()
            .name(String.format("%s-gcf-source", project))
            .location("US")
            .uniformBucketLevelAccess(true)
            .build());

        var object = new BucketObject("object", BucketObjectArgs.builder()
            .name("function-source.zip")
            .bucket(bucket.name())
            .source(new FileAsset("function-source.zip"))
            .build());

        var function = new Function("function", FunctionArgs.builder()
            .name("gcf-function")
            .location("europe-west6")
            .description("a new function")
            .buildConfig(FunctionBuildConfigArgs.builder()
                .runtime("nodejs16")
                .entryPoint("helloPubSub")
                .environmentVariables(Map.of("BUILD_CONFIG_TEST", "build_test"))
                .source(FunctionBuildConfigSourceArgs.builder()
                    .storageSource(FunctionBuildConfigSourceStorageSourceArgs.builder()
                        .bucket(bucket.name())
                        .object(object.name())
                        .build())
                    .build())
                .onDeployUpdatePolicy()
                .build())
            .serviceConfig(FunctionServiceConfigArgs.builder()
                .maxInstanceCount(3)
                .minInstanceCount(1)
                .availableMemory("4Gi")
                .timeoutSeconds(60)
                .maxInstanceRequestConcurrency(80)
                .availableCpu("4")
                .environmentVariables(Map.of("SERVICE_CONFIG_TEST", "config_test"))
                .ingressSettings("ALLOW_INTERNAL_ONLY")
                .allTrafficOnLatestRevision(true)
                .serviceAccountEmail(account.email())
                .build())
            .eventTrigger(FunctionEventTriggerArgs.builder()
                .triggerRegion("us-central1")
                .eventType("google.cloud.pubsub.topic.v1.messagePublished")
                .pubsubTopic(topic.id())
                .retryPolicy("RETRY_POLICY_RETRY")
                .build())
            .build());

    }
}
```
```yaml
resources:
  account:
    type: gcp:serviceaccount:Account
    properties:
      accountId: gcf-sa
      displayName: Test Service Account
  topic:
    type: gcp:pubsub:Topic
    properties:
      name: functions2-topic
  bucket:
    type: gcp:storage:Bucket
    properties:
      name: ${project}-gcf-source
      location: US
      uniformBucketLevelAccess: true
  object:
    type: gcp:storage:BucketObject
    properties:
      name: function-source.zip
      bucket: ${bucket.name}
      source:
        fn::FileAsset: function-source.zip
  function:
    type: gcp:cloudfunctionsv2:Function
    properties:
      name: gcf-function
      location: europe-west6
      description: a new function
      buildConfig:
        runtime: nodejs16
        entryPoint: helloPubSub
        environmentVariables:
          BUILD_CONFIG_TEST: build_test
        source:
          storageSource:
            bucket: ${bucket.name}
            object: ${object.name}
        onDeployUpdatePolicy: {}
      serviceConfig:
        maxInstanceCount: 3
        minInstanceCount: 1
        availableMemory: 4Gi
        timeoutSeconds: 60
        maxInstanceRequestConcurrency: 80
        availableCpu: '4'
        environmentVariables:
          SERVICE_CONFIG_TEST: config_test
        ingressSettings: ALLOW_INTERNAL_ONLY
        allTrafficOnLatestRevision: true
        serviceAccountEmail: ${account.email}
      eventTrigger:
        triggerRegion: us-central1
        eventType: google.cloud.pubsub.topic.v1.messagePublished
        pubsubTopic: ${topic.id}
        retryPolicy: RETRY_POLICY_RETRY
variables:
  project: my-project-name
```
<!--End PulumiCodeChooser -->

## Import

function can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/functions/{{name}}`

* `{{project}}/{{location}}/{{name}}`

* `{{location}}/{{name}}`

When using the `pulumi import` command, function can be imported using one of the formats above. For example:

```sh
$ pulumi import gcp:cloudfunctionsv2/function:Function default projects/{{project}}/locations/{{location}}/functions/{{name}}
```

```sh
$ pulumi import gcp:cloudfunctionsv2/function:Function default {{project}}/{{location}}/{{name}}
```

```sh
$ pulumi import gcp:cloudfunctionsv2/function:Function default {{location}}/{{name}}
```

ó
buildConfigkBi:g
e
cloudfunctionsv2FunctionBuildConfig<gcp:cloudfunctionsv2/FunctionBuildConfig:FunctionBuildConfigwDescribes the Build step of the function that builds a container
from the given source.
Structure is documented below.
>
descriptionB" )User-provided description of a function.
—
eventTriggernBl:j
h
cloudfunctionsv2FunctionEventTrigger>gcp:cloudfunctionsv2/FunctionEventTrigger:FunctionEventTrigger–An Eventarc trigger managed by Google Cloud Functions that fires events in
response to a condition in another service.
Structure is documented below.
è

kmsKeyNameB" ÓResource name of a KMS crypto key (managed by the user) used to encrypt/decrypt function resources.
It must match the pattern projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{crypto_key}.
ž
labelsB2" ‹A set of key/value label pairs associated with this Cloud Function.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
=
location" -The location of this cloud function.


- - -
“
nameB" „A user-defined name of the function. Function names must
be unique globally and match pattern `projects/*/locations/*/functions/*`.
{
projectB" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
É
serviceConfigqBo:m
k
cloudfunctionsv2FunctionServiceConfig@gcp:cloudfunctionsv2/FunctionServiceConfig:FunctionServiceConfigEDescribes the Service being deployed.
Structure is documented below.
"ó
buildConfigkBi:g
e
cloudfunctionsv2FunctionBuildConfig<gcp:cloudfunctionsv2/FunctionBuildConfig:FunctionBuildConfigwDescribes the Build step of the function that builds a container
from the given source.
Structure is documented below.
">
descriptionB" )User-provided description of a function.
"¦
effectiveLabels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
">
environment" +The environment the function is hosted on.
"—
eventTriggernBl:j
h
cloudfunctionsv2FunctionEventTrigger>gcp:cloudfunctionsv2/FunctionEventTrigger:FunctionEventTrigger–An Eventarc trigger managed by Google Cloud Functions that fires events in
response to a condition in another service.
Structure is documented below.
"è

kmsKeyNameB" ÓResource name of a KMS crypto key (managed by the user) used to encrypt/decrypt function resources.
It must match the pattern projects/{project}/locations/{location}/keyRings/{key_ring}/cryptoKeys/{crypto_key}.
"ž
labelsB2" ‹A set of key/value label pairs associated with this Cloud Function.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field `effective_labels` for all of the labels present on the resource.
"=
location" -The location of this cloud function.


- - -
"‘
name" „A user-defined name of the function. Function names must
be unique globally and match pattern `projects/*/locations/*/functions/*`.
"y
project" jThe ID of the project in which the resource belongs.
If it is not provided, the provider project is used.
"ƒ
pulumiLabels2" mThe combination of labels configured directly on the resource
and default labels configured on the provider.
"É
serviceConfigqBo:m
k
cloudfunctionsv2FunctionServiceConfig@gcp:cloudfunctionsv2/FunctionServiceConfig:FunctionServiceConfigEDescribes the Service being deployed.
Structure is documented below.
":
state" -Describes the current state of the function.
"A

updateTime" /The last update timestamp of a Cloud Function.
";
url" 0Output only. The deployed url for the function.
*ýç
b
cloudfunctionsv2FunctionIamBinding:gcp:cloudfunctionsv2/functionIamBinding:FunctionIamBindingØÂThree different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions (2nd gen) function
Three different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}

* {{project}}/{{location}}/{{cloud_function}}

* {{location}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions (2nd gen) function IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamBinding:FunctionIamBinding editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamBinding:FunctionIamBinding editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamBinding:FunctionIamBinding editor projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
’
	condition„B:
}
cloudfunctionsv2FunctionIamBindingConditionLgcp:cloudfunctionsv2/FunctionIamBindingCondition:FunctionIamBindingConditionÊ
locationB" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
à
role" ÓThe role that should be applied. Only one
`gcp.cloudfunctionsv2.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"’
	condition„B:
}
cloudfunctionsv2FunctionIamBindingConditionLgcp:cloudfunctionsv2/FunctionIamBindingCondition:FunctionIamBindingCondition"3
etag" '(Computed) The etag of the IAM policy.
"È
location" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ö	
members*" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"à
role" ÓThe role that should be applied. Only one
`gcp.cloudfunctionsv2.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*æç
_
cloudfunctionsv2FunctionIamMember8gcp:cloudfunctionsv2/functionIamMember:FunctionIamMemberÒÂThree different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions (2nd gen) function
Three different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}

* {{project}}/{{location}}/{{cloud_function}}

* {{location}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions (2nd gen) function IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamMember:FunctionIamMember editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamMember:FunctionIamMember editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamMember:FunctionIamMember editor projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
Ž
	condition€B~:|
z
cloudfunctionsv2FunctionIamMemberConditionJgcp:cloudfunctionsv2/FunctionIamMemberCondition:FunctionIamMemberConditionÊ
locationB" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
à
role" ÓThe role that should be applied. Only one
`gcp.cloudfunctionsv2.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"Ž
	condition€B~:|
z
cloudfunctionsv2FunctionIamMemberConditionJgcp:cloudfunctionsv2/FunctionIamMemberCondition:FunctionIamMemberCondition"3
etag" '(Computed) The etag of the IAM policy.
"È
location" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"Ó	
member" Ä	Identities that will be granted the privilege in `role`.
Each entry can have one of the following values:
* **allUsers**: A special identifier that represents anyone who is on the internet; with or without a Google account.
* **allAuthenticatedUsers**: A special identifier that represents anyone who is authenticated with a Google account or a service account.
* **user:{emailid}**: An email address that represents a specific Google account. For example, alice@gmail.com or joe@example.com.
* **serviceAccount:{emailid}**: An email address that represents a service account. For example, my-other-app@appspot.gserviceaccount.com.
* **group:{emailid}**: An email address that represents a Google group. For example, admins@example.com.
* **domain:{domain}**: A G Suite domain (primary, instead of alias) name that represents all the users of that domain. For example, google.com or example.com.
* **projectOwner:projectid**: Owners of the given project. For example, "projectOwner:my-example-project"
* **projectEditor:projectid**: Editors of the given project. For example, "projectEditor:my-example-project"
* **projectViewer:projectid**: Viewers of the given project. For example, "projectViewer:my-example-project"
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"à
role" ÓThe role that should be applied. Only one
`gcp.cloudfunctionsv2.FunctionIamBinding` can be used per role. Note that custom roles must be of the format
`[projects|organizations]/{parent-name}/roles/{role-name}`.
*”Ð
_
cloudfunctionsv2FunctionIamPolicy8gcp:cloudfunctionsv2/functionIamPolicy:FunctionIamPolicyÒÂThree different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->


## This resource supports User Project Overrides.

-

# IAM policy for Cloud Functions (2nd gen) function
Three different resources help you manage your IAM policy for Cloud Functions (2nd gen) function. Each of these resources serves a different use case:

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Authoritative. Sets the IAM policy for the function and replaces any existing policy already attached.
* `gcp.cloudfunctionsv2.FunctionIamBinding`: Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the function are preserved.
* `gcp.cloudfunctionsv2.FunctionIamMember`: Non-authoritative. Updates the IAM policy to grant a role to a new member. Other members for the role for the function are preserved.

A data source can be used to retrieve policy data in advent you do not need creation

* `gcp.cloudfunctionsv2.FunctionIamPolicy`: Retrieves the IAM policy for the function

> **Note:** `gcp.cloudfunctionsv2.FunctionIamPolicy` **cannot** be used in conjunction with `gcp.cloudfunctionsv2.FunctionIamBinding` and `gcp.cloudfunctionsv2.FunctionIamMember` or they will fight over what your policy should be.

> **Note:** `gcp.cloudfunctionsv2.FunctionIamBinding` resources **can be** used in conjunction with `gcp.cloudfunctionsv2.FunctionIamMember` resources **only if** they do not grant privilege to the same role.



## gcp.cloudfunctionsv2.FunctionIamPolicy

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const admin = gcp.organizations.getIAMPolicy({
    bindings: [{
        role: "roles/viewer",
        members: ["user:jane@example.com"],
    }],
});
const policy = new gcp.cloudfunctionsv2.FunctionIamPolicy("policy", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    policyData: admin.then(admin => admin.policyData),
});
```
```python
import pulumi
import pulumi_gcp as gcp

admin = gcp.organizations.get_iam_policy(bindings=[{
    "role": "roles/viewer",
    "members": ["user:jane@example.com"],
}])
policy = gcp.cloudfunctionsv2.FunctionIamPolicy("policy",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    policy_data=admin.policy_data)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var admin = Gcp.Organizations.GetIAMPolicy.Invoke(new()
    {
        Bindings = new[]
        {
            new Gcp.Organizations.Inputs.GetIAMPolicyBindingInputArgs
            {
                Role = "roles/viewer",
                Members = new[]
                {
                    "user:jane@example.com",
                },
            },
        },
    });

    var policy = new Gcp.CloudFunctionsV2.FunctionIamPolicy("policy", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        PolicyData = admin.Apply(getIAMPolicyResult => getIAMPolicyResult.PolicyData),
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/organizations"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		admin, err := organizations.LookupIAMPolicy(ctx, &organizations.LookupIAMPolicyArgs{
			Bindings: []organizations.GetIAMPolicyBinding{
				{
					Role: "roles/viewer",
					Members: []string{
						"user:jane@example.com",
					},
				},
			},
		}, nil)
		if err != nil {
			return err
		}
		_, err = cloudfunctionsv2.NewFunctionIamPolicy(ctx, "policy", &cloudfunctionsv2.FunctionIamPolicyArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			PolicyData:    pulumi.String(admin.PolicyData),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.organizations.OrganizationsFunctions;
import com.pulumi.gcp.organizations.inputs.GetIAMPolicyArgs;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicy;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var admin = OrganizationsFunctions.getIAMPolicy(GetIAMPolicyArgs.builder()
            .bindings(GetIAMPolicyBindingArgs.builder()
                .role("roles/viewer")
                .members("user:jane@example.com")
                .build())
            .build());

        var policy = new FunctionIamPolicy("policy", FunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .policyData(admin.applyValue(getIAMPolicyResult -> getIAMPolicyResult.policyData()))
            .build());

    }
}
```
```yaml
resources:
  policy:
    type: gcp:cloudfunctionsv2:FunctionIamPolicy
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      policyData: ${admin.policyData}
variables:
  admin:
    fn::invoke:
      function: gcp:organizations:getIAMPolicy
      arguments:
        bindings:
          - role: roles/viewer
            members:
              - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamBinding

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const binding = new gcp.cloudfunctionsv2.FunctionIamBinding("binding", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    members: ["user:jane@example.com"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

binding = gcp.cloudfunctionsv2.FunctionIamBinding("binding",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    members=["user:jane@example.com"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var binding = new Gcp.CloudFunctionsV2.FunctionIamBinding("binding", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Members = new[]
        {
            "user:jane@example.com",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamBinding(ctx, "binding", &cloudfunctionsv2.FunctionIamBindingArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Members: pulumi.StringArray{
				pulumi.String("user:jane@example.com"),
			},
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBinding;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamBindingArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var binding = new FunctionIamBinding("binding", FunctionIamBindingArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .members("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  binding:
    type: gcp:cloudfunctionsv2:FunctionIamBinding
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      members:
        - user:jane@example.com
```
<!--End PulumiCodeChooser -->

## gcp.cloudfunctionsv2.FunctionIamMember

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const member = new gcp.cloudfunctionsv2.FunctionIamMember("member", {
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
    role: "roles/viewer",
    member: "user:jane@example.com",
});
```
```python
import pulumi
import pulumi_gcp as gcp

member = gcp.cloudfunctionsv2.FunctionIamMember("member",
    project=function["project"],
    location=function["location"],
    cloud_function=function["name"],
    role="roles/viewer",
    member="user:jane@example.com")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var member = new Gcp.CloudFunctionsV2.FunctionIamMember("member", new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
        Role = "roles/viewer",
        Member = "user:jane@example.com",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.NewFunctionIamMember(ctx, "member", &cloudfunctionsv2.FunctionIamMemberArgs{
			Project:       pulumi.Any(function.Project),
			Location:      pulumi.Any(function.Location),
			CloudFunction: pulumi.Any(function.Name),
			Role:          pulumi.String("roles/viewer"),
			Member:        pulumi.String("user:jane@example.com"),
		})
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMember;
import com.pulumi.gcp.cloudfunctionsv2.FunctionIamMemberArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        var member = new FunctionIamMember("member", FunctionIamMemberArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .role("roles/viewer")
            .member("user:jane@example.com")
            .build());

    }
}
```
```yaml
resources:
  member:
    type: gcp:cloudfunctionsv2:FunctionIamMember
    properties:
      project: ${function.project}
      location: ${function.location}
      cloudFunction: ${function.name}
      role: roles/viewer
      member: user:jane@example.com
```
<!--End PulumiCodeChooser -->

## Import

For all import syntaxes, the "resource in question" can take any of the following forms:

* projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}

* {{project}}/{{location}}/{{cloud_function}}

* {{location}}/{{cloud_function}}

* {{cloud_function}}

Any variables not passed in the import command will be taken from the provider configuration.

Cloud Functions (2nd gen) function IAM resources can be imported using the resource identifiers, role, and member.

IAM member imports use space-delimited identifiers: the resource in question, the role, and the member identity, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamPolicy:FunctionIamPolicy editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer user:jane@example.com"
```

IAM binding imports use space-delimited identifiers: the resource in question and the role, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamPolicy:FunctionIamPolicy editor "projects/{{project}}/locations/{{location}}/functions/{{cloud_function}} roles/viewer"
```

IAM policy imports use the identifier of the resource in question, e.g.

```sh
$ pulumi import gcp:cloudfunctionsv2/functionIamPolicy:FunctionIamPolicy editor projects/{{project}}/locations/{{location}}/functions/{{cloud_function}}
```

-> **Custom Roles** If you're importing a IAM resource with a custom role, make sure to use the

 full name of the custom role, e.g. `[projects/my-project|organizations/my-org]/roles/my-custom-role`.

P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
Ê
locationB" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
"3
etag" '(Computed) The etag of the IAM policy.
"È
location" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
"_

policyData" MThe policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"‘
project" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
2#
X
certificateauthoritygetAuthority2gcp:certificateauthority/getAuthority:getAuthorityšGet info about a Google CAS Certificate Authority.

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const default = gcp.certificateauthority.getAuthority({
    location: "us-west1",
    pool: "pool-name",
    certificateAuthorityId: "ca-id",
});
export const csr = _default.then(_default => _default.pemCsr);
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificateauthority.get_authority(location="us-west1",
    pool="pool-name",
    certificate_authority_id="ca-id")
pulumi.export("csr", default.pem_csr)
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = Gcp.CertificateAuthority.GetAuthority.Invoke(new()
    {
        Location = "us-west1",
        Pool = "pool-name",
        CertificateAuthorityId = "ca-id",
    });

    return new Dictionary<string, object?>
    {
        ["csr"] = @default.Apply(@default => @default.Apply(getAuthorityResult => getAuthorityResult.PemCsr)),
    };
});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_default, err := certificateauthority.LookupAuthority(ctx, &certificateauthority.LookupAuthorityArgs{
			Location:               pulumi.StringRef("us-west1"),
			Pool:                   pulumi.StringRef("pool-name"),
			CertificateAuthorityId: pulumi.StringRef("ca-id"),
		}, nil)
		if err != nil {
			return err
		}
		ctx.Export("csr", _default.PemCsr)
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateauthorityFunctions;
import com.pulumi.gcp.certificateauthority.inputs.GetAuthorityArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var default = CertificateauthorityFunctions.getAuthority(GetAuthorityArgs.builder()
            .location("us-west1")
            .pool("pool-name")
            .certificateAuthorityId("ca-id")
            .build());

        ctx.export("csr", default_.pemCsr());
    }
}
```
```yaml
variables:
  default:
    fn::invoke:
      function: gcp:certificateauthority:getAuthority
      arguments:
        location: us-west1
        pool: pool-name
        certificateAuthorityId: ca-id
outputs:
  csr: ${default.pemCsr}
```
<!--End PulumiCodeChooser -->
H
certificateAuthorityIdB" (ID of the certificate authority.

- - -
D
locationB" 2The location the certificate authority exists in.
I
poolB" ;The name of the pool the certificate authority belongs to.
{
projectB" jThe ID of the project in which the resource belongs. If it
is not provided, the provider project is used.
"‡

accessUrlsy*w:u
s
certificateauthoritygetAuthorityAccessUrlDgcp:certificateauthority/getAuthorityAccessUrl:getAuthorityAccessUrl"
certificateAuthorityIdB" "{
configsp*n:l
j
certificateauthoritygetAuthorityConfig>gcp:certificateauthority/getAuthorityConfig:getAuthorityConfig"

createTime" "
deletionProtection
 "
desiredState" "
effectiveLabels2" "
	gcsBucket" "E
id" ;The provider-assigned unique ID for this managed resource.
"(
"ignoreActiveCertificatesOnDeletion
 "
keySpecss*q:o
m
certificateauthoritygetAuthorityKeySpec@gcp:certificateauthority/getAuthorityKeySpec:getAuthorityKeySpec"
labels2" "
lifetime" "
locationB" "

name" "
pemCaCertificate" "
pemCaCertificates*" "¤
pemCsr" •The PEM-encoded signed certificate signing request (CSR). This is only set on subordinate certificate authorities that are awaiting user activation.
"
poolB" "
projectB" "
pulumiLabels2" "
skipGracePeriod
 "
state" "«
subordinateConfigs”*‘:Ž
‹
certificateauthoritygetAuthoritySubordinateConfigTgcp:certificateauthority/getAuthoritySubordinateConfig:getAuthoritySubordinateConfig"

type" "

updateTime" 2
j
certificateauthoritygetCaPoolIamPolicy>gcp:certificateauthority/getCaPoolIamPolicy:getCaPoolIamPolicyéRetrieves the current IAM policy data for capool


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.certificateauthority.getCaPoolIamPolicy({
    caPool: _default.id,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.certificateauthority.get_ca_pool_iam_policy(ca_pool=default["id"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CertificateAuthority.GetCaPoolIamPolicy.Invoke(new()
    {
        CaPool = @default.Id,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.LookupCaPoolIamPolicy(ctx, &certificateauthority.LookupCaPoolIamPolicyArgs{
			CaPool: _default.Id,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateauthorityFunctions;
import com.pulumi.gcp.certificateauthority.inputs.GetCaPoolIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = CertificateauthorityFunctions.getCaPoolIamPolicy(GetCaPoolIamPolicyArgs.builder()
            .caPool(default_.id())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:certificateauthority:getCaPoolIamPolicy
      arguments:
        caPool: ${default.id}
```
<!--End PulumiCodeChooser -->
I
caPool" ;Used to find the parent resource to bind the IAM policy to
—
locationB" „Location of the CaPool. A full list of valid locations can be found by
running `gcloud privateca locations list`.
Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"
caPool" "3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "ž

policyData" ‹(Required only by `gcp.certificateauthority.CaPoolIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2è
‘
certificateauthoritygetCertificateTemplateIamPolicyXgcp:certificateauthority/getCertificateTemplateIamPolicy:getCertificateTemplateIamPolicy¹Retrieves the current IAM policy data for certificatetemplate


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.certificateauthority.getCertificateTemplateIamPolicy({
    certificateTemplate: _default.id,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.certificateauthority.get_certificate_template_iam_policy(certificate_template=default["id"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CertificateAuthority.GetCertificateTemplateIamPolicy.Invoke(new()
    {
        CertificateTemplate = @default.Id,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificateauthority"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificateauthority.LookupCertificateTemplateIamPolicy(ctx, &certificateauthority.LookupCertificateTemplateIamPolicyArgs{
			CertificateTemplate: _default.Id,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificateauthority.CertificateauthorityFunctions;
import com.pulumi.gcp.certificateauthority.inputs.GetCertificateTemplateIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = CertificateauthorityFunctions.getCertificateTemplateIamPolicy(GetCertificateTemplateIamPolicyArgs.builder()
            .certificateTemplate(default_.id())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:certificateauthority:getCertificateTemplateIamPolicy
      arguments:
        certificateTemplate: ${default.id}
```
<!--End PulumiCodeChooser -->
V
certificateTemplate" ;Used to find the parent resource to bind the IAM policy to
Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"
certificateTemplate" "3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "«

policyData" ˜(Required only by `gcp.certificateauthority.CertificateTemplateIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2Ù
c
certificatemanagergetCertificateMap:gcp:certificatemanager/getCertificateMap:getCertificateMapÇGet info about a Google Certificate Manager Certificate Map resource.

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const default = gcp.certificatemanager.getCertificateMap({
    name: "cert-map",
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.get_certificate_map(name="cert-map")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = Gcp.CertificateManager.GetCertificateMap.Invoke(new()
    {
        Name = "cert-map",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.GetCertificateMap(ctx, &certificatemanager.GetCertificateMapArgs{
			Name: "cert-map",
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.CertificatemanagerFunctions;
import com.pulumi.gcp.certificatemanager.inputs.GetCertificateMapArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var default = CertificatemanagerFunctions.getCertificateMap(GetCertificateMapArgs.builder()
            .name("cert-map")
            .build());

    }
}
```
```yaml
variables:
  default:
    fn::invoke:
      function: gcp:certificatemanager:getCertificateMap
      arguments:
        name: cert-map
```
<!--End PulumiCodeChooser -->
4
name" (The name of the certificate map.

- - -
{
projectB" jThe ID of the project in which the resource belongs. If it
is not provided, the provider project is used.
"

createTime" "
description" "
effectiveLabels2" "š
gclbTargetsŠ*‡:„

certificatemanagergetCertificateMapGclbTargetNgcp:certificatemanager/getCertificateMapGclbTarget:getCertificateMapGclbTarget"E
id" ;The provider-assigned unique ID for this managed resource.
"
labels2" "

name" "
projectB" "
pulumiLabels2" "

updateTime" 2¥$
]
certificatemanagergetCertificates6gcp:certificatemanager/getCertificates:getCertificates’ List all certificates within Google Certificate Manager for a given project, region or filter.

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const default = gcp.certificatemanager.getCertificates({});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.get_certificates()
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = Gcp.CertificateManager.GetCertificates.Invoke();

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.GetCertificates(ctx, &certificatemanager.GetCertificatesArgs{}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.CertificatemanagerFunctions;
import com.pulumi.gcp.certificatemanager.inputs.GetCertificatesArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var default = CertificatemanagerFunctions.getCertificates();

    }
}
```
```yaml
variables:
  default:
    fn::invoke:
      function: gcp:certificatemanager:getCertificates
      arguments: {}
```
<!--End PulumiCodeChooser -->

### With A Filter

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const default = gcp.certificatemanager.getCertificates({
    filter: "name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*",
});
```
```python
import pulumi
import pulumi_gcp as gcp

default = gcp.certificatemanager.get_certificates(filter="name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var @default = Gcp.CertificateManager.GetCertificates.Invoke(new()
    {
        Filter = "name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/certificatemanager"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := certificatemanager.GetCertificates(ctx, &certificatemanager.GetCertificatesArgs{
			Filter: pulumi.StringRef("name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.certificatemanager.CertificatemanagerFunctions;
import com.pulumi.gcp.certificatemanager.inputs.GetCertificatesArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var default = CertificatemanagerFunctions.getCertificates(GetCertificatesArgs.builder()
            .filter("name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*")
            .build());

    }
}
```
```yaml
variables:
  default:
    fn::invoke:
      function: gcp:certificatemanager:getCertificates
      arguments:
        filter: name:projects/PROJECT_ID/locations/REGION/certificates/certificate-name-*
```
<!--End PulumiCodeChooser -->
I
filterB" 9Filter expression to restrict the certificates returned.
c
regionB" SThe region in which the resource belongs. If it is not provided, `GLOBAL` is used.
"—
certificates†*ƒ:€
~
certificatemanagergetCertificatesCertificateLgcp:certificatemanager/getCertificatesCertificate:getCertificatesCertificate"
filterB" "E
id" ;The provider-assigned unique ID for this managed resource.
"
regionB" 2£G
_

cloudassetgetResourcesSearchAll:gcp:cloudasset/getResourcesSearchAll:getResourcesSearchAllì=## Example Usage

### Searching For All Projects In An Org

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const projects = gcp.cloudasset.getResourcesSearchAll({
    scope: "organizations/0123456789",
    assetTypes: ["cloudresourcemanager.googleapis.com/Project"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

projects = gcp.cloudasset.get_resources_search_all(scope="organizations/0123456789",
    asset_types=["cloudresourcemanager.googleapis.com/Project"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var projects = Gcp.CloudAsset.GetResourcesSearchAll.Invoke(new()
    {
        Scope = "organizations/0123456789",
        AssetTypes = new[]
        {
            "cloudresourcemanager.googleapis.com/Project",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupResourcesSearchAll(ctx, &cloudasset.LookupResourcesSearchAllArgs{
			Scope: "organizations/0123456789",
			AssetTypes: []string{
				"cloudresourcemanager.googleapis.com/Project",
			},
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetResourcesSearchAllArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var projects = CloudassetFunctions.getResourcesSearchAll(GetResourcesSearchAllArgs.builder()
            .scope("organizations/0123456789")
            .assetTypes("cloudresourcemanager.googleapis.com/Project")
            .build());

    }
}
```
```yaml
variables:
  projects:
    fn::invoke:
      function: gcp:cloudasset:getResourcesSearchAll
      arguments:
        scope: organizations/0123456789
        assetTypes:
          - cloudresourcemanager.googleapis.com/Project
```
<!--End PulumiCodeChooser -->

### Searching For All Projects With CloudBuild API Enabled

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const cloudBuildProjects = gcp.cloudasset.getResourcesSearchAll({
    scope: "organizations/0123456789",
    assetTypes: ["serviceusage.googleapis.com/Service"],
    query: "displayName:cloudbuild.googleapis.com AND state:ENABLED",
});
```
```python
import pulumi
import pulumi_gcp as gcp

cloud_build_projects = gcp.cloudasset.get_resources_search_all(scope="organizations/0123456789",
    asset_types=["serviceusage.googleapis.com/Service"],
    query="displayName:cloudbuild.googleapis.com AND state:ENABLED")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var cloudBuildProjects = Gcp.CloudAsset.GetResourcesSearchAll.Invoke(new()
    {
        Scope = "organizations/0123456789",
        AssetTypes = new[]
        {
            "serviceusage.googleapis.com/Service",
        },
        Query = "displayName:cloudbuild.googleapis.com AND state:ENABLED",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupResourcesSearchAll(ctx, &cloudasset.LookupResourcesSearchAllArgs{
			Scope: "organizations/0123456789",
			AssetTypes: []string{
				"serviceusage.googleapis.com/Service",
			},
			Query: pulumi.StringRef("displayName:cloudbuild.googleapis.com AND state:ENABLED"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetResourcesSearchAllArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var cloudBuildProjects = CloudassetFunctions.getResourcesSearchAll(GetResourcesSearchAllArgs.builder()
            .scope("organizations/0123456789")
            .assetTypes("serviceusage.googleapis.com/Service")
            .query("displayName:cloudbuild.googleapis.com AND state:ENABLED")
            .build());

    }
}
```
```yaml
variables:
  cloudBuildProjects:
    fn::invoke:
      function: gcp:cloudasset:getResourcesSearchAll
      arguments:
        scope: organizations/0123456789
        assetTypes:
          - serviceusage.googleapis.com/Service
        query: displayName:cloudbuild.googleapis.com AND state:ENABLED
```
<!--End PulumiCodeChooser -->

### Searching For All Service Accounts In A Project

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const projectServiceAccounts = gcp.cloudasset.getResourcesSearchAll({
    scope: "projects/my-project-id",
    assetTypes: ["iam.googleapis.com/ServiceAccount"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project_service_accounts = gcp.cloudasset.get_resources_search_all(scope="projects/my-project-id",
    asset_types=["iam.googleapis.com/ServiceAccount"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var projectServiceAccounts = Gcp.CloudAsset.GetResourcesSearchAll.Invoke(new()
    {
        Scope = "projects/my-project-id",
        AssetTypes = new[]
        {
            "iam.googleapis.com/ServiceAccount",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupResourcesSearchAll(ctx, &cloudasset.LookupResourcesSearchAllArgs{
			Scope: "projects/my-project-id",
			AssetTypes: []string{
				"iam.googleapis.com/ServiceAccount",
			},
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetResourcesSearchAllArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var projectServiceAccounts = CloudassetFunctions.getResourcesSearchAll(GetResourcesSearchAllArgs.builder()
            .scope("projects/my-project-id")
            .assetTypes("iam.googleapis.com/ServiceAccount")
            .build());

    }
}
```
```yaml
variables:
  projectServiceAccounts:
    fn::invoke:
      function: gcp:cloudasset:getResourcesSearchAll
      arguments:
        scope: projects/my-project-id
        assetTypes:
          - iam.googleapis.com/ServiceAccount
```
<!--End PulumiCodeChooser -->
Ì

assetTypesB*" µA list of asset types that this request searches for. If empty, it will search all the [supported asset types](https://cloud.google.com/asset-inventory/docs/supported-asset-types).
¢
queryB" ’The query statement. See [how to construct a query](https://cloud.google.com/asset-inventory/docs/searching-resources#how_to_construct_a_query) for more information. If not specified or empty, it will search all the resources within the specified `scope` and `asset_types`.

scope" ÿA scope can be a project, a folder, or an organization. The allowed value must be: organization number (such as "organizations/123"), folder number (such as "folders/1234"), project number (such as "projects/12345") or project id (such as "projects/abc")
"

assetTypesB*" "E
id" ;The provider-assigned unique ID for this managed resource.
"
queryB" "Ó
resultsw*u:s
q

cloudassetgetResourcesSearchAllResultFgcp:cloudasset/getResourcesSearchAllResult:getResourcesSearchAllResultOA list of search results based on provided inputs. Structure is defined below.
"
scope" 2ËI
_

cloudassetgetSearchAllResources:gcp:cloudasset/getSearchAllResources:getSearchAllResourcesÛ?Searches all Google Cloud resources within the specified scope, such as a project, folder, or organization. See the
[REST API](https://cloud.google.com/asset-inventory/docs/reference/rest/v1/TopLevel/searchAllResources)
for more details.

## Example Usage

### Searching For All Projects In An Org

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const projects = gcp.cloudasset.getSearchAllResources({
    scope: "organizations/0123456789",
    assetTypes: ["cloudresourcemanager.googleapis.com/Project"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

projects = gcp.cloudasset.get_search_all_resources(scope="organizations/0123456789",
    asset_types=["cloudresourcemanager.googleapis.com/Project"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var projects = Gcp.CloudAsset.GetSearchAllResources.Invoke(new()
    {
        Scope = "organizations/0123456789",
        AssetTypes = new[]
        {
            "cloudresourcemanager.googleapis.com/Project",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupSearchAllResources(ctx, &cloudasset.LookupSearchAllResourcesArgs{
			Scope: "organizations/0123456789",
			AssetTypes: []string{
				"cloudresourcemanager.googleapis.com/Project",
			},
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetSearchAllResourcesArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var projects = CloudassetFunctions.getSearchAllResources(GetSearchAllResourcesArgs.builder()
            .scope("organizations/0123456789")
            .assetTypes("cloudresourcemanager.googleapis.com/Project")
            .build());

    }
}
```
```yaml
variables:
  projects:
    fn::invoke:
      function: gcp:cloudasset:getSearchAllResources
      arguments:
        scope: organizations/0123456789
        assetTypes:
          - cloudresourcemanager.googleapis.com/Project
```
<!--End PulumiCodeChooser -->

### Searching For All Projects With CloudBuild API Enabled

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const cloudBuildProjects = gcp.cloudasset.getSearchAllResources({
    scope: "organizations/0123456789",
    assetTypes: ["serviceusage.googleapis.com/Service"],
    query: "displayName:cloudbuild.googleapis.com AND state:ENABLED",
});
```
```python
import pulumi
import pulumi_gcp as gcp

cloud_build_projects = gcp.cloudasset.get_search_all_resources(scope="organizations/0123456789",
    asset_types=["serviceusage.googleapis.com/Service"],
    query="displayName:cloudbuild.googleapis.com AND state:ENABLED")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var cloudBuildProjects = Gcp.CloudAsset.GetSearchAllResources.Invoke(new()
    {
        Scope = "organizations/0123456789",
        AssetTypes = new[]
        {
            "serviceusage.googleapis.com/Service",
        },
        Query = "displayName:cloudbuild.googleapis.com AND state:ENABLED",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupSearchAllResources(ctx, &cloudasset.LookupSearchAllResourcesArgs{
			Scope: "organizations/0123456789",
			AssetTypes: []string{
				"serviceusage.googleapis.com/Service",
			},
			Query: pulumi.StringRef("displayName:cloudbuild.googleapis.com AND state:ENABLED"),
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetSearchAllResourcesArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var cloudBuildProjects = CloudassetFunctions.getSearchAllResources(GetSearchAllResourcesArgs.builder()
            .scope("organizations/0123456789")
            .assetTypes("serviceusage.googleapis.com/Service")
            .query("displayName:cloudbuild.googleapis.com AND state:ENABLED")
            .build());

    }
}
```
```yaml
variables:
  cloudBuildProjects:
    fn::invoke:
      function: gcp:cloudasset:getSearchAllResources
      arguments:
        scope: organizations/0123456789
        assetTypes:
          - serviceusage.googleapis.com/Service
        query: displayName:cloudbuild.googleapis.com AND state:ENABLED
```
<!--End PulumiCodeChooser -->

### Searching For All Service Accounts In A Project

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const projectServiceAccounts = gcp.cloudasset.getSearchAllResources({
    scope: "projects/my-project-id",
    assetTypes: ["iam.googleapis.com/ServiceAccount"],
});
```
```python
import pulumi
import pulumi_gcp as gcp

project_service_accounts = gcp.cloudasset.get_search_all_resources(scope="projects/my-project-id",
    asset_types=["iam.googleapis.com/ServiceAccount"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var projectServiceAccounts = Gcp.CloudAsset.GetSearchAllResources.Invoke(new()
    {
        Scope = "projects/my-project-id",
        AssetTypes = new[]
        {
            "iam.googleapis.com/ServiceAccount",
        },
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudasset"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudasset.LookupSearchAllResources(ctx, &cloudasset.LookupSearchAllResourcesArgs{
			Scope: "projects/my-project-id",
			AssetTypes: []string{
				"iam.googleapis.com/ServiceAccount",
			},
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudasset.CloudassetFunctions;
import com.pulumi.gcp.cloudasset.inputs.GetSearchAllResourcesArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var projectServiceAccounts = CloudassetFunctions.getSearchAllResources(GetSearchAllResourcesArgs.builder()
            .scope("projects/my-project-id")
            .assetTypes("iam.googleapis.com/ServiceAccount")
            .build());

    }
}
```
```yaml
variables:
  projectServiceAccounts:
    fn::invoke:
      function: gcp:cloudasset:getSearchAllResources
      arguments:
        scope: projects/my-project-id
        assetTypes:
          - iam.googleapis.com/ServiceAccount
```
<!--End PulumiCodeChooser -->
Ì

assetTypesB*" µA list of asset types that this request searches for. If empty, it will search all the [supported asset types](https://cloud.google.com/asset-inventory/docs/supported-asset-types).
¢
queryB" ’The query statement. See [how to construct a query](https://cloud.google.com/asset-inventory/docs/searching-resources#how_to_construct_a_query) for more information. If not specified or empty, it will search all the resources within the specified `scope` and `asset_types`.
Æ
scope" ¸A scope can be a project, a folder, or an organization. The search is limited to the resources within the scope. The allowed value must be: organization number (such as "organizations/123"), folder number (such as "folders/1234"), project number (such as "projects/12345") or project id (such as "projects/abc")
"

assetTypesB*" "E
id" ;The provider-assigned unique ID for this managed resource.
"
queryB" "Ó
resultsw*u:s
q

cloudassetgetSearchAllResourcesResultFgcp:cloudasset/getSearchAllResourcesResult:getSearchAllResourcesResultOA list of search results based on provided inputs. Structure is defined below.
"
scope" 2±$
>

cloudbuild
getTrigger$gcp:cloudbuild/getTrigger:getTriggeróTo get more information about Cloudbuild Trigger, see:

* [API documentation](https://cloud.google.com/build/docs/api/reference/rest/v1/projects.triggers)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/build/docs/automating-builds/create-manage-triggers)

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const name = gcp.cloudbuild.getTrigger({
    project: "your-project-id",
    triggerId: filename_trigger.triggerId,
    location: "location of trigger build",
});
```
```python
import pulumi
import pulumi_gcp as gcp

name = gcp.cloudbuild.get_trigger(project="your-project-id",
    trigger_id=filename_trigger["triggerId"],
    location="location of trigger build")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var name = Gcp.CloudBuild.GetTrigger.Invoke(new()
    {
        Project = "your-project-id",
        TriggerId = filename_trigger.TriggerId,
        Location = "location of trigger build",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuild"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuild.LookupTrigger(ctx, &cloudbuild.LookupTriggerArgs{
			Project:   pulumi.StringRef("your-project-id"),
			TriggerId: filename_trigger.TriggerId,
			Location:  "location of trigger build",
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuild.CloudbuildFunctions;
import com.pulumi.gcp.cloudbuild.inputs.GetTriggerArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var name = CloudbuildFunctions.getTrigger(GetTriggerArgs.builder()
            .project("your-project-id")
            .triggerId(filename_trigger.triggerId())
            .location("location of trigger build")
            .build());

    }
}
```
```yaml
variables:
  name:
    fn::invoke:
      function: gcp:cloudbuild:getTrigger
      arguments:
        project: your-project-id
        triggerId: ${["filename-trigger"].triggerId}
        location: location of trigger build
```
<!--End PulumiCodeChooser -->
A
location" 1The Cloud Build location for the trigger.

- - -
{
projectB" jThe ID of the project in which the resource belongs. If it is not provided, the provider project is used.
9
	triggerId" (The unique identifier for the trigger..
"
approvalConfigsn*l:j
h

cloudbuildgetTriggerApprovalConfig@gcp:cloudbuild/getTriggerApprovalConfig:getTriggerApprovalConfig"½
bitbucketServerTriggerConfigs›*˜:•
’

cloudbuild&getTriggerBitbucketServerTriggerConfig\gcp:cloudbuild/getTriggerBitbucketServerTriggerConfig:getTriggerBitbucketServerTriggerConfig"]
buildsS*Q:O
M

cloudbuildgetTriggerBuild.gcp:cloudbuild/getTriggerBuild:getTriggerBuild"

createTime" "
description" "
disabled
 "
filename" "
filter" "}
gitFileSourcesk*i:g
e

cloudbuildgetTriggerGitFileSource>gcp:cloudbuild/getTriggerGitFileSource:getTriggerGitFileSource"a
githubsV*T:R
P

cloudbuildgetTriggerGithub0gcp:cloudbuild/getTriggerGithub:getTriggerGithub"E
id" ;The provider-assigned unique ID for this managed resource.
"
ignoredFiles*" "
includeBuildLogs" "
includedFiles*" "
location" "

name" "
projectB" "y
pubsubConfigsh*f:d
b

cloudbuildgetTriggerPubsubConfig<gcp:cloudbuild/getTriggerPubsubConfig:getTriggerPubsubConfig"Ÿ
repositoryEventConfigs„*:
}

cloudbuildgetTriggerRepositoryEventConfigNgcp:cloudbuild/getTriggerRepositoryEventConfig:getTriggerRepositoryEventConfig"
serviceAccount" "}
sourceToBuildsk*i:g
e

cloudbuildgetTriggerSourceToBuild>gcp:cloudbuild/getTriggerSourceToBuild:getTriggerSourceToBuild"
substitutions2" "
tags*" "
	triggerId" "…
triggerTemplatesq*o:m
k

cloudbuildgetTriggerTriggerTemplateBgcp:cloudbuild/getTriggerTriggerTemplate:getTriggerTriggerTemplate"}
webhookConfigsk*i:g
e

cloudbuildgetTriggerWebhookConfig>gcp:cloudbuild/getTriggerWebhookConfig:getTriggerWebhookConfig2Â
f
cloudbuildv2getConnectionIamPolicy>gcp:cloudbuildv2/getConnectionIamPolicy:getConnectionIamPolicyîRetrieves the current IAM policy data for connection


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.cloudbuildv2.getConnectionIamPolicy({
    project: my_connection.project,
    location: my_connection.location,
    name: my_connection.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.cloudbuildv2.get_connection_iam_policy(project=my_connection["project"],
    location=my_connection["location"],
    name=my_connection["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudBuildV2.GetConnectionIamPolicy.Invoke(new()
    {
        Project = my_connection.Project,
        Location = my_connection.Location,
        Name = my_connection.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudbuildv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudbuildv2.GetConnectionIamPolicy(ctx, &cloudbuildv2.GetConnectionIamPolicyArgs{
			Project:  pulumi.StringRef(my_connection.Project),
			Location: pulumi.StringRef(my_connection.Location),
			Name:     my_connection.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudbuildv2.Cloudbuildv2Functions;
import com.pulumi.gcp.cloudbuildv2.inputs.GetConnectionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = Cloudbuildv2Functions.getConnectionIamPolicy(GetConnectionIamPolicyArgs.builder()
            .project(my_connection.project())
            .location(my_connection.location())
            .name(my_connection.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:cloudbuildv2:getConnectionIamPolicy
      arguments:
        project: ${["my-connection"].project}
        location: ${["my-connection"].location}
        name: ${["my-connection"].name}
```
<!--End PulumiCodeChooser -->
Ã
locationB" °The location for the resource Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
G
name" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "

name" "š

policyData" ‡(Required only by `gcp.cloudbuildv2.ConnectionIAMPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2è
v
clouddeploygetCustomTargetTypeIamPolicyIgcp:clouddeploy/getCustomTargetTypeIamPolicy:getCustomTargetTypeIamPolicyRetrieves the current IAM policy data for customtargettype


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.clouddeploy.getCustomTargetTypeIamPolicy({
    project: custom_target_type.project,
    location: custom_target_type.location,
    name: custom_target_type.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.clouddeploy.get_custom_target_type_iam_policy(project=custom_target_type["project"],
    location=custom_target_type["location"],
    name=custom_target_type["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudDeploy.GetCustomTargetTypeIamPolicy.Invoke(new()
    {
        Project = custom_target_type.Project,
        Location = custom_target_type.Location,
        Name = custom_target_type.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.LookupCustomTargetTypeIamPolicy(ctx, &clouddeploy.LookupCustomTargetTypeIamPolicyArgs{
			Project:  pulumi.StringRef(custom_target_type.Project),
			Location: pulumi.StringRef(custom_target_type.Location),
			Name:     custom_target_type.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.ClouddeployFunctions;
import com.pulumi.gcp.clouddeploy.inputs.GetCustomTargetTypeIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = ClouddeployFunctions.getCustomTargetTypeIamPolicy(GetCustomTargetTypeIamPolicyArgs.builder()
            .project(custom_target_type.project())
            .location(custom_target_type.location())
            .name(custom_target_type.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:clouddeploy:getCustomTargetTypeIamPolicy
      arguments:
        project: ${["custom-target-type"].project}
        location: ${["custom-target-type"].location}
        name: ${["custom-target-type"].name}
```
<!--End PulumiCodeChooser -->
Á
locationB" ®The location of the source. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
G
name" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "

name" "Ÿ

policyData" Œ(Required only by `gcp.clouddeploy.CustomTargetTypeIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2ï
v
clouddeploygetDeliveryPipelineIamPolicyIgcp:clouddeploy/getDeliveryPipelineIamPolicy:getDeliveryPipelineIamPolicyºRetrieves the current IAM policy data for deliverypipeline


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.clouddeploy.getDeliveryPipelineIamPolicy({
    project: _default.project,
    location: _default.location,
    name: _default.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.clouddeploy.get_delivery_pipeline_iam_policy(project=default["project"],
    location=default["location"],
    name=default["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudDeploy.GetDeliveryPipelineIamPolicy.Invoke(new()
    {
        Project = @default.Project,
        Location = @default.Location,
        Name = @default.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.LookupDeliveryPipelineIamPolicy(ctx, &clouddeploy.LookupDeliveryPipelineIamPolicyArgs{
			Project:  pulumi.StringRef(_default.Project),
			Location: pulumi.StringRef(_default.Location),
			Name:     _default.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.ClouddeployFunctions;
import com.pulumi.gcp.clouddeploy.inputs.GetDeliveryPipelineIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = ClouddeployFunctions.getDeliveryPipelineIamPolicy(GetDeliveryPipelineIamPolicyArgs.builder()
            .project(default_.project())
            .location(default_.location())
            .name(default_.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:clouddeploy:getDeliveryPipelineIamPolicy
      arguments:
        project: ${default.project}
        location: ${default.location}
        name: ${default.name}
```
<!--End PulumiCodeChooser -->

locationB" G
name" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "

name" "Ÿ

policyData" Œ(Required only by `gcp.clouddeploy.DeliveryPipelineIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2â
X
clouddeploygetTargetIamPolicy5gcp:clouddeploy/getTargetIamPolicy:getTargetIamPolicyÕRetrieves the current IAM policy data for target


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.clouddeploy.getTargetIamPolicy({
    project: _default.project,
    location: _default.location,
    name: _default.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.clouddeploy.get_target_iam_policy(project=default["project"],
    location=default["location"],
    name=default["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudDeploy.GetTargetIamPolicy.Invoke(new()
    {
        Project = @default.Project,
        Location = @default.Location,
        Name = @default.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/clouddeploy"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := clouddeploy.LookupTargetIamPolicy(ctx, &clouddeploy.LookupTargetIamPolicyArgs{
			Project:  pulumi.StringRef(_default.Project),
			Location: pulumi.StringRef(_default.Location),
			Name:     _default.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.clouddeploy.ClouddeployFunctions;
import com.pulumi.gcp.clouddeploy.inputs.GetTargetIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = ClouddeployFunctions.getTargetIamPolicy(GetTargetIamPolicyArgs.builder()
            .project(default_.project())
            .location(default_.location())
            .name(default_.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:clouddeploy:getTargetIamPolicy
      arguments:
        project: ${default.project}
        location: ${default.location}
        name: ${default.name}
```
<!--End PulumiCodeChooser -->

locationB" G
name" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "

name" "•

policyData" ‚(Required only by `gcp.clouddeploy.TargetIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" 2ã'
I
cloudfunctionsgetFunction*gcp:cloudfunctions/getFunction:getFunctionÿGet information about a Google Cloud Function. For more information see
the [official documentation](https://cloud.google.com/functions/docs/)
and [API](https://cloud.google.com/functions/docs/apis).

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const my-function = gcp.cloudfunctions.getFunction({
    name: "function",
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_function = gcp.cloudfunctions.get_function(name="function")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var my_function = Gcp.CloudFunctions.GetFunction.Invoke(new()
    {
        Name = "function",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.LookupFunction(ctx, &cloudfunctions.LookupFunctionArgs{
			Name: "function",
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.CloudfunctionsFunctions;
import com.pulumi.gcp.cloudfunctions.inputs.GetFunctionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var my-function = CloudfunctionsFunctions.getFunction(GetFunctionArgs.builder()
            .name("function")
            .build());

    }
}
```
```yaml
variables:
  my-function:
    fn::invoke:
      function: gcp:cloudfunctions:getFunction
      arguments:
        name: function
```
<!--End PulumiCodeChooser -->
1
name" %The name of a Cloud Function.

- - -
q
projectB" `The project in which the resource belongs. If it
is not provided, the provider project is used.
n
regionB" ^The region in which the resource belongs. If it
is not provided, the provider region is used.
"C
availableMemoryMb *Available memory (in MB) to the function.
"!
buildEnvironmentVariables2" "
buildServiceAccount" "
buildWorkerPool" "0
description" Description of the function.
"
dockerRegistry" "
dockerRepository" "
effectiveLabels2" "s

entryPoint" aName of a JavaScript function that will be executed when the Google Cloud Function is triggered.
"
environmentVariables2" "ï
eventTriggerss*q:o
m
cloudfunctionsgetFunctionEventTriggerBgcp:cloudfunctions/getFunctionEventTrigger:getFunctionEventTriggeriA source that fires events in response to a condition in another service. Structure is documented below.
"
httpsTriggerSecurityLevel" "R
httpsTriggerUrl" ;If function is triggered by HTTP, trigger URL is set here.
"E
id" ;The provider-assigned unique ID for this managed resource.
"E
ingressSettings" .Controls what traffic can reach the function.
"

kmsKeyName" "
labels2" ŒAll of labels (key/value pairs) present on the resource in GCP, including the labels configured through Pulumi, other clients and services.
"£
maxInstances ŽThe limit on the maximum number of function instances that may coexist at a given time. If unset or set to `0`, the API default will be used.
"
minInstances ",
name"  The name of the Cloud Function.
"
projectB" "
pulumiLabels2" "
regionB" "=
runtime" .The runtime in which the function is running.
"¼
secretEnvironmentVariables*š:—
”
cloudfunctions$getFunctionSecretEnvironmentVariable\gcp:cloudfunctions/getFunctionSecretEnvironmentVariable:getFunctionSecretEnvironmentVariable"„
secretVolumess*q:o
m
cloudfunctionsgetFunctionSecretVolumeBgcp:cloudfunctions/getFunctionSecretVolume:getFunctionSecretVolume"Z
serviceAccountEmail" ?The service account email to be assumed by the cloud function.
"b
sourceArchiveBucket" GThe GCS bucket containing the zip archive which contains the function.
"O
sourceArchiveObject" 4The source archive object (file) in archive bucket.
"
sourceRepositories*}:{
y
cloudfunctionsgetFunctionSourceRepositoryJgcp:cloudfunctions/getFunctionSourceRepository:getFunctionSourceRepositoryjThe URL of the Cloud Source Repository that the function is deployed from. Structure is documented below.
"
status" "8
timeout )Function execution timeout (in seconds).
"J
triggerHttp
 7If function is triggered by HTTP, this boolean is set.
"
	versionId" "W
vpcConnector" CThe VPC Network Connector that this cloud function can connect to.
"z
vpcConnectorEgressSettings" XThe egress settings for the connector, controlling what traffic is diverted through it.
2¢
d
cloudfunctionsgetFunctionIamPolicy<gcp:cloudfunctions/getFunctionIamPolicy:getFunctionIamPolicy¿Retrieves the current IAM policy data for cloudfunction


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.cloudfunctions.getFunctionIamPolicy({
    project: _function.project,
    region: _function.region,
    cloudFunction: _function.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.cloudfunctions.get_function_iam_policy(project=function["project"],
    region=function["region"],
    cloud_function=function["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudFunctions.GetFunctionIamPolicy.Invoke(new()
    {
        Project = function.Project,
        Region = function.Region,
        CloudFunction = function.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctions"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctions.LookupFunctionIamPolicy(ctx, &cloudfunctions.LookupFunctionIamPolicyArgs{
			Project:       pulumi.StringRef(function.Project),
			Region:        pulumi.StringRef(function.Region),
			CloudFunction: function.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctions.CloudfunctionsFunctions;
import com.pulumi.gcp.cloudfunctions.inputs.GetFunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = CloudfunctionsFunctions.getFunctionIamPolicy(GetFunctionIamPolicyArgs.builder()
            .project(function.project())
            .region(function.region())
            .cloudFunction(function.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:cloudfunctions:getFunctionIamPolicy
      arguments:
        project: ${function.project}
        region: ${function.region}
        cloudFunction: ${function.name}
```
<!--End PulumiCodeChooser -->
P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
Ä
regionB" ³The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no region is provided in the parent identifier and no
region is specified, it is taken from the provider configuration.
"
cloudFunction" "3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"š

policyData" ‡(Required only by `gcp.cloudfunctions.FunctionIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" "
region" 2È
M
cloudfunctionsv2getFunction,gcp:cloudfunctionsv2/getFunction:getFunctionÒGet information about a Google Cloud Function (2nd gen). For more information see:

* [API documentation](https://cloud.google.com/functions/docs/reference/rest/v2beta/projects.locations.functions).

## Example Usage

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const my-function = gcp.cloudfunctionsv2.getFunction({
    name: "function",
    location: "us-central1",
});
```
```python
import pulumi
import pulumi_gcp as gcp

my_function = gcp.cloudfunctionsv2.get_function(name="function",
    location="us-central1")
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var my_function = Gcp.CloudFunctionsV2.GetFunction.Invoke(new()
    {
        Name = "function",
        Location = "us-central1",
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.LookupFunction(ctx, &cloudfunctionsv2.LookupFunctionArgs{
			Name:     "function",
			Location: "us-central1",
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.Cloudfunctionsv2Functions;
import com.pulumi.gcp.cloudfunctionsv2.inputs.GetFunctionArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var my-function = Cloudfunctionsv2Functions.getFunction(GetFunctionArgs.builder()
            .name("function")
            .location("us-central1")
            .build());

    }
}
```
```yaml
variables:
  my-function:
    fn::invoke:
      function: gcp:cloudfunctionsv2:getFunction
      arguments:
        name: function
        location: us-central1
```
<!--End PulumiCodeChooser -->
C
location" 3The location in which the resource belongs.

- - -
4
name" (The name of a Cloud Function (2nd gen).
q
projectB" `The project in which the resource belongs. If it
is not provided, the provider project is used.
"„
buildConfigst*r:p
n
cloudfunctionsv2getFunctionBuildConfigBgcp:cloudfunctionsv2/getFunctionBuildConfig:getFunctionBuildConfig"
description" "
effectiveLabels2" "
environment" "ˆ
eventTriggersw*u:s
q
cloudfunctionsv2getFunctionEventTriggerDgcp:cloudfunctionsv2/getFunctionEventTrigger:getFunctionEventTrigger"E
id" ;The provider-assigned unique ID for this managed resource.
"

kmsKeyName" "
labels2" "
location" "

name" "
projectB" "
pulumiLabels2" "Œ
serviceConfigsz*x:v
t
cloudfunctionsv2getFunctionServiceConfigFgcp:cloudfunctionsv2/getFunctionServiceConfig:getFunctionServiceConfig"
state" "

updateTime" "	
url" 2×
h
cloudfunctionsv2getFunctionIamPolicy>gcp:cloudfunctionsv2/getFunctionIamPolicy:getFunctionIamPolicyæRetrieves the current IAM policy data for function


## example

<!--Start PulumiCodeChooser -->
```typescript
import * as pulumi from "@pulumi/pulumi";
import * as gcp from "@pulumi/gcp";

const policy = gcp.cloudfunctionsv2.getFunctionIamPolicy({
    project: _function.project,
    location: _function.location,
    cloudFunction: _function.name,
});
```
```python
import pulumi
import pulumi_gcp as gcp

policy = gcp.cloudfunctionsv2.get_function_iam_policy(project=function["project"],
    location=function["location"],
    cloud_function=function["name"])
```
```csharp
using System.Collections.Generic;
using System.Linq;
using Pulumi;
using Gcp = Pulumi.Gcp;

return await Deployment.RunAsync(() => 
{
    var policy = Gcp.CloudFunctionsV2.GetFunctionIamPolicy.Invoke(new()
    {
        Project = function.Project,
        Location = function.Location,
        CloudFunction = function.Name,
    });

});
```
```go
package main

import (
	"github.com/pulumi/pulumi-gcp/sdk/v8/go/gcp/cloudfunctionsv2"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

func main() {
	pulumi.Run(func(ctx *pulumi.Context) error {
		_, err := cloudfunctionsv2.LookupFunctionIamPolicy(ctx, &cloudfunctionsv2.LookupFunctionIamPolicyArgs{
			Project:       pulumi.StringRef(function.Project),
			Location:      pulumi.StringRef(function.Location),
			CloudFunction: function.Name,
		}, nil)
		if err != nil {
			return err
		}
		return nil
	})
}
```
```java
package generated_program;

import com.pulumi.Context;
import com.pulumi.Pulumi;
import com.pulumi.core.Output;
import com.pulumi.gcp.cloudfunctionsv2.Cloudfunctionsv2Functions;
import com.pulumi.gcp.cloudfunctionsv2.inputs.GetFunctionIamPolicyArgs;
import java.util.List;
import java.util.ArrayList;
import java.util.Map;
import java.io.File;
import java.nio.file.Files;
import java.nio.file.Paths;

public class App {
    public static void main(String[] args) {
        Pulumi.run(App::stack);
    }

    public static void stack(Context ctx) {
        final var policy = Cloudfunctionsv2Functions.getFunctionIamPolicy(GetFunctionIamPolicyArgs.builder()
            .project(function.project())
            .location(function.location())
            .cloudFunction(function.name())
            .build());

    }
}
```
```yaml
variables:
  policy:
    fn::invoke:
      function: gcp:cloudfunctionsv2:getFunctionIamPolicy
      arguments:
        project: ${function.project}
        location: ${function.location}
        cloudFunction: ${function.name}
```
<!--End PulumiCodeChooser -->
P
cloudFunction" ;Used to find the parent resource to bind the IAM policy to
Ê
locationB" ·The location of this cloud function. Used to find the parent resource to bind the IAM policy to. If not specified,
the value will be parsed from the identifier of the parent resource. If no location is provided in the parent identifier and no
location is specified, it is taken from the provider configuration.
“
projectB" The ID of the project in which the resource belongs.
If it is not provided, the project will be parsed from the identifier of the parent resource. If no project is provided in the parent identifier and no project is specified, the provider project is used.
"
cloudFunction" "3
etag" '(Computed) The etag of the IAM policy.
"E
id" ;The provider-assigned unique ID for this managed resource.
"
location" "œ

policyData" ‰(Required only by `gcp.cloudfunctionsv2.FunctionIamPolicy`) The policy data generated by
a `gcp.organizations.getIAMPolicy` data source.
"
project" :š
‹
blockchainnodeengineBlockchainNodesConnectionInfoTgcp:blockchainnodeengine/BlockchainNodesConnectionInfo:BlockchainNodesConnectionInfo‰
†Â
endpointInfos»B¸*µ:²
¯
blockchainnodeengine)BlockchainNodesConnectionInfoEndpointInfolgcp:blockchainnodeengine/BlockchainNodesConnectionInfoEndpointInfo:BlockchainNodesConnectionInfoEndpointInfos(Output)
The endpoint information through which to interact with a blockchain node.
Structure is documented below.
¾
serviceAttachmentB" ¢(Output)
A service attachment that exposes a node, and has the following format: projects/{project}/regions/{region}/serviceAttachments/{service_attachment_name}
:õ
¯
blockchainnodeengine)BlockchainNodesConnectionInfoEndpointInfolgcp:blockchainnodeengine/BlockchainNodesConnectionInfoEndpointInfo:BlockchainNodesConnectionInfoEndpointInfoÀ
½Z
jsonRpcApiEndpointB" >(Output)
The assigned URL for the node JSON-RPC API endpoint.
_
websocketsApiEndpointB" @(Output)
The assigned URL for the node WebSockets API endpoint.
:ã
Ž
blockchainnodeengineBlockchainNodesEthereumDetailsVgcp:blockchainnodeengine/BlockchainNodesEthereumDetails:BlockchainNodesEthereumDetailsÏ
Ì°
additionalEndpointsÐBÍ*Ê:Ç
Ä
blockchainnodeengine0BlockchainNodesEthereumDetailsAdditionalEndpointzgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsAdditionalEndpoint:BlockchainNodesEthereumDetailsAdditionalEndpointF(Output)
User-provided key-value pairs
Structure is documented below.
h
apiEnableAdminB
 PEnables JSON-RPC access to functions in the admin namespace. Defaults to false.
h
apiEnableDebugB
 PEnables JSON-RPC access to functions in the debug namespace. Defaults to false.
q
consensusClientB" XThe consensus client
Possible values are: `CONSENSUS_CLIENT_UNSPECIFIED`, `LIGHTHOUSE`.
u
executionClientB" \The execution client
Possible values are: `EXECUTION_CLIENT_UNSPECIFIED`, `GETH`, `ERIGON`.
‡
gethDetails¸Bµ:²
¯
blockchainnodeengine)BlockchainNodesEthereumDetailsGethDetailslgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsGethDetails:BlockchainNodesEthereumDetailsGethDetails=User-provided key-value pairs
Structure is documented below.
†
networkB" uThe Ethereum environment being accessed.
Possible values are: `MAINNET`, `TESTNET_GOERLI_PRATER`, `TESTNET_SEPOLIA`.
^
nodeTypeB" LThe type of Ethereum node.
Possible values are: `LIGHT`, `FULL`, `ARCHIVE`.
å
validatorConfigÄBÁ:¾
»
blockchainnodeengine-BlockchainNodesEthereumDetailsValidatorConfigtgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsValidatorConfig:BlockchainNodesEthereumDetailsValidatorConfigŠConfiguration for validator-related parameters on the beacon client, and for any managed validator client.
Structure is documented below.
:™
Ä
blockchainnodeengine0BlockchainNodesEthereumDetailsAdditionalEndpointzgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsAdditionalEndpoint:BlockchainNodesEthereumDetailsAdditionalEndpointÏ
ÌP
beaconApiEndpointB" 5The assigned URL for the node's Beacon API endpoint.
p
"beaconPrometheusMetricsApiEndpointB" DThe assigned URL for the node's Beacon Prometheus metrics endpoint.
…
+executionClientPrometheusMetricsApiEndpointB" PThe assigned URL for the node's execution client's Prometheus metrics endpoint.
:°
¯
blockchainnodeengine)BlockchainNodesEthereumDetailsGethDetailslgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsGethDetails:BlockchainNodesEthereumDetailsGethDetailsû
øõ
garbageCollectionModeB" ÕBlockchain garbage collection modes. Only applicable when NodeType is FULL or ARCHIVE.
Possible values are: `FULL`, `ARCHIVE`.

<a name="nested_additional_endpoints"></a>The `additional_endpoints` block contains:
:á
»
blockchainnodeengine-BlockchainNodesEthereumDetailsValidatorConfigtgcp:blockchainnodeengine/BlockchainNodesEthereumDetailsValidatorConfig:BlockchainNodesEthereumDetailsValidatorConfig 
š
mevRelayUrlsB*" URLs for MEV-relay services to use for block building. When set, a managed MEV-boost service is configured on the beacon client.
:¹
j
certificateauthorityAuthorityAccessUrl>gcp:certificateauthority/AuthorityAccessUrl:AuthorityAccessUrlÊ
Ç©
caCertificateAccessUrlB" ˆ(Output)
The URL where this CertificateAuthority's CA certificate is published. This will only be
set for CAs that have been activated.
˜
crlAccessUrlsB*" (Output)
The URL where this CertificateAuthority's CRLs are published. This will only be set for
CAs that have been activated.
:Ì
a
certificateauthorityAuthorityConfig8gcp:certificateauthority/AuthorityConfig:AuthorityConfigæ
ã
subjectConfigŽ:‹
ˆ
certificateauthorityAuthorityConfigSubjectConfigRgcp:certificateauthority/AuthorityConfigSubjectConfig:AuthorityConfigSubjectConfignSpecifies some of the values in a certificate that are related to the subject.
Structure is documented below.
¿
subjectKeyIdŽB‹:ˆ
…
certificateauthorityAuthorityConfigSubjectKeyIdPgcp:certificateauthority/AuthorityConfigSubjectKeyId:AuthorityConfigSubjectKeyIdWhen specified this provides a custom SKI to be used in the certificate. This should only be used to maintain a SKI of an existing CA originally created outside CA service, which was not generated using method (1) described in RFC 5280 section 4.2.1.2..
Structure is documented below.
‹

x509Config„:

certificateauthorityAuthorityConfigX509ConfigLgcp:certificateauthority/AuthorityConfigX509Config:AuthorityConfigX509ConfigvDescribes how some of the technical X.509 fields in a certificate should be populated.
Structure is documented below.
:Å
ˆ
certificateauthorityAuthorityConfigSubjectConfigRgcp:certificateauthority/AuthorityConfigSubjectConfig:AuthorityConfigSubjectConfig·
´š
subject£: 

certificateauthority#AuthorityConfigSubjectConfigSubject`gcp:certificateauthority/AuthorityConfigSubjectConfigSubject:AuthorityConfigSubjectConfigSubjectiContains distinguished name fields such as the location and organization.
Structure is documented below.
”
subjectAltName»B¸:µ
²
certificateauthority*AuthorityConfigSubjectConfigSubjectAltNamengcp:certificateauthority/AuthorityConfigSubjectConfigSubjectAltName:AuthorityConfigSubjectConfigSubjectAltNameDThe subject alternative name fields.
Structure is documented below.
:”

certificateauthority#AuthorityConfigSubjectConfigSubject`gcp:certificateauthority/AuthorityConfigSubjectConfigSubject:AuthorityConfigSubjectConfigSubjectñ
î=

commonName" +The common name of the distinguished name.
6
countryCodeB" !The country code of the subject.
7
localityB" %The locality or city of the subject.
5
organization" !The organization of the subject.
D
organizationalUnitB" (The organizational unit of the subject.
4

postalCodeB"  The postal code of the subject.
M
provinceB" ;The province, territory, or regional state of the subject.
:
streetAddressB" #The street address of the subject.
:á
²
certificateauthority*AuthorityConfigSubjectConfigSubjectAltNamengcp:certificateauthority/AuthorityConfigSubjectConfigSubjectAltName:AuthorityConfigSubjectConfigSubjectAltName©
¦E
dnsNamesB*" 1Contains only valid, fully-qualified host names.
I
emailAddressesB*" /Contains only valid RFC 2822 E-mail addresses.
]
ipAddressesB*" FContains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
3
urisB*" #Contains only valid RFC 3986 URIs.
:•
…
certificateauthorityAuthorityConfigSubjectKeyIdPgcp:certificateauthority/AuthorityConfigSubjectKeyId:AuthorityConfigSubjectKeyIdŠ
‡„
keyIdB" uThe value of the KeyId in lowercase hexadecimal.

<a name="nested_x509_config"></a>The `x509_config` block supports:
:

certificateauthorityAuthorityConfigX509ConfigLgcp:certificateauthority/AuthorityConfigX509Config:AuthorityConfigX509Config™
–Ö
additionalExtensionsÄBÁ*¾:»
¸
certificateauthority,AuthorityConfigX509ConfigAdditionalExtensionrgcp:certificateauthority/AuthorityConfigX509ConfigAdditionalExtension:AuthorityConfigX509ConfigAdditionalExtensionwSpecifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
²
aiaOcspServersB*" —Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
"Authority Information Access" extension in the certificate.
è
	caOptions :
š
certificateauthority"AuthorityConfigX509ConfigCaOptions^gcp:certificateauthority/AuthorityConfigX509ConfigCaOptions:AuthorityConfigX509ConfigCaOptions8Describes values that are relevant in a CA certificate.
ò
keyUsage:š
—
certificateauthority!AuthorityConfigX509ConfigKeyUsage\gcp:certificateauthority/AuthorityConfigX509ConfigKeyUsage:AuthorityConfigX509ConfigKeyUsageFIndicates the intended use for keys that correspond to a certificate.
û
nameConstraintsµB²:¯
¬
certificateauthority(AuthorityConfigX509ConfigNameConstraintsjgcp:certificateauthority/AuthorityConfigX509ConfigNameConstraints:AuthorityConfigX509ConfigNameConstraints0Describes the X.509 name constraints extension.
§
	policyIds£B *:š
—
certificateauthority!AuthorityConfigX509ConfigPolicyId\gcp:certificateauthority/AuthorityConfigX509ConfigPolicyId:AuthorityConfigX509ConfigPolicyIdtDescribes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
:†
¸
certificateauthority,AuthorityConfigX509ConfigAdditionalExtensionrgcp:certificateauthority/AuthorityConfigX509ConfigAdditionalExtension:AuthorityConfigX509ConfigAdditionalExtensionÈ
Å·
critical
 ¦Indicates whether or not this extension is critical (i.e., if the client does not know how to
handle this extension, the client should consider this to be an error).
½
objectId×:Ô
Ñ
certificateauthority4AuthorityConfigX509ConfigAdditionalExtensionObjectId‚gcp:certificateauthority/AuthorityConfigX509ConfigAdditionalExtensionObjectId:AuthorityConfigX509ConfigAdditionalExtensionObjectIdWDescribes values that are relevant in a CA certificate.
Structure is documented below.
I
value" <The value of this X.509 extension. A base64-encoded string.
:â
Ñ
certificateauthority4AuthorityConfigX509ConfigAdditionalExtensionObjectId‚gcp:certificateauthority/AuthorityConfigX509ConfigAdditionalExtensionObjectId:AuthorityConfigX509ConfigAdditionalExtensionObjectId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:Ž
š
certificateauthority"AuthorityConfigX509ConfigCaOptions^gcp:certificateauthority/AuthorityConfigX509ConfigCaOptions:AuthorityConfigX509ConfigCaOptionsî
ëT
isCa
 HWhen true, the "CA" in Basic Constraints extension will be set to true.
Î
maxIssuerPathLengthB °Refers to the "path length constraint" in Basic Constraints extension. For a CA certificate, this value describes the depth of
subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. Setting the value to 0
requires setting `zero_max_issuer_path_length = true`.
¸
nonCaB
 ¨When true, the "CA" in Basic Constraints extension will be set to false.
If both `is_ca` and `non_ca` are unset, the extension will be omitted from the CA certificate.
†
zeroMaxIssuerPathLengthB
 äWhen true, the "path length constraint" in Basic Constraints extension will be set to 0.
If both `max_issuer_path_length` and `zero_max_issuer_path_length` are unset,
the max path length will be omitted from the CA certificate.
:¡	
—
certificateauthority!AuthorityConfigX509ConfigKeyUsage\gcp:certificateauthority/AuthorityConfigX509ConfigKeyUsage:AuthorityConfigX509ConfigKeyUsage„
©
baseKeyUsageÁ:¾
»
certificateauthority-AuthorityConfigX509ConfigKeyUsageBaseKeyUsagetgcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageBaseKeyUsage:AuthorityConfigX509ConfigKeyUsageBaseKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
¹
extendedKeyUsageÍ:Ê
Ç
certificateauthority1AuthorityConfigX509ConfigKeyUsageExtendedKeyUsage|gcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageExtendedKeyUsage:AuthorityConfigX509ConfigKeyUsageExtendedKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
–
unknownExtendedKeyUsageséBæ*ã:à
Ý
certificateauthority8AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsageŠgcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsageAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
Structure is documented below.
:ð
»
certificateauthority-AuthorityConfigX509ConfigKeyUsageBaseKeyUsagetgcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageBaseKeyUsage:AuthorityConfigX509ConfigKeyUsageBaseKeyUsage¯
¬<
certSignB
 *The key may be used to sign certificates.
‹
contentCommitmentB
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
H
crlSignB
 7The key may be used sign certificate revocation lists.
@
dataEnciphermentB
 &The key may be used to encipher data.
<
decipherOnlyB
 &The key may be used to decipher only.
F
digitalSignatureB
 ,The key may be used for digital signatures.
<
encipherOnlyB
 &The key may be used to encipher only.
G
keyAgreementB
 1The key may be used in a key agreement protocol.
E
keyEnciphermentB
 ,The key may be used to encipher other keys.
:€
Ç
certificateauthority1AuthorityConfigX509ConfigKeyUsageExtendedKeyUsage|gcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageExtendedKeyUsage:AuthorityConfigX509ConfigKeyUsageExtendedKeyUsage³
°›

clientAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
”
codeSigningB
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
k
emailProtectionB
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
m
ocspSigningB
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
›

serverAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.

timeStampingB
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:î
Ý
certificateauthority8AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsageŠgcp:certificateauthority/AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:AuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:ž
¬
certificateauthority(AuthorityConfigX509ConfigNameConstraintsjgcp:certificateauthority/AuthorityConfigX509ConfigNameConstraints:AuthorityConfigX509ConfigNameConstraintsì
éS
critical
 CIndicates whether or not the name constraints are marked critical.
Å
excludedDnsNamesB*" ¨Contains excluded DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
—
excludedEmailAddressesB*" ôContains the excluded email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
í
excludedIpRangesB*" ÐContains the excluded IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
±
excludedUrisB*" ˜Contains the excluded URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
Ç
permittedDnsNamesB*" ©Contains permitted DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
™
permittedEmailAddressesB*" õContains the permitted email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
ï
permittedIpRangesB*" ÑContains the permitted IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
³
permittedUrisB*" ™Contains the permitted URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
:¨
—
certificateauthority!AuthorityConfigX509ConfigPolicyId\gcp:certificateauthority/AuthorityConfigX509ConfigPolicyId:AuthorityConfigX509ConfigPolicyId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:À
d
certificateauthorityAuthorityKeySpec:gcp:certificateauthority/AuthorityKeySpec:AuthorityKeySpec×
Ô 
	algorithmB" ŒThe algorithm to use for creating a managed Cloud KMS key for a for a simplified
experience. All managed keys will be have their ProtectionLevel as HSM.
Possible values are: `SIGN_HASH_ALGORITHM_UNSPECIFIED`, `RSA_PSS_2048_SHA256`, `RSA_PSS_3072_SHA256`, `RSA_PSS_4096_SHA256`, `RSA_PKCS1_2048_SHA256`, `RSA_PKCS1_3072_SHA256`, `RSA_PKCS1_4096_SHA256`, `EC_P256_SHA256`, `EC_P384_SHA384`.

- - -
®
cloudKmsKeyVersionB" ‘The resource name for an existing Cloud KMS CryptoKeyVersion in the format
`projects/*/locations/*/keyRings/*/cryptoKeys/*/cryptoKeyVersions/*`.
:œ
‚
certificateauthorityAuthoritySubordinateConfigNgcp:certificateauthority/AuthoritySubordinateConfig:AuthoritySubordinateConfig”
‘¤
certificateAuthorityB" …This can refer to a CertificateAuthority that was used to create a
subordinate CertificateAuthority. This field is used for information
and usability purposes only. The resource name is in the format
`projects/*/locations/*/caPools/*/certificateAuthorities/*`.
ç
pemIssuerChainµB²:¯
¬
certificateauthority(AuthoritySubordinateConfigPemIssuerChainjgcp:certificateauthority/AuthoritySubordinateConfigPemIssuerChain:AuthoritySubordinateConfigPemIssuerChainœContains the PEM certificate chain for the issuers of this CertificateAuthority,
but not pem certificate for this CA itself.
Structure is documented below.
:Œ
¬
certificateauthority(AuthoritySubordinateConfigPemIssuerChainjgcp:certificateauthority/AuthoritySubordinateConfigPemIssuerChain:AuthoritySubordinateConfigPemIssuerChain[
YW
pemCertificatesB*" <Expected to be in leaf-to-root order according to RFC 5246.
:Õ

certificateauthorityCaPoolIamBindingConditionLgcp:certificateauthority/CaPoolIamBindingCondition:CaPoolIamBindingConditionÑ
Î
descriptionB" `

expression" NTextual representation of an expression in Common Expression Language syntax.
U
title" HA title for the expression, i.e. a short string describing its purpose.
:Ò
|
certificateauthorityCaPoolIamMemberConditionJgcp:certificateauthority/CaPoolIamMemberCondition:CaPoolIamMemberConditionÑ
Î
descriptionB" `

expression" NTextual representation of an expression in Common Expression Language syntax.
U
title" HA title for the expression, i.e. a short string describing its purpose.
:Ê
p
certificateauthorityCaPoolIssuancePolicyBgcp:certificateauthority/CaPoolIssuancePolicy:CaPoolIssuancePolicyÕ
ÒÒ
allowedIssuanceModesµB²:¯
¬
certificateauthority(CaPoolIssuancePolicyAllowedIssuanceModesjgcp:certificateauthority/CaPoolIssuancePolicyAllowedIssuanceModes:CaPoolIssuancePolicyAllowedIssuanceModesIssuanceModes specifies the allowed ways in which Certificates may be requested from this CaPool.
Structure is documented below.
÷
allowedKeyTypes¦B£* :
š
certificateauthority"CaPoolIssuancePolicyAllowedKeyType^gcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyType:CaPoolIssuancePolicyAllowedKeyTypeºIf any AllowedKeyType is specified, then the certificate request's public key must match one of the key types listed here.
Otherwise, any key may be used.
Structure is documented below.
Ù
baselineValues£B :
š
certificateauthority"CaPoolIssuancePolicyBaselineValues^gcp:certificateauthority/CaPoolIssuancePolicyBaselineValues:CaPoolIssuancePolicyBaselineValues A set of X.509 values that will be applied to all certificates issued through this CaPool. If a certificate request
includes conflicting values for the same properties, they will be overwritten by the values defined here. If a certificate
request uses a CertificateTemplate that defines conflicting predefinedValues for the same properties, the certificate
issuance request will fail.
Structure is documented below.
¨
identityConstraints²B¯:¬
©
certificateauthority'CaPoolIssuancePolicyIdentityConstraintshgcp:certificateauthority/CaPoolIssuancePolicyIdentityConstraints:CaPoolIssuancePolicyIdentityConstraintsÛDescribes constraints on identities that may appear in Certificates issued through this CaPool.
If this is omitted, then this CaPool will not add restrictions on a certificate's identity.
Structure is documented below.
ù
maximumLifetimeB" ßThe maximum lifetime allowed for issued Certificates. Note that if the issuing CertificateAuthority
expires before a Certificate's requested maximumLifetime, the effective lifetime will be explicitly truncated to match it.
:
¬
certificateauthority(CaPoolIssuancePolicyAllowedIssuanceModesjgcp:certificateauthority/CaPoolIssuancePolicyAllowedIssuanceModes:CaPoolIssuancePolicyAllowedIssuanceModesÞ
Ût
allowConfigBasedIssuance
 TWhen true, allows callers to create Certificates by specifying a CertificateConfig.
c
allowCsrBasedIssuance
 FWhen true, allows callers to create Certificates by specifying a CSR.
:÷
š
certificateauthority"CaPoolIssuancePolicyAllowedKeyType^gcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyType:CaPoolIssuancePolicyAllowedKeyType×
Ô¬
ellipticCurveÊBÇ:Ä
Á
certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeEllipticCurvexgcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeEllipticCurve:CaPoolIssuancePolicyAllowedKeyTypeEllipticCurveNRepresents an allowed Elliptic Curve key type.
Structure is documented below.
¢
rsa¬B©:¦
£
certificateauthority%CaPoolIssuancePolicyAllowedKeyTypeRsadgcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeRsa:CaPoolIssuancePolicyAllowedKeyTypeRsalDescribes an RSA key that may be used in a Certificate issued from a CaPool.
Structure is documented below.
:¸
Á
certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeEllipticCurvexgcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeEllipticCurve:CaPoolIssuancePolicyAllowedKeyTypeEllipticCurver
pn
signatureAlgorithm" TThe algorithm used.
Possible values are: `ECDSA_P256`, `ECDSA_P384`, `EDDSA_25519`.
:š
£
certificateauthority%CaPoolIssuancePolicyAllowedKeyTypeRsadgcp:certificateauthority/CaPoolIssuancePolicyAllowedKeyTypeRsa:CaPoolIssuancePolicyAllowedKeyTypeRsañ
îº
maxModulusSizeB" ¡The maximum allowed RSA modulus size, in bits. If this is not set, or if set to zero, the
service will not enforce an explicit upper bound on RSA modulus sizes.
®
minModulusSizeB" •The minimum allowed RSA modulus size, in bits. If this is not set, or if set to zero, the
service-level min RSA modulus size will continue to apply.
:Þ
š
certificateauthority"CaPoolIssuancePolicyBaselineValues^gcp:certificateauthority/CaPoolIssuancePolicyBaselineValues:CaPoolIssuancePolicyBaselineValues¾
»’
additionalExtensionsàBÝ*Ú:×
Ô
certificateauthority5CaPoolIssuancePolicyBaselineValuesAdditionalExtension„gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesAdditionalExtension:CaPoolIssuancePolicyBaselineValuesAdditionalExtension–Specifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
Structure is documented below.
²
aiaOcspServersB*" —Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
"Authority Information Access" extension in the certificate.
¢
	caOptions»:¸
µ
certificateauthority+CaPoolIssuancePolicyBaselineValuesCaOptionspgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesCaOptions:CaPoolIssuancePolicyBaselineValuesCaOptionsWDescribes values that are relevant in a CA certificate.
Structure is documented below.
¬
keyUsage¸:µ
²
certificateauthority*CaPoolIssuancePolicyBaselineValuesKeyUsagengcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageeIndicates the intended use for keys that correspond to a certificate.
Structure is documented below.
µ
nameConstraintsÐBÍ:Ê
Ç
certificateauthority1CaPoolIssuancePolicyBaselineValuesNameConstraints|gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesNameConstraints:CaPoolIssuancePolicyBaselineValuesNameConstraintsODescribes the X.509 name constraints extension.
Structure is documented below.
â
	policyIds¾B»*¸:µ
²
certificateauthority*CaPoolIssuancePolicyBaselineValuesPolicyIdngcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesPolicyId:CaPoolIssuancePolicyBaselineValuesPolicyId“Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
Structure is documented below.
:½
Ô
certificateauthority5CaPoolIssuancePolicyBaselineValuesAdditionalExtension„gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesAdditionalExtension:CaPoolIssuancePolicyBaselineValuesAdditionalExtensionã
à·
critical
 ¦Indicates whether or not this extension is critical (i.e., if the client does not know how to
handle this extension, the client should consider this to be an error).
Ø
objectIdò:ï
ì
certificateauthority=CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectId”gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectId:CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectIdWDescribes values that are relevant in a CA certificate.
Structure is documented below.
I
value" <The value of this X.509 extension. A base64-encoded string.
:ý
ì
certificateauthority=CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectId”gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectId:CaPoolIssuancePolicyBaselineValuesAdditionalExtensionObjectId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:Ý
µ
certificateauthority+CaPoolIssuancePolicyBaselineValuesCaOptionspgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesCaOptions:CaPoolIssuancePolicyBaselineValuesCaOptions¢
ŸV
isCaB
 HWhen true, the "CA" in Basic Constraints extension will be set to true.
€
maxIssuerPathLengthB âRefers to the "path length constraint" in Basic Constraints extension. For a CA certificate, this value describes the depth of
subordinate CA certificates that are allowed. If this value is less than 0, the request will fail.
¸
nonCaB
 ¨When true, the "CA" in Basic Constraints extension will be set to false.
If both `is_ca` and `non_ca` are unset, the extension will be omitted from the CA certificate.
†
zeroMaxIssuerPathLengthB
 äWhen true, the "path length constraint" in Basic Constraints extension will be set to 0.
if both `max_issuer_path_length` and `zero_max_issuer_path_length` are unset,
the max path length will be omitted from the CA certificate.
:

²
certificateauthority*CaPoolIssuancePolicyBaselineValuesKeyUsagengcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsage×
ÔÅ
baseKeyUsageÝ:Ú
×
certificateauthority6CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsage†gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
Õ
extendedKeyUsageé:æ
ã
certificateauthority:CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageŽgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
±
unknownExtendedKeyUsages„B*þ:û
ø
certificateauthorityACaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsageœgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsageAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
Structure is documented below.
:Œ
×
certificateauthority6CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsage†gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageBaseKeyUsage¯
¬<
certSignB
 *The key may be used to sign certificates.
‹
contentCommitmentB
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
H
crlSignB
 7The key may be used sign certificate revocation lists.
@
dataEnciphermentB
 &The key may be used to encipher data.
<
decipherOnlyB
 &The key may be used to decipher only.
F
digitalSignatureB
 ,The key may be used for digital signatures.
<
encipherOnlyB
 &The key may be used to encipher only.
G
keyAgreementB
 1The key may be used in a key agreement protocol.
E
keyEnciphermentB
 ,The key may be used to encipher other keys.
:œ
ã
certificateauthority:CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsageŽgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageExtendedKeyUsage³
°›

clientAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
”
codeSigningB
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
k
emailProtectionB
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
m
ocspSigningB
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
›

serverAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.

timeStampingB
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:‰
ø
certificateauthorityACaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsageœgcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsage:CaPoolIssuancePolicyBaselineValuesKeyUsageUnknownExtendedKeyUsage‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:¹
Ç
certificateauthority1CaPoolIssuancePolicyBaselineValuesNameConstraints|gcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesNameConstraints:CaPoolIssuancePolicyBaselineValuesNameConstraintsì
éS
critical
 CIndicates whether or not the name constraints are marked critical.
Å
excludedDnsNamesB*" ¨Contains excluded DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
—
excludedEmailAddressesB*" ôContains the excluded email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
í
excludedIpRangesB*" ÐContains the excluded IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
±
excludedUrisB*" ˜Contains the excluded URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
Ç
permittedDnsNamesB*" ©Contains permitted DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
™
permittedEmailAddressesB*" õContains the permitted email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
ï
permittedIpRangesB*" ÑContains the permitted IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
³
permittedUrisB*" ™Contains the permitted URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
:Ã
²
certificateauthority*CaPoolIssuancePolicyBaselineValuesPolicyIdngcp:certificateauthority/CaPoolIssuancePolicyBaselineValuesPolicyId:CaPoolIssuancePolicyBaselineValuesPolicyId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:â
©
certificateauthority'CaPoolIssuancePolicyIdentityConstraintshgcp:certificateauthority/CaPoolIssuancePolicyIdentityConstraints:CaPoolIssuancePolicyIdentityConstraints³
°Ø
allowSubjectAltNamesPassthrough
 °If this is set, the SubjectAltNames extension may be copied from a certificate request into the signed certificate.
Otherwise, the requested SubjectAltNames will be discarded.
¼
allowSubjectPassthrough
 œIf this is set, the Subject field may be copied from a certificate request into the signed certificate.
Otherwise, the requested Subject will be discarded.
“
celExpressionÚB×:Ô
Ñ
certificateauthority4CaPoolIssuancePolicyIdentityConstraintsCelExpression‚gcp:certificateauthority/CaPoolIssuancePolicyIdentityConstraintsCelExpression:CaPoolIssuancePolicyIdentityConstraintsCelExpression¤A CEL expression that may be used to validate the resolved X.509 Subject and/or Subject Alternative Name before a
certificate is signed. To see the full allowed syntax and some examples,
see https://cloud.google.com/certificate-authority-service/docs/cel-guide
Structure is documented below.
:ï
Ñ
certificateauthority4CaPoolIssuancePolicyIdentityConstraintsCelExpression‚gcp:certificateauthority/CaPoolIssuancePolicyIdentityConstraintsCelExpression:CaPoolIssuancePolicyIdentityConstraintsCelExpression˜
•
descriptionB" xDescription of the expression. This is a longer text which describes the expression, e.g. when hovered over it in a UI.
`

expression" NTextual representation of an expression in Common Expression Language syntax.
…
locationB" sString indicating the location of the expression for error reporting, e.g. a file name and a position in the file.
˜
titleB" ˆTitle for the expression, i.e. a short string describing its purpose. This can be used e.g. in UIs which allow to enter the expression.
:á
y
certificateauthorityCaPoolPublishingOptionsHgcp:certificateauthority/CaPoolPublishingOptions:CaPoolPublishingOptionsã
àÙ
encodingFormatB" ÀSpecifies the encoding format of each CertificateAuthority's CA
certificate and CRLs. If this is omitted, CA certificates and CRLs
will be published in PEM.
Possible values are: `PEM`, `DER`.
Ê
publishCaCert
 ´When true, publishes each CertificateAuthority's CA certificate and includes its URL in the "Authority Information Access"
X.509 extension in all issued Certificates. If this is false, the CA certificate will not be published and the corresponding
X.509 extension will not be written in issued certificates.
´

publishCrl
 ¡When true, publishes each CertificateAuthority's CRL and includes its URL in the "CRL Distribution Points" X.509 extension
in all issued Certificates. If this is false, CRLs will not be published and the corresponding X.509 extension will not
be written in issued certificates. CRLs will expire 7 days from their creation. However, we will rebuild daily. CRLs are
also rebuilt shortly after a certificate is revoked.
:Ê
—
certificateauthority!CertificateCertificateDescription\gcp:certificateauthority/CertificateCertificateDescription:CertificateCertificateDescription­
ª­
aiaIssuingCertificateUrlsB*" ‡(Output)
Describes lists of issuer CA certificate URLs that appear in the "Authority Information Access" extension in the certificate.
û
authorityKeyIdsÍBÊ*Ç:Ä
Á
certificateauthority/CertificateCertificateDescriptionAuthorityKeyIdxgcp:certificateauthority/CertificateCertificateDescriptionAuthorityKeyId:CertificateCertificateDescriptionAuthorityKeyId—(Output)
Identifies the subjectKeyId of the parent certificate, per https://tools.ietf.org/html/rfc5280#section-4.2.1.1
Structure is documented below.
²
certFingerprintsÐBÍ*Ê:Ç
Ä
certificateauthority0CertificateCertificateDescriptionCertFingerprintzgcp:certificateauthority/CertificateCertificateDescriptionCertFingerprint:CertificateCertificateDescriptionCertFingerprintK(Output)
The hash of the x.509 certificate.
Structure is documented below.
Ê
crlDistributionPointsB*" ¨(Output)
Describes a list of locations to obtain CRL information, i.e. the DistributionPoint.fullName described by https://tools.ietf.org/html/rfc5280#section-4.2.1.13
›

publicKeys¾B»*¸:µ
²
certificateauthority*CertificateCertificateDescriptionPublicKeyngcp:certificateauthority/CertificateCertificateDescriptionPublicKey:CertificateCertificateDescriptionPublicKeyL(Output)
A PublicKey describes a public key.
Structure is documented below.
ù
subjectDescriptionsÚB×*Ô:Ñ
Î
certificateauthority3CertificateCertificateDescriptionSubjectDescription€gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescription:CertificateCertificateDescriptionSubjectDescription„(Output)
Describes some of the values in a certificate that are related to the subject and lifetime.
Structure is documented below.
‘
subjectKeyIdsÇBÄ*Á:¾
»
certificateauthority-CertificateCertificateDescriptionSubjectKeyIdtgcp:certificateauthority/CertificateCertificateDescriptionSubjectKeyId:CertificateCertificateDescriptionSubjectKeyIdµ(Output)
Provides a means of identifiying certificates that contain a particular public key, per https://tools.ietf.org/html/rfc5280#section-4.2.1.2.
Structure is documented below.
É
x509DescriptionsÐBÍ*Ê:Ç
Ä
certificateauthority0CertificateCertificateDescriptionX509Descriptionzgcp:certificateauthority/CertificateCertificateDescriptionX509Description:CertificateCertificateDescriptionX509Descriptionb(Output)
A structured description of the issued X.509 certificate.
Structure is documented below.
:è
Á
certificateauthority/CertificateCertificateDescriptionAuthorityKeyIdxgcp:certificateauthority/CertificateCertificateDescriptionAuthorityKeyId:CertificateCertificateDescriptionAuthorityKeyId¡
ž›
keyIdB" ‹(Output)
Optional. The value of this KeyId encoded in lowercase hexadecimal. This is most likely the 160 bit SHA-1 hash of the public key.
:±
Ä
certificateauthority0CertificateCertificateDescriptionCertFingerprintzgcp:certificateauthority/CertificateCertificateDescriptionCertFingerprint:CertificateCertificateDescriptionCertFingerprinth
fd

sha256HashB" P(Output)
The SHA 256 hash, encoded in hexadecimal, of the DER x509 certificate.
:¢
²
certificateauthority*CertificateCertificateDescriptionPublicKeyngcp:certificateauthority/CertificateCertificateDescriptionPublicKey:CertificateCertificateDescriptionPublicKeyê
ç‹
formatB" {The format of the public key. Currently, only PEM format is supported.
Possible values are: `KEY_TYPE_UNSPECIFIED`, `PEM`.
Ö
keyB" ÈRequired. A public key. When this is specified in a request, the padding and encoding can be any of the options described by the respective 'KeyType' value. When this is generated by the service, it will always be an RFC 5280 SubjectPublicKeyInfo structure containing an algorithm identifier and a key. A base64-encoded string.
:¤
Î
certificateauthority3CertificateCertificateDescriptionSubjectDescription€gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescription:CertificateCertificateDescriptionSubjectDescriptionÐ	
Í	V
hexSerialNumberB" =(Output)
The serial number encoded in lowercase hexadecimal.
ö
lifetimeB" ãThe desired lifetime of the CA certificate. Used to create the "notBeforeTime" and
"notAfterTime" fields inside an X.509 certificate. A duration in seconds with up to nine
fractional digits, terminated by 's'. Example: "3.5s".
J
notAfterTimeB" 4(Output)
The time at which the certificate expires.
Q
notBeforeTimeB" :(Output)
The time at which the certificate becomes valid.
ç
subjectAltNames„B*þ:û
ø
certificateauthorityACertificateCertificateDescriptionSubjectDescriptionSubjectAltNameœgcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltName:CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameM(Output)
The subject alternative name fields.
Structure is documented below.
ð
subjectsïBì*é:æ
ã
certificateauthority:CertificateCertificateDescriptionSubjectDescriptionSubjectŽgcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubject:CertificateCertificateDescriptionSubjectDescriptionSubjectr(Output)
Contains distinguished name fields such as the location and organization.
Structure is documented below.
:Þ
ã
certificateauthority:CertificateCertificateDescriptionSubjectDescriptionSubjectŽgcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubject:CertificateCertificateDescriptionSubjectDescriptionSubjectõ
ò?

commonNameB" +The common name of the distinguished name.
6
countryCodeB" !The country code of the subject.
7
localityB" %The locality or city of the subject.
7
organizationB" !The organization of the subject.
D
organizationalUnitB" (The organizational unit of the subject.
4

postalCodeB"  The postal code of the subject.
M
provinceB" ;The province, territory, or regional state of the subject.
:
streetAddressB" #The street address of the subject.
:·
ø
certificateauthorityACertificateCertificateDescriptionSubjectDescriptionSubjectAltNameœgcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltName:CertificateCertificateDescriptionSubjectDescriptionSubjectAltName¹
¶

customSansŸBœ*™:–
“
certificateauthorityJCertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSan®gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSan:CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSan](Output)
Contains additional subject alternative name values.
Structure is documented below.
E
dnsNamesB*" 1Contains only valid, fully-qualified host names.
I
emailAddressesB*" /Contains only valid RFC 2822 E-mail addresses.
]
ipAddressesB*" FContains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
3
urisB*" #Contains only valid RFC 3986 URIs.
:ˆ
“
certificateauthorityJCertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSan®gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSan:CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanï
ì^
criticalB
 L(Output)
Indicates whether or not the name constraints are marked critical.
¼
obectIds´B±*®:«
¨
certificateauthorityQCertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectId¼gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectId:CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectIdy(Output)
Describes how some of the technical fields in a certificate should be populated.
Structure is documented below.
K
valueB" <The value of this X.509 extension. A base64-encoded string.
:Ä
¨
certificateauthorityQCertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectId¼gcp:certificateauthority/CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectId:CertificateCertificateDescriptionSubjectDescriptionSubjectAltNameCustomSanObectId–
“
objectIdPathsB* w(Output)
An ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:„
»
certificateauthority-CertificateCertificateDescriptionSubjectKeyIdtgcp:certificateauthority/CertificateCertificateDescriptionSubjectKeyId:CertificateCertificateDescriptionSubjectKeyIdD
B@
keyIdB" 1The value of the KeyId in lowercase hexadecimal.
:É
Ä
certificateauthority0CertificateCertificateDescriptionX509Descriptionzgcp:certificateauthority/CertificateCertificateDescriptionX509Description:CertificateCertificateDescriptionX509Descriptionÿ
üð
additionalExtensionsŠB‡*„:
þ
certificateauthorityCCertificateCertificateDescriptionX509DescriptionAdditionalExtension gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionAdditionalExtension:CertificateCertificateDescriptionX509DescriptionAdditionalExtensionK(Output)
Describes custom X.509 extensions.
Structure is documented below.
»
aiaOcspServersB*"  (Output)
Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
"Authority Information Access" extension in the certificate.
Ù
	caOptionséBæ*ã:à
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionCaOptionŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionCaOption:CertificateCertificateDescriptionX509DescriptionCaOption`(Output)
Describes values that are relevant in a CA certificate.
Structure is documented below.
ç
	keyUsageséBæ*ã:à
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionKeyUsageŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsagen(Output)
Indicates the intended use for keys that correspond to a certificate.
Structure is documented below.
é
nameConstraintsûBø*õ:ò
ï
certificateauthority>CertificateCertificateDescriptionX509DescriptionNameConstraint–gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionNameConstraint:CertificateCertificateDescriptionX509DescriptionNameConstraintX(Output)
Describes the X.509 name constraints extension.
Structure is documented below.
–
	policyIdséBæ*ã:à
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionPolicyIdŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionPolicyId:CertificateCertificateDescriptionX509DescriptionPolicyIdœ(Output)
Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
Structure is documented below.
:œ
þ
certificateauthorityCCertificateCertificateDescriptionX509DescriptionAdditionalExtension gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionAdditionalExtension:CertificateCertificateDescriptionX509DescriptionAdditionalExtension˜
•¹
criticalB
 ¦Indicates whether or not this extension is critical (i.e., if the client does not know how to
handle this extension, the client should consider this to be an error).
‰
	objectIds¢BŸ*œ:™
–
certificateauthorityKCertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectId°gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectId:CertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectIdWDescribes values that are relevant in a CA certificate.
Structure is documented below.
K
valueB" <The value of this X.509 extension. A base64-encoded string.
:©
–
certificateauthorityKCertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectId°gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectId:CertificateCertificateDescriptionX509DescriptionAdditionalExtensionObjectId
Š‡
objectIdPathsB* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:Á
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionCaOptionŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionCaOption:CertificateCertificateDescriptionX509DescriptionCaOptionÞ
ÛV
isCaB
 HWhen true, the "CA" in Basic Constraints extension will be set to true.
€
maxIssuerPathLengthB âRefers to the "path length constraint" in Basic Constraints extension. For a CA certificate, this value describes the depth of
subordinate CA certificates that are allowed. If this value is less than 0, the request will fail.
:Æ
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionKeyUsageŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageã	
à	ö
baseKeyUsagesBŠ*‡:„

certificateauthorityDCertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsage¢gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
†
extendedKeyUsages™B–*“:

certificateauthorityHCertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsageªgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
Û
unknownExtendedKeyUsages®B«*¨:¥
¢
certificateauthorityOCertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsage¸gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsageAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
Structure is documented below.
:¶

certificateauthorityDCertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsage¢gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageBaseKeyUsage¯
¬<
certSignB
 *The key may be used to sign certificates.
‹
contentCommitmentB
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
H
crlSignB
 7The key may be used sign certificate revocation lists.
@
dataEnciphermentB
 &The key may be used to encipher data.
<
decipherOnlyB
 &The key may be used to decipher only.
F
digitalSignatureB
 ,The key may be used for digital signatures.
<
encipherOnlyB
 &The key may be used to encipher only.
G
keyAgreementB
 1The key may be used in a key agreement protocol.
E
keyEnciphermentB
 ,The key may be used to encipher other keys.
:Æ

certificateauthorityHCertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsageªgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageExtendedKeyUsage³
°›

clientAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
”
codeSigningB
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
k
emailProtectionB
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
m
ocspSigningB
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
›

serverAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.

timeStampingB
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:µ
¢
certificateauthorityOCertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsage¸gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsage:CertificateCertificateDescriptionX509DescriptionKeyUsageUnknownExtendedKeyUsage
Š‡
objectIdPathsB* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:ã
ï
certificateauthority>CertificateCertificateDescriptionX509DescriptionNameConstraint–gcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionNameConstraint:CertificateCertificateDescriptionX509DescriptionNameConstraintî
ëU
criticalB
 CIndicates whether or not the name constraints are marked critical.
Å
excludedDnsNamesB*" ¨Contains excluded DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
—
excludedEmailAddressesB*" ôContains the excluded email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
í
excludedIpRangesB*" ÐContains the excluded IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
±
excludedUrisB*" ˜Contains the excluded URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
Ç
permittedDnsNamesB*" ©Contains permitted DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
™
permittedEmailAddressesB*" õContains the permitted email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
ï
permittedIpRangesB*" ÑContains the permitted IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
³
permittedUrisB*" ™Contains the permitted URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
:ð
Ý
certificateauthority8CertificateCertificateDescriptionX509DescriptionPolicyIdŠgcp:certificateauthority/CertificateCertificateDescriptionX509DescriptionPolicyId:CertificateCertificateDescriptionX509DescriptionPolicyId
Š‡
objectIdPathsB* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:‰
g
certificateauthorityCertificateConfig<gcp:certificateauthority/CertificateConfig:CertificateConfig

š
¡
	publicKeyˆ:…
‚
certificateauthorityCertificateConfigPublicKeyNgcp:certificateauthority/CertificateConfigPublicKey:CertificateConfigPublicKeyˆA PublicKey describes a public key.
Structure is documented below.


<a name="nested_x509_config"></a>The `x509_config` block supports:
–
subjectConfig”:‘
Ž
certificateauthorityCertificateConfigSubjectConfigVgcp:certificateauthority/CertificateConfigSubjectConfig:CertificateConfigSubjectConfignSpecifies some of the values in a certificate that are related to the subject.
Structure is documented below.
Å
subjectKeyId”B‘:Ž
‹
certificateauthorityCertificateConfigSubjectKeyIdTgcp:certificateauthority/CertificateConfigSubjectKeyId:CertificateConfigSubjectKeyIdWhen specified this provides a custom SKI to be used in the certificate. This should only be used to maintain a SKI of an existing CA originally created outside CA service, which was not generated using method (1) described in RFC 5280 section 4.2.1.2..
Structure is documented below.
’

x509Config‹:ˆ
…
certificateauthorityCertificateConfigX509ConfigPgcp:certificateauthority/CertificateConfigX509Config:CertificateConfigX509ConfigvDescribes how some of the technical X.509 fields in a certificate should be populated.
Structure is documented below.
:ð
‚
certificateauthorityCertificateConfigPublicKeyNgcp:certificateauthority/CertificateConfigPublicKey:CertificateConfigPublicKeyè
å‰
format" {The format of the public key. Currently, only PEM format is supported.
Possible values are: `KEY_TYPE_UNSPECIFIED`, `PEM`.
Ö
keyB" ÈRequired. A public key. When this is specified in a request, the padding and encoding can be any of the options described by the respective 'KeyType' value. When this is generated by the service, it will always be an RFC 5280 SubjectPublicKeyInfo structure containing an algorithm identifier and a key. A base64-encoded string.
:×
Ž
certificateauthorityCertificateConfigSubjectConfigVgcp:certificateauthority/CertificateConfigSubjectConfig:CertificateConfigSubjectConfigÃ
À 
subject©:¦
£
certificateauthority%CertificateConfigSubjectConfigSubjectdgcp:certificateauthority/CertificateConfigSubjectConfigSubject:CertificateConfigSubjectConfigSubjectiContains distinguished name fields such as the location and organization.
Structure is documented below.
š
subjectAltNameÁB¾:»
¸
certificateauthority,CertificateConfigSubjectConfigSubjectAltNamergcp:certificateauthority/CertificateConfigSubjectConfigSubjectAltName:CertificateConfigSubjectConfigSubjectAltNameDThe subject alternative name fields.
Structure is documented below.
:š
£
certificateauthority%CertificateConfigSubjectConfigSubjectdgcp:certificateauthority/CertificateConfigSubjectConfigSubject:CertificateConfigSubjectConfigSubjectñ
î=

commonName" +The common name of the distinguished name.
6
countryCodeB" !The country code of the subject.
7
localityB" %The locality or city of the subject.
5
organization" !The organization of the subject.
D
organizationalUnitB" (The organizational unit of the subject.
4

postalCodeB"  The postal code of the subject.
M
provinceB" ;The province, territory, or regional state of the subject.
:
streetAddressB" #The street address of the subject.
:ç
¸
certificateauthority,CertificateConfigSubjectConfigSubjectAltNamergcp:certificateauthority/CertificateConfigSubjectConfigSubjectAltName:CertificateConfigSubjectConfigSubjectAltName©
¦E
dnsNamesB*" 1Contains only valid, fully-qualified host names.
I
emailAddressesB*" /Contains only valid RFC 2822 E-mail addresses.
]
ipAddressesB*" FContains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
3
urisB*" #Contains only valid RFC 3986 URIs.
:Ô
‹
certificateauthorityCertificateConfigSubjectKeyIdTgcp:certificateauthority/CertificateConfigSubjectKeyId:CertificateConfigSubjectKeyIdD
B@
keyIdB" 1The value of the KeyId in lowercase hexadecimal.
:Ã
…
certificateauthorityCertificateConfigX509ConfigPgcp:certificateauthority/CertificateConfigX509Config:CertificateConfigX509Config¸
µ°
additionalExtensionsÊBÇ*Ä:Á
¾
certificateauthority.CertificateConfigX509ConfigAdditionalExtensionvgcp:certificateauthority/CertificateConfigX509ConfigAdditionalExtension:CertificateConfigX509ConfigAdditionalExtensionK(Output)
Describes custom X.509 extensions.
Structure is documented below.
»
aiaOcspServersB*"  (Output)
Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
"Authority Information Access" extension in the certificate.
™
	caOptions©B¦:£
 
certificateauthority$CertificateConfigX509ConfigCaOptionsbgcp:certificateauthority/CertificateConfigX509ConfigCaOptions:CertificateConfigX509ConfigCaOptions`(Output)
Describes values that are relevant in a CA certificate.
Structure is documented below.
 
keyUsage£: 

certificateauthority#CertificateConfigX509ConfigKeyUsage`gcp:certificateauthority/CertificateConfigX509ConfigKeyUsage:CertificateConfigX509ConfigKeyUsagen(Output)
Indicates the intended use for keys that correspond to a certificate.
Structure is documented below.
©
nameConstraints»B¸:µ
²
certificateauthority*CertificateConfigX509ConfigNameConstraintsngcp:certificateauthority/CertificateConfigX509ConfigNameConstraints:CertificateConfigX509ConfigNameConstraintsX(Output)
Describes the X.509 name constraints extension.
Structure is documented below.
Ö
	policyIds©B¦*£: 

certificateauthority#CertificateConfigX509ConfigPolicyId`gcp:certificateauthority/CertificateConfigX509ConfigPolicyId:CertificateConfigX509ConfigPolicyIdœ(Output)
Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
Structure is documented below.
:’
¾
certificateauthority.CertificateConfigX509ConfigAdditionalExtensionvgcp:certificateauthority/CertificateConfigX509ConfigAdditionalExtension:CertificateConfigX509ConfigAdditionalExtensionÎ
Ë·
critical
 ¦Indicates whether or not this extension is critical (i.e., if the client does not know how to
handle this extension, the client should consider this to be an error).
Ã
objectIdÝ:Ú
×
certificateauthority6CertificateConfigX509ConfigAdditionalExtensionObjectId†gcp:certificateauthority/CertificateConfigX509ConfigAdditionalExtensionObjectId:CertificateConfigX509ConfigAdditionalExtensionObjectIdWDescribes values that are relevant in a CA certificate.
Structure is documented below.
I
value" <The value of this X.509 extension. A base64-encoded string.
:è
×
certificateauthority6CertificateConfigX509ConfigAdditionalExtensionObjectId†gcp:certificateauthority/CertificateConfigX509ConfigAdditionalExtensionObjectId:CertificateConfigX509ConfigAdditionalExtensionObjectId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:È
 
certificateauthority$CertificateConfigX509ConfigCaOptionsbgcp:certificateauthority/CertificateConfigX509ConfigCaOptions:CertificateConfigX509ConfigCaOptions¢
ŸV
isCaB
 HWhen true, the "CA" in Basic Constraints extension will be set to true.
€
maxIssuerPathLengthB âRefers to the "path length constraint" in Basic Constraints extension. For a CA certificate, this value describes the depth of
subordinate CA certificates that are allowed. If this value is less than 0, the request will fail.
¸
nonCaB
 ¨When true, the "CA" in Basic Constraints extension will be set to false.
If both `is_ca` and `non_ca` are unset, the extension will be omitted from the CA certificate.
†
zeroMaxIssuerPathLengthB
 äWhen true, the "path length constraint" in Basic Constraints extension will be set to 0.
if both `max_issuer_path_length` and `zero_max_issuer_path_length` are unset,
the max path length will be omitted from the CA certificate.
:º	

certificateauthority#CertificateConfigX509ConfigKeyUsage`gcp:certificateauthority/CertificateConfigX509ConfigKeyUsage:CertificateConfigX509ConfigKeyUsage—
”¯
baseKeyUsageÇ:Ä
Á
certificateauthority/CertificateConfigX509ConfigKeyUsageBaseKeyUsagexgcp:certificateauthority/CertificateConfigX509ConfigKeyUsageBaseKeyUsage:CertificateConfigX509ConfigKeyUsageBaseKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
À
extendedKeyUsageÔ:Ñ
Î
certificateauthority3CertificateConfigX509ConfigKeyUsageExtendedKeyUsage€gcp:certificateauthority/CertificateConfigX509ConfigKeyUsageExtendedKeyUsage:CertificateConfigX509ConfigKeyUsageExtendedKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
œ
unknownExtendedKeyUsagesïBì*é:æ
ã
certificateauthority:CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsageŽgcp:certificateauthority/CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsageAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
Structure is documented below.
:ö
Á
certificateauthority/CertificateConfigX509ConfigKeyUsageBaseKeyUsagexgcp:certificateauthority/CertificateConfigX509ConfigKeyUsageBaseKeyUsage:CertificateConfigX509ConfigKeyUsageBaseKeyUsage¯
¬<
certSignB
 *The key may be used to sign certificates.
‹
contentCommitmentB
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
H
crlSignB
 7The key may be used sign certificate revocation lists.
@
dataEnciphermentB
 &The key may be used to encipher data.
<
decipherOnlyB
 &The key may be used to decipher only.
F
digitalSignatureB
 ,The key may be used for digital signatures.
<
encipherOnlyB
 &The key may be used to encipher only.
G
keyAgreementB
 1The key may be used in a key agreement protocol.
E
keyEnciphermentB
 ,The key may be used to encipher other keys.
:‡
Î
certificateauthority3CertificateConfigX509ConfigKeyUsageExtendedKeyUsage€gcp:certificateauthority/CertificateConfigX509ConfigKeyUsageExtendedKeyUsage:CertificateConfigX509ConfigKeyUsageExtendedKeyUsage³
°›

clientAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
”
codeSigningB
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
k
emailProtectionB
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
m
ocspSigningB
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
›

serverAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.

timeStampingB
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:ô
ã
certificateauthority:CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsageŽgcp:certificateauthority/CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:CertificateConfigX509ConfigKeyUsageUnknownExtendedKeyUsage‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:¤
²
certificateauthority*CertificateConfigX509ConfigNameConstraintsngcp:certificateauthority/CertificateConfigX509ConfigNameConstraints:CertificateConfigX509ConfigNameConstraintsì
éS
critical
 CIndicates whether or not the name constraints are marked critical.
Å
excludedDnsNamesB*" ¨Contains excluded DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
—
excludedEmailAddressesB*" ôContains the excluded email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
í
excludedIpRangesB*" ÐContains the excluded IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
±
excludedUrisB*" ˜Contains the excluded URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
Ç
permittedDnsNamesB*" ©Contains permitted DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, `example.com`, `www.example.com`, `www.sub.example.com`
would satisfy `example.com` while `example1.com` does not.
™
permittedEmailAddressesB*" õContains the permitted email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. `.example.com`) to indicate
all email addresses in that domain.
ï
permittedIpRangesB*" ÑContains the permitted IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
³
permittedUrisB*" ™Contains the permitted URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like `.example.com`)
:®

certificateauthority#CertificateConfigX509ConfigPolicyId`gcp:certificateauthority/CertificateConfigX509ConfigPolicyId:CertificateConfigX509ConfigPolicyId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:®
…
certificateauthorityCertificateRevocationDetailPgcp:certificateauthority/CertificateRevocationDetail:CertificateRevocationDetail£
 K
revocationStateB" 2(Output)
Indicates why a Certificate was revoked.
Q
revocationTimeB" 9(Output)
The time at which this Certificate was revoked.
:ý
¦
certificateauthority&CertificateTemplateIamBindingConditionfgcp:certificateauthority/CertificateTemplateIamBindingCondition:CertificateTemplateIamBindingConditionÑ
Î
descriptionB" `

expression" NTextual representation of an expression in Common Expression Language syntax.
U
title" HA title for the expression, i.e. a short string describing its purpose.
:ú
£
certificateauthority%CertificateTemplateIamMemberConditiondgcp:certificateauthority/CertificateTemplateIamMemberCondition:CertificateTemplateIamMemberConditionÑ
Î
descriptionB" `

expression" NTextual representation of an expression in Common Expression Language syntax.
U
title" HA title for the expression, i.e. a short string describing its purpose.
:ü
¦
certificateauthority&CertificateTemplateIdentityConstraintsfgcp:certificateauthority/CertificateTemplateIdentityConstraints:CertificateTemplateIdentityConstraintsÐ
Íã
allowSubjectAltNamesPassthrough
 »Required. If this is true, the SubjectAltNames extension may be copied from a certificate request into the signed certificate. Otherwise, the requested SubjectAltNames will be discarded.
Ç
allowSubjectPassthrough
 §Required. If this is true, the Subject field may be copied from a certificate request into the signed certificate. Otherwise, the requested Subject will be discarded.
š
celExpression×BÔ:Ñ
Î
certificateauthority3CertificateTemplateIdentityConstraintsCelExpression€gcp:certificateauthority/CertificateTemplateIdentityConstraintsCelExpression:CertificateTemplateIdentityConstraintsCelExpression®Optional. A CEL expression that may be used to validate the resolved X.509 Subject and/or Subject Alternative Name before a certificate is signed. To see the full allowed syntax and some examples, see https://cloud.google.com/certificate-authority-service/docs/using-cel
Structure is documented below.
:
Î
certificateauthority3CertificateTemplateIdentityConstraintsCelExpression€gcp:certificateauthority/CertificateTemplateIdentityConstraintsCelExpression:CertificateTemplateIdentityConstraintsCelExpression¹
¶˜
descriptionB" ‚Optional. Description of the expression. This is a longer text which describes the expression, e.g. when hovered over it in a UI.
b

expressionB" NTextual representation of an expression in Common Expression Language syntax.

locationB" }Optional. String indicating the location of the expression for error reporting, e.g. a file name and a position in the file.
¢
titleB" ’Optional. Title for the expression, i.e. a short string describing its purpose. This can be used e.g. in UIs which allow to enter the expression.
:¢
¬
certificateauthority(CertificateTemplatePassthroughExtensionsjgcp:certificateauthority/CertificateTemplatePassthroughExtensions:CertificateTemplatePassthroughExtensionsð
íÅ
additionalExtensionsòBï*ì:é
æ
certificateauthority;CertificateTemplatePassthroughExtensionsAdditionalExtensiongcp:certificateauthority/CertificateTemplatePassthroughExtensionsAdditionalExtension:CertificateTemplatePassthroughExtensionsAdditionalExtension·Optional. A set of ObjectIds identifying custom X.509 extensions. Will be combined with known_extensions to determine the full set of X.509 extensions.
Structure is documented below.
¢
knownExtensionsB*" †Optional. A set of named X.509 extensions. Will be combined with additional_extensions to determine the full set of X.509 extensions.
:Ý
æ
certificateauthority;CertificateTemplatePassthroughExtensionsAdditionalExtensiongcp:certificateauthority/CertificateTemplatePassthroughExtensionsAdditionalExtension:CertificateTemplatePassthroughExtensionsAdditionalExtensionr
pn
objectIdPaths* WRequired. The parts of an OID path. The most significant parts of the path come first.
:°

certificateauthority#CertificateTemplatePredefinedValues`gcp:certificateauthority/CertificateTemplatePredefinedValues:CertificateTemplatePredefinedValues
ŠÊ
additionalExtensionsãBà*Ý:Ú
×
certificateauthority6CertificateTemplatePredefinedValuesAdditionalExtension†gcp:certificateauthority/CertificateTemplatePredefinedValuesAdditionalExtension:CertificateTemplatePredefinedValuesAdditionalExtensionLOptional. Describes custom X.509 extensions.
Structure is documented below.
¼
aiaOcspServersB*" ¡Optional. Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the "Authority Information Access" extension in the certificate.
Ê
	caOptionsÁB¾:»
¸
certificateauthority,CertificateTemplatePredefinedValuesCaOptionsrgcp:certificateauthority/CertificateTemplatePredefinedValuesCaOptions:CertificateTemplatePredefinedValuesCaOptionsyOptional. Describes options in this X509Parameters that are relevant in a CA certificate.
Structure is documented below.
¼
keyUsage¾B»:¸
µ
certificateauthority+CertificateTemplatePredefinedValuesKeyUsagepgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsage:CertificateTemplatePredefinedValuesKeyUsageoOptional. Indicates the intended use for keys that correspond to a certificate.
Structure is documented below.
ï
	policyIdsÁB¾*»:¸
µ
certificateauthority+CertificateTemplatePredefinedValuesPolicyIdpgcp:certificateauthority/CertificateTemplatePredefinedValuesPolicyId:CertificateTemplatePredefinedValuesPolicyIdOptional. Describes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
Structure is documented below.
:´
×
certificateauthority6CertificateTemplatePredefinedValuesAdditionalExtension†gcp:certificateauthority/CertificateTemplatePredefinedValuesAdditionalExtension:CertificateTemplatePredefinedValuesAdditionalExtension×
ÔÃ
criticalB
 °Optional. Indicates whether or not this extension is critical (i.e., if the client does not know how to handle this extension, the client should consider this to be an error).
Ï
objectIdõ:ò
ï
certificateauthority>CertificateTemplatePredefinedValuesAdditionalExtensionObjectId–gcp:certificateauthority/CertificateTemplatePredefinedValuesAdditionalExtensionObjectId:CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdKRequired. The OID for this X.509 extension.
Structure is documented below.
:
value" -Required. The value of this X.509 extension.
:æ
ï
certificateauthority>CertificateTemplatePredefinedValuesAdditionalExtensionObjectId–gcp:certificateauthority/CertificateTemplatePredefinedValuesAdditionalExtensionObjectId:CertificateTemplatePredefinedValuesAdditionalExtensionObjectIdr
pn
objectIdPaths* WRequired. The parts of an OID path. The most significant parts of the path come first.
:Â
¸
certificateauthority,CertificateTemplatePredefinedValuesCaOptionsrgcp:certificateauthority/CertificateTemplatePredefinedValuesCaOptions:CertificateTemplatePredefinedValuesCaOptions„
ª
isCaB
 ›Optional. Refers to the "CA" X.509 extension, which is a boolean value. When this value is missing, the extension will be omitted from the CA certificate.
Ñ
maxIssuerPathLengthB ³Optional. Refers to the path length restriction X.509 extension. For a CA certificate, this value describes the depth of subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. If this value is missing, the max path length will be omitted from the CA certificate.
:–

µ
certificateauthority+CertificateTemplatePredefinedValuesKeyUsagepgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsage:CertificateTemplatePredefinedValuesKeyUsageÛ
ØË
baseKeyUsageãBà:Ý
Ú
certificateauthority7CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageˆgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsage:CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageUDescribes high-level ways in which a key may be used.
Structure is documented below.
Ô
extendedKeyUsageïBì:é
æ
certificateauthority;CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsagegcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsage:CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsageNDetailed scenarios in which a key may be used.
Structure is documented below.
°
unknownExtendedKeyUsages‡B„*:þ
û
certificateauthorityBCertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsagežgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsage:CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsage‰Used to describe extended key usages that are not listed in the KeyUsage.ExtendedKeyUsageOptions message.
Structure is documented below.
:
Ú
certificateauthority7CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsageˆgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsage:CertificateTemplatePredefinedValuesKeyUsageBaseKeyUsage¯
¬<
certSignB
 *The key may be used to sign certificates.
‹
contentCommitmentB
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
H
crlSignB
 7The key may be used sign certificate revocation lists.
@
dataEnciphermentB
 &The key may be used to encipher data.
<
decipherOnlyB
 &The key may be used to decipher only.
F
digitalSignatureB
 ,The key may be used for digital signatures.
<
encipherOnlyB
 &The key may be used to encipher only.
G
keyAgreementB
 1The key may be used in a key agreement protocol.
E
keyEnciphermentB
 ,The key may be used to encipher other keys.
:Ÿ
æ
certificateauthority;CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsagegcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsage:CertificateTemplatePredefinedValuesKeyUsageExtendedKeyUsage³
°›

clientAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
”
codeSigningB
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
k
emailProtectionB
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
m
ocspSigningB
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
›

serverAuthB
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.

timeStampingB
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:ò
û
certificateauthorityBCertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsagežgcp:certificateauthority/CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsage:CertificateTemplatePredefinedValuesKeyUsageUnknownExtendedKeyUsager
pn
objectIdPaths* WRequired. The parts of an OID path. The most significant parts of the path come first.
:¬
µ
certificateauthority+CertificateTemplatePredefinedValuesPolicyIdpgcp:certificateauthority/CertificateTemplatePredefinedValuesPolicyId:CertificateTemplatePredefinedValuesPolicyIdr
pn
objectIdPaths* WRequired. The parts of an OID path. The most significant parts of the path come first.
:«
s
certificateauthoritygetAuthorityAccessUrlDgcp:certificateauthority/getAuthorityAccessUrl:getAuthorityAccessUrl³
°
caCertificateAccessUrl" The URL where this CertificateAuthority's CA certificate is published. This will only be
set for CAs that have been activated.

crlAccessUrls*" vThe URL where this CertificateAuthority's CRLs are published. This will only be set for
CAs that have been activated.
:
j
certificateauthoritygetAuthorityConfig>gcp:certificateauthority/getAuthorityConfig:getAuthorityConfig®
«þ
subjectConfigsš*—:”
‘
certificateauthoritygetAuthorityConfigSubjectConfigXgcp:certificateauthority/getAuthorityConfigSubjectConfig:getAuthorityConfigSubjectConfigOSpecifies some of the values in a certificate that are related to the subject.
ª
subjectKeyIds—*”:‘
Ž
certificateauthoritygetAuthorityConfigSubjectKeyIdVgcp:certificateauthority/getAuthorityConfigSubjectKeyId:getAuthorityConfigSubjectKeyIdþWhen specified this provides a custom SKI to be used in the certificate. This should only be used to maintain a SKI of an existing CA originally created outside CA service, which was not generated using method (1) described in RFC 5280 section 4.2.1.2..
ú
x509Configs‘*Ž:‹
ˆ
certificateauthoritygetAuthorityConfigX509ConfigRgcp:certificateauthority/getAuthorityConfigX509Config:getAuthorityConfigX509ConfigWDescribes how some of the technical X.509 fields in a certificate should be populated.
:§
‘
certificateauthoritygetAuthorityConfigSubjectConfigXgcp:certificateauthority/getAuthorityConfigSubjectConfig:getAuthorityConfigSubjectConfig
ÿ
subjectAltNamesÄ*Á:¾
»
certificateauthority-getAuthorityConfigSubjectConfigSubjectAltNametgcp:certificateauthority/getAuthorityConfigSubjectConfigSubjectAltName:getAuthorityConfigSubjectConfigSubjectAltName%The subject alternative name fields.
ˆ
subjects¯*¬:©
¦
certificateauthority&getAuthorityConfigSubjectConfigSubjectfgcp:certificateauthority/getAuthorityConfigSubjectConfigSubject:getAuthorityConfigSubjectConfigSubjectJContains distinguished name fields such as the location and organization.
:‘
¦
certificateauthority&getAuthorityConfigSubjectConfigSubjectfgcp:certificateauthority/getAuthorityConfigSubjectConfigSubject:getAuthorityConfigSubjectConfigSubjectå
â=

commonName" +The common name of the distinguished name.
4
countryCode" !The country code of the subject.
5
locality" %The locality or city of the subject.
5
organization" !The organization of the subject.
B
organizationalUnit" (The organizational unit of the subject.
2

postalCode"  The postal code of the subject.
K
province" ;The province, territory, or regional state of the subject.
8
streetAddress" #The street address of the subject.
:â
»
certificateauthority-getAuthorityConfigSubjectConfigSubjectAltNametgcp:certificateauthority/getAuthorityConfigSubjectConfigSubjectAltName:getAuthorityConfigSubjectConfigSubjectAltName¡
žC
dnsNames*" 1Contains only valid, fully-qualified host names.
G
emailAddresses*" /Contains only valid RFC 2822 E-mail addresses.
[
ipAddresses*" FContains only valid 32-bit IPv4 addresses or RFC 4291 IPv6 addresses.
1
uris*" #Contains only valid RFC 3986 URIs.
:Õ
Ž
certificateauthoritygetAuthorityConfigSubjectKeyIdVgcp:certificateauthority/getAuthorityConfigSubjectKeyId:getAuthorityConfigSubjectKeyIdB
@>
keyId" 1The value of the KeyId in lowercase hexadecimal.
:Í
ˆ
certificateauthoritygetAuthorityConfigX509ConfigRgcp:certificateauthority/getAuthorityConfigX509Config:getAuthorityConfigX509Config¿
¼Ü
additionalExtensionsÊ*Ç:Ä
Á
certificateauthority/getAuthorityConfigX509ConfigAdditionalExtensionxgcp:certificateauthority/getAuthorityConfigX509ConfigAdditionalExtension:getAuthorityConfigX509ConfigAdditionalExtensionwSpecifies an X.509 extension, which may be used in different parts of X.509 objects like certificates, CSRs, and CRLs.
°
aiaOcspServers*" —Describes Online Certificate Status Protocol (OCSP) endpoint addresses that appear in the
"Authority Information Access" extension in the certificate.
ñ
	caOptions©*¦:£
 
certificateauthority$getAuthorityConfigX509ConfigCaOptionbgcp:certificateauthority/getAuthorityConfigX509ConfigCaOption:getAuthorityConfigX509ConfigCaOption8Describes values that are relevant in a CA certificate.
ÿ
	keyUsages©*¦:£
 
certificateauthority$getAuthorityConfigX509ConfigKeyUsagebgcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsage:getAuthorityConfigX509ConfigKeyUsageFIndicates the intended use for keys that correspond to a certificate.

nameConstraints»*¸:µ
²
certificateauthority*getAuthorityConfigX509ConfigNameConstraintngcp:certificateauthority/getAuthorityConfigX509ConfigNameConstraint:getAuthorityConfigX509ConfigNameConstraint0Describes the X.509 name constraints extension.
­
	policyIds©*¦:£
 
certificateauthority$getAuthorityConfigX509ConfigPolicyIdbgcp:certificateauthority/getAuthorityConfigX509ConfigPolicyId:getAuthorityConfigX509ConfigPolicyIdtDescribes the X.509 certificate policy object identifiers, per https://tools.ietf.org/html/rfc5280#section-4.2.1.4.
:ý
Á
certificateauthority/getAuthorityConfigX509ConfigAdditionalExtensionxgcp:certificateauthority/getAuthorityConfigX509ConfigAdditionalExtension:getAuthorityConfigX509ConfigAdditionalExtension¶
³·
critical
 ¦Indicates whether or not this extension is critical (i.e., if the client does not know how to
handle this extension, the client should consider this to be an error).
«
	objectIdsã*à:Ý
Ú
certificateauthority7getAuthorityConfigX509ConfigAdditionalExtensionObjectIdˆgcp:certificateauthority/getAuthorityConfigX509ConfigAdditionalExtensionObjectId:getAuthorityConfigX509ConfigAdditionalExtensionObjectId8Describes values that are relevant in a CA certificate.
I
value" <The value of this X.509 extension. A base64-encoded string.
:ë
Ú
certificateauthority7getAuthorityConfigX509ConfigAdditionalExtensionObjectIdˆgcp:certificateauthority/getAuthorityConfigX509ConfigAdditionalExtensionObjectId:getAuthorityConfigX509ConfigAdditionalExtensionObjectId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:Ž
 
certificateauthority$getAuthorityConfigX509ConfigCaOptionbgcp:certificateauthority/getAuthorityConfigX509ConfigCaOption:getAuthorityConfigX509ConfigCaOptionè
åT
isCa
 HWhen true, the "CA" in Basic Constraints extension will be set to true.
Ì
maxIssuerPathLength °Refers to the "path length constraint" in Basic Constraints extension. For a CA certificate, this value describes the depth of
subordinate CA certificates that are allowed. If this value is less than 0, the request will fail. Setting the value to 0
requires setting 'zero_max_issuer_path_length = true'.
¶
nonCa
 ¨When true, the "CA" in Basic Constraints extension will be set to false.
If both 'is_ca' and 'non_ca' are unset, the extension will be omitted from the CA certificate.
„
zeroMaxIssuerPathLength
 äWhen true, the "path length constraint" in Basic Constraints extension will be set to 0.
If both 'max_issuer_path_length' and 'zero_max_issuer_path_length' are unset,
the max path length will be omitted from the CA certificate.
:í
 
certificateauthority$getAuthorityConfigX509ConfigKeyUsagebgcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsage:getAuthorityConfigX509ConfigKeyUsageÇ
Ä—
baseKeyUsagesÍ*Ê:Ç
Ä
certificateauthority0getAuthorityConfigX509ConfigKeyUsageBaseKeyUsagezgcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageBaseKeyUsage:getAuthorityConfigX509ConfigKeyUsageBaseKeyUsage6Describes high-level ways in which a key may be used.
¨
extendedKeyUsagesÚ*×:Ô
Ñ
certificateauthority4getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage‚gcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage:getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage6Describes high-level ways in which a key may be used.
ü
unknownExtendedKeyUsagesï*ì:é
æ
certificateauthority;getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsagegcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsagenAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:ç
Ä
certificateauthority0getAuthorityConfigX509ConfigKeyUsageBaseKeyUsagezgcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageBaseKeyUsage:getAuthorityConfigX509ConfigKeyUsageBaseKeyUsage
š:
certSign
 *The key may be used to sign certificates.
‰
contentCommitment
 pThe key may be used for cryptographic commitments. Note that this may also be referred to as "non-repudiation".
F
crlSign
 7The key may be used sign certificate revocation lists.
>
dataEncipherment
 &The key may be used to encipher data.
:
decipherOnly
 &The key may be used to decipher only.
D
digitalSignature
 ,The key may be used for digital signatures.
:
encipherOnly
 &The key may be used to encipher only.
E
keyAgreement
 1The key may be used in a key agreement protocol.
C
keyEncipherment
 ,The key may be used to encipher other keys.
:þ
Ñ
certificateauthority4getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage‚gcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage:getAuthorityConfigX509ConfigKeyUsageExtendedKeyUsage§
¤™

clientAuth
 †Corresponds to OID 1.3.6.1.5.5.7.3.2. Officially described as "TLS WWW client authentication", though regularly used for non-WWW TLS.
’
codeSigning
 Corresponds to OID 1.3.6.1.5.5.7.3.3. Officially described as "Signing of downloadable executable code client authentication".
i
emailProtection
 RCorresponds to OID 1.3.6.1.5.5.7.3.4. Officially described as "Email protection".
k
ocspSigning
 XCorresponds to OID 1.3.6.1.5.5.7.3.9. Officially described as "Signing OCSP responses".
™

serverAuth
 †Corresponds to OID 1.3.6.1.5.5.7.3.1. Officially described as "TLS WWW server authentication", though regularly used for non-WWW TLS.
}
timeStamping
 iCorresponds to OID 1.3.6.1.5.5.7.3.8. Officially described as "Binding the hash of an object to a time".
:÷
æ
certificateauthority;getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsagegcp:certificateauthority/getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage:getAuthorityConfigX509ConfigKeyUsageUnknownExtendedKeyUsage‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:”
²
certificateauthority*getAuthorityConfigX509ConfigNameConstraintngcp:certificateauthority/getAuthorityConfigX509ConfigNameConstraint:getAuthorityConfigX509ConfigNameConstraintÜ
ÙS
critical
 CIndicates whether or not the name constraints are marked critical.
Ã
excludedDnsNames*" ¨Contains excluded DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, 'example.com', 'www.example.com', 'www.sub.example.com'
would satisfy 'example.com' while 'example1.com' does not.
•
excludedEmailAddresses*" ôContains the excluded email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. '.example.com') to indicate
all email addresses in that domain.
ë
excludedIpRanges*" ÐContains the excluded IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
¯
excludedUris*" ˜Contains the excluded URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like '.example.com')
Å
permittedDnsNames*" ©Contains permitted DNS names. Any DNS name that can be
constructed by simply adding zero or more labels to
the left-hand side of the name satisfies the name constraint.
For example, 'example.com', 'www.example.com', 'www.sub.example.com'
would satisfy 'example.com' while 'example1.com' does not.
—
permittedEmailAddresses*" õContains the permitted email addresses. The value can be a particular
email address, a hostname to indicate all email addresses on that host or
a domain with a leading period (e.g. '.example.com') to indicate
all email addresses in that domain.
í
permittedIpRanges*" ÑContains the permitted IP ranges. For IPv4 addresses, the ranges
are expressed using CIDR notation as specified in RFC 4632.
For IPv6 addresses, the ranges are expressed in similar encoding as IPv4
addresses.
±
permittedUris*" ™Contains the permitted URIs that apply to the host part of the name.
The value can be a hostname or a domain with a
leading period (like '.example.com')
:±
 
certificateauthority$getAuthorityConfigX509ConfigPolicyIdbgcp:certificateauthority/getAuthorityConfigX509ConfigPolicyId:getAuthorityConfigX509ConfigPolicyId‹
ˆ…
objectIdPaths* nAn ObjectId specifies an object identifier (OID). These provide context and describe types in ASN.1 messages.
:»
m
certificateauthoritygetAuthorityKeySpec@gcp:certificateauthority/getAuthorityKeySpec:getAuthorityKeySpecÉ
Æ”
	algorithm" ‚The algorithm to use for creating a managed Cloud KMS key for a for a simplified
experience. All managed keys will be have their ProtectionLevel as HSM. Possible values: ["SIGN_HASH_ALGORITHM_UNSPECIFIED", "RSA_PSS_2048_SHA256", "RSA_PSS_3072_SHA256", "RSA_PSS_4096_SHA256", "RSA_PKCS1_2048_SHA256", "RSA_PKCS1_3072_SHA256", "RSA_PKCS1_4096_SHA256", "EC_P256_SHA256", "EC_P384_SHA384"]
¬
cloudKmsKeyVersion" ‘The resource name for an existing Cloud KMS CryptoKeyVersion in the format
'projects/*/locations/*/keyRings/*/cryptoKeys/*/cryptoKeyVersions/*'.
:
‹
certificateauthoritygetAuthoritySubordinateConfigTgcp:certificateauthority/getAuthoritySubordinateConfig:getAuthoritySubordinateConfigü
ù¢
certificateAuthority" …This can refer to a CertificateAuthority that was used to create a
subordinate CertificateAuthority. This field is used for information
and usability purposes only. The resource name is in the format
'projects/*/locations/*/caPools/*/certificateAuthorities/*'.
Ñ
pemIssuerChains¾*»:¸
µ
certificateauthority+getAuthoritySubordinateConfigPemIssuerChainpgcp:certificateauthority/getAuthoritySubordinateConfigPemIssuerChain:getAuthoritySubordinateConfigPemIssuerChain}Contains the PEM certificate chain for the issuers of this CertificateAuthority,
but not pem certificate for this CA itself.
:“
µ
certificateauthority+getAuthoritySubordinateConfigPemIssuerChainpgcp:certificateauthority/getAuthoritySubordinateConfigPemIssuerChain:getAuthoritySubordinateConfigPemIssuerChainY
WU
pemCertificates*" <Expected to be in leaf-to-root order according to RFC 5246.
:ÿ
É
certificatemanager3CertificateIssuanceConfigCertificateAuthorityConfig~gcp:certificatemanager/CertificateIssuanceConfigCertificateAuthorityConfig:CertificateIssuanceConfigCertificateAuthorityConfig°
­ª
!certificateAuthorityServiceConfig¶B³:°
­
certificatemanagerTCertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigÀgcp:certificatemanager/CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfig:CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigLDefines a CertificateAuthorityServiceConfig.
Structure is documented below.
:þ
­
certificatemanagerTCertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigÀgcp:certificatemanager/CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfig:CertificateIssuanceConfigCertificateAuthorityConfigCertificateAuthorityServiceConfigË
ÈÅ
caPool" ¶A CA pool resource used to issue a certificate.
The CA pool string has a relative resource path following the form
"projects/{project}/locations/{location}/caPools/{caPool}".

- - -
:Á
f
certificatemanagerCertificateManaged<gcp:certificatemanager/CertificateManaged:CertificateManagedÖ
ÓÁ
authorizationAttemptInfosºB·*´:±
®
certificatemanager*CertificateManagedAuthorizationAttemptInfolgcp:certificatemanager/CertificateManagedAuthorizationAttemptInfo:CertificateManagedAuthorizationAttemptInfoæ(Output)
Detailed state of the latest authorization attempt for each domain
specified for this Managed Certificate.
Structure is documented below.


<a name="nested_provisioning_issue"></a>The `provisioning_issue` block contains:
³
dnsAuthorizationsB*" •Authorizations that will be used for performing domain authorization. Either issuanceConfig or dnsAuthorizations should be specificed, but not both.
™
domainsB*" …The domains for which a managed SSL certificate will be generated.
Wildcard domains are only supported with DNS challenge resolution
¼
issuanceConfigB" £The resource name for a CertificateIssuanceConfig used to configure private PKI certificates in the format projects/*/locations/*/certificateIssuanceConfigs/*.
If this field is not set, the certificates will instead be publicly signed as documented at https://cloud.google.com/load-balancing/docs/ssl-certificates/google-managed-certs#caa.
Either issuanceConfig or dnsAuthorizations should be specificed, but not both.
«
provisioningIssues¥B¢*Ÿ:œ
™
certificatemanager#CertificateManagedProvisioningIssue^gcp:certificatemanager/CertificateManagedProvisioningIssue:CertificateManagedProvisioningIssuem(Output)
Information about issues with provisioning this Managed Certificate.
Structure is documented below.
N
stateB" ?(Output)
State of the domain for managed certificate issuance.
:ß
®
certificatemanager*CertificateManagedAuthorizationAttemptInfolgcp:certificatemanager/CertificateManagedAuthorizationAttemptInfo:CertificateManagedAuthorizationAttemptInfo«
¨É
detailsB" ·Human readable explanation for reaching the state. Provided to help
address the configuration issues.
Not guaranteed to be stable. For programmatic access use 'failure_reason' field.
:
domainB" *Domain name of the authorization attempt.
W
failureReasonB" @Reason for failure of the authorization attempt for the domain.
E
stateB" 6State of the domain for managed certificate issuance.
:“
™
certificatemanager#CertificateManagedProvisioningIssue^gcp:certificatemanager/CertificateManagedProvisioningIssue:CertificateManagedProvisioningIssueô
ñº
detailsB" ¨Human readable explanation about the issue. Provided to help address
the configuration issues.
Not guaranteed to be stable. For programmatic access use 'reason' field.
2
reasonB" "Reason for provisioning failures.
:Â
x
certificatemanagerCertificateMapGclbTargetHgcp:certificatemanager/CertificateMapGclbTarget:CertificateMapGclbTargetÅ
Â…
	ipConfigsœB™*–:“

certificatemanager CertificateMapGclbTargetIpConfigXgcp:certificatemanager/CertificateMapGclbTargetIpConfig:CertificateMapGclbTargetIpConfigYAn IP configuration where this Certificate Map is serving
Structure is documented below.
Ü
targetHttpsProxyB" ÁProxy name must be in the format projects/*/locations/*/targetHttpsProxies/*.
This field is part of a union field `target_proxy`: Only one of `targetHttpsProxy` or
`targetSslProxy` may be set.
Ø
targetSslProxyB" ¿Proxy name must be in the format projects/*/locations/*/targetSslProxies/*.
This field is part of a union field `target_proxy`: Only one of `targetHttpsProxy` or
`targetSslProxy` may be set.
:æ

certificatemanager CertificateMapGclbTargetIpConfigXgcp:certificatemanager/CertificateMapGclbTargetIpConfig:CertificateMapGclbTargetIpConfigQ
O*
	ipAddressB" An external IP address
!
portsB* A list of ports
:š	
r
certificatemanagerCertificateSelfManagedDgcp:certificatemanager/CertificateSelfManaged:CertificateSelfManaged£
 é
certificatePemB" Ð(Optional, Deprecated)
The certificate chain in PEM-encoded form.
Leaf certificate comes first, followed by intermediate ones if any.
**Note**: This property is sensitive and will not be displayed in the plan.

> **Warning:** `certificate_pem` is deprecated and will be removed in a future major release. Use `pem_certificate` instead.
Ô
pemCertificateB" »The certificate chain in PEM-encoded form.
Leaf certificate comes first, followed by intermediate ones if any.
**Note**: This property is sensitive and will not be displayed in the plan.
¡
pemPrivateKeyB" ‰The private key of the leaf certificate in PEM-encoded form.
**Note**: This property is sensitive and will not be displayed in the plan.
¶
privateKeyPemB" ž(Optional, Deprecated)
The private key of the leaf certificate in PEM-encoded form.
**Note**: This property is sensitive and will not be displayed in the plan.

> **Warning:** `private_key_pem` is deprecated and will be removed in a future major release. Use `pem_private_key` instead.
:â
“
certificatemanager!DnsAuthorizationDnsResourceRecordZgcp:certificatemanager/DnsAuthorizationDnsResourceRecord:DnsAuthorizationDnsResourceRecordÉ
Æ8
dataB" *(Output)
Data of the DNS Resource Record.
½
nameB" ®Name of the resource; provided by the client when the resource is created.
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.


- - -
É
typeB" ºtype of DNS authorization. If unset during the resource creation, FIXED_RECORD will
be used for global resources, and PER_PROJECT_RECORD will be used for other locations.
FIXED_RECORD DNS authorization uses DNS-01 validation method
PER_PROJECT_RECORD DNS authorization allows for independent management
of Google-managed certificates with DNS authorization across multiple
projects.
Possible values are: `FIXED_RECORD`, `PER_PROJECT_RECORD`.
:¬
“
certificatemanager!TrustConfigAllowlistedCertificateZgcp:certificatemanager/TrustConfigAllowlistedCertificate:TrustConfigAllowlistedCertificate“

pemCertificate" wPEM certificate that is allowlisted. The certificate can be up to 5k bytes, and must be a parseable X.509 certificate.
:¼
o
certificatemanagerTrustConfigTrustStoreBgcp:certificatemanager/TrustConfigTrustStore:TrustConfigTrustStoreÈ
Å˜
intermediateCas¥B¢*Ÿ:œ
™
certificatemanager#TrustConfigTrustStoreIntermediateCa^gcp:certificatemanager/TrustConfigTrustStoreIntermediateCa:TrustConfigTrustStoreIntermediateCaÜSet of intermediate CA certificates used for the path building phase of chain validation.
The field is currently not supported if trust config is used for the workload certificate feature.
Structure is documented below.
§
trustAnchorsœB™*–:“

certificatemanager TrustConfigTrustStoreTrustAnchorXgcp:certificatemanager/TrustConfigTrustStoreTrustAnchor:TrustConfigTrustStoreTrustAnchorxList of Trust Anchors to be used while performing validation against a given TrustStore.
Structure is documented below.
:
™
certificatemanager#TrustConfigTrustStoreIntermediateCa^gcp:certificatemanager/TrustConfigTrustStoreIntermediateCa:TrustConfigTrustStoreIntermediateCañ
îë
pemCertificateB" ÒPEM intermediate certificate used for building up paths for validation.
Each certificate provided in PEM format may occupy up to 5kB.
**Note**: This property is sensitive and will not be displayed in the plan.
:ô

certificatemanager TrustConfigTrustStoreTrustAnchorXgcp:certificatemanager/TrustConfigTrustStoreTrustAnchor:TrustConfigTrustStoreTrustAnchorÞ
ÛØ
pemCertificateB" ¿PEM root certificate of the PKI used for validation.
Each certificate provided in PEM format may occupy up to 5kB.
**Note**: This property is sensitive and will not be displayed in the plan.
:¯

certificatemanagergetCertificateMapGclbTargetNgcp:certificatemanager/getCertificateMapGclbTarget:getCertificateMapGclbTarget¨
¥ì
	ipConfigs¢*Ÿ:œ
™
certificatemanager#getCertificateMapGclbTargetIpConfig^gcp:certificatemanager/getCertificateMapGclbTargetIpConfig:getCertificateMapGclbTargetIpConfig:An IP configuration where this Certificate Map is serving
Ú
targetHttpsProxy" ÁProxy name must be in the format projects/*/locations/*/targetHttpsProxies/*.
This field is part of a union field 'target_proxy': Only one of 'targetHttpsProxy' or
'targetSslProxy' may be set.
Ö
targetSslProxy" ¿Proxy name must be in the format projects/*/locations/*/targetSslProxies/*.
This field is part of a union field 'target_proxy': Only one of 'targetHttpsProxy' or
'targetSslProxy' may be set.
:ë
™
certificatemanager#getCertificateMapGclbTargetIpConfig^gcp:certificatemanager/getCertificateMapGclbTargetIpConfig:getCertificateMapGclbTargetIpConfigM
K(
	ipAddress" An external IP address

ports* A list of ports
:ê
~
certificatemanagergetCertificatesCertificateLgcp:certificatemanager/getCertificatesCertificate:getCertificatesCertificateç
äA
description" .A human-readable description of the resource.

effectiveLabels2" ”
labels2" ƒSet of label tags associated with the Certificate resource.

**Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
Please refer to the field 'effective_labels' for all of the labels present on the resource.
V
location" FThe Certificate Manager location. If not specified, "global" is used.
Õ
managedsœ*™:–
“
certificatemanager!getCertificatesCertificateManagedZgcp:certificatemanager/getCertificatesCertificateManaged:getCertificatesCertificateManaged©Configuration and state of a Managed Certificate.
Certificate Manager provisions and renews Managed Certificates
automatically, for as long as it's authorized to do so.
±
name" ¤A user-defined name of the certificate. Certificate names must be unique
The name must be 1-64 characters long, and match the regular expression [a-zA-Z][a-zA-Z0-9_-]* which means the first character must be a letter,
and all following characters must be a dash, underscore, letter or digit.
y
project" jThe ID of the project in which the resource belongs. If it
is not provided, the provider project is used.
„
pulumiLabels2" nThe combination of labels configured directly on the resource
 and default labels configured on the provider.
}
sanDnsnames*" hThe list of Subject Alternative Names of dnsName type defined in the certificate (see RFC 5280 4.2.1.6)
‰
scope" ûThe scope of the certificate.

DEFAULT: Certificates with default scope are served from core Google data centers.
If unsure, choose this option.

EDGE_CACHE: Certificates with scope EDGE_CACHE are special-purposed certificates, served from Edge Points of Presence.
See https://cloud.google.com/vpc/docs/edge-locations.

ALL_REGIONS: Certificates with ALL_REGIONS scope are served from all GCP regions (You can only use ALL_REGIONS with global certs).
See https://cloud.google.com/compute/docs/regions-zones
:þ
“
certificatemanager!getCertificatesCertificateManagedZgcp:certificatemanager/getCertificatesCertificateManaged:getCertificatesCertificateManagedå
âð
authorizationAttemptInfoså*â:ß
Ü
certificatemanager9getCertificatesCertificateManagedAuthorizationAttemptInfoŠgcp:certificatemanager/getCertificatesCertificateManagedAuthorizationAttemptInfo:getCertificatesCertificateManagedAuthorizationAttemptInfokDetailed state of the latest authorization attempt for each domain
specified for this Managed Certificate.
±
dnsAuthorizations*" •Authorizations that will be used for performing domain authorization. Either issuanceConfig or dnsAuthorizations should be specificed, but not both.
—
domains*" …The domains for which a managed SSL certificate will be generated.
Wildcard domains are only supported with DNS challenge resolution
º
issuanceConfig" £The resource name for a CertificateIssuanceConfig used to configure private PKI certificates in the format projects/*/locations/*/certificateIssuanceConfigs/*.
If this field is not set, the certificates will instead be publicly signed as documented at https://cloud.google.com/load-balancing/docs/ssl-certificates/google-managed-certs#caa.
Either issuanceConfig or dnsAuthorizations should be specificed, but not both.
­
provisioningIssuesÏ*Ì:É
Æ
certificatemanager2getCertificatesCertificateManagedProvisioningIssue|gcp:certificatemanager/getCertificatesCertificateManagedProvisioningIssue:getCertificatesCertificateManagedProvisioningIssueEInformation about issues with provisioning this Managed Certificate.
2
state" %A state of this Managed Certificate.
:…
Ü
certificatemanager9getCertificatesCertificateManagedAuthorizationAttemptInfoŠgcp:certificatemanager/getCertificatesCertificateManagedAuthorizationAttemptInfo:getCertificatesCertificateManagedAuthorizationAttemptInfo£
 Ç
details" ·Human readable explanation for reaching the state. Provided to help
address the configuration issues.
Not guaranteed to be stable. For programmatic access use 'failure_reason' field.
8
domain" *Domain name of the authorization attempt.
U
failureReason" @Reason for failure of the authorization attempt for the domain.
C
state" 6State of the domain for managed certificate issuance.
:¼
Æ
certificatemanager2getCertificatesCertificateManagedProvisioningIssue|gcp:certificatemanager/getCertificatesCertificateManagedProvisioningIssue:getCertificatesCertificateManagedProvisioningIssueð
í¸
details" ¨Human readable explanation about the issue. Provided to help address
the configuration issues.
Not guaranteed to be stable. For programmatic access use 'reason' field.
0
reason" "Reason for provisioning failures.
:ö
Y

cloudassetFolderFeedCondition6gcp:cloudasset/FolderFeedCondition:FolderFeedCondition˜
•
descriptionB" xDescription of the expression. This is a longer text which describes the expression,
e.g. when hovered over it in a UI.
`

expression" NTextual representation of an expression in Common Expression Language syntax.
…
locationB" sString indicating the location of the expression for error reporting, e.g. a file
name and a position in the file.
˜
titleB" ˆTitle for the expression, i.e. a short string describing its purpose.
This can be used e.g. in UIs which allow to enter the expression.
:ô
n

cloudassetFolderFeedFeedOutputConfigDgcp:cloudasset/FolderFeedFeedOutputConfig:FolderFeedFeedOutputConfig
þû
pubsubDestination§:¤
¡

cloudasset+FolderFeedFeedOutputConfigPubsubDestinationfgcp:cloudasset/FolderFeedFeedOutputConfigPubsubDestination:FolderFeedFeedOutputConfigPubsubDestination<Destination on Cloud Pubsub.
Structure is documented below.
:á
¡

cloudasset+FolderFeedFeedOutputConfigPubsubDestinationfgcp:cloudasset/FolderFeedFeedOutputConfigPubsubDestination:FolderFeedFeedOutputConfigPubsubDestination;
97
topic" *Destination on Cloud Pubsub topic.

- - -
:ˆ
k

cloudassetOrganizationFeedConditionBgcp:cloudasset/OrganizationFeedCondition:OrganizationFeedCondition˜
•
descriptionB" xDescription of the expression. This is a longer text which describes the expression,
e.g. when hovered over it in a UI.
`

expression" NTextual representation of an expression in Common Expression Language syntax.
…
locationB" sString indicating the location of the expression for error reporting, e.g. a file
name and a position in the file.
˜
titleB" ˆTitle for the expression, i.e. a short string describing its purpose.
This can be used e.g. in UIs which allow to enter the expression.
:™
€

cloudasset OrganizationFeedFeedOutputConfigPgcp:cloudasset/OrganizationFeedFeedOutputConfig:OrganizationFeedFeedOutputConfig“

pubsubDestination¹:¶
³

cloudasset1OrganizationFeedFeedOutputConfigPubsubDestinationrgcp:cloudasset/OrganizationFeedFeedOutputConfigPubsubDestination:OrganizationFeedFeedOutputConfigPubsubDestination<Destination on Cloud Pubsub.
Structure is documented below.
:ó
³

cloudasset1OrganizationFeedFeedOutputConfigPubsubDestinationrgcp:cloudasset/OrganizationFeedFeedOutputConfigPubsubDestination:OrganizationFeedFeedOutputConfigPubsubDestination;
97
topic" *Destination on Cloud Pubsub topic.

- - -
:ù
\

cloudassetProjectFeedCondition8gcp:cloudasset/ProjectFeedCondition:ProjectFeedCondition˜
•
descriptionB" xDescription of the expression. This is a longer text which describes the expression,
e.g. when hovered over it in a UI.
`

expression" NTextual representation of an expression in Common Expression Language syntax.
…
locationB" sString indicating the location of the expression for error reporting, e.g. a file
name and a position in the file.
˜
titleB" ˆTitle for the expression, i.e. a short string describing its purpose.
This can be used e.g. in UIs which allow to enter the expression.
:ú
q

cloudassetProjectFeedFeedOutputConfigFgcp:cloudasset/ProjectFeedFeedOutputConfig:ProjectFeedFeedOutputConfig„
þ
pubsubDestinationª:§
¤

cloudasset,ProjectFeedFeedOutputConfigPubsubDestinationhgcp:cloudasset/ProjectFeedFeedOutputConfigPubsubDestination:ProjectFeedFeedOutputConfigPubsubDestination<Destination on Cloud Pubsub.
Structure is documented below.
:ä
¤

cloudasset,ProjectFeedFeedOutputConfigPubsubDestinationhgcp:cloudasset/ProjectFeedFeedOutputConfigPubsubDestination:ProjectFeedFeedOutputConfigPubsubDestination;
97
topic" *Destination on Cloud Pubsub topic.

- - -
:û
q

cloudassetgetResourcesSearchAllResultFgcp:cloudasset/getResourcesSearchAllResult:getResourcesSearchAllResult…
‚¿
additionalAttributes*"  Additional searchable attributes of this resource. Informational only. The exact set of attributes is subject to change. For example: project id, DNS name etc.
,
	assetType" The type of this resource.
x
description" eOne or more paragraphs of text description of this resource. Maximum length could be up to 1M bytes.
6
displayName" #The display name of this resource.
6
labels2" &Labels associated with this resource.
`
location" PLocation can be `global`, regional like `us-east1`, or zonal like `us-west1-b`.
˜
name" ‹The full resource name. See [Resource Names](https://cloud.google.com/apis/design/resource_names#full_resource_name) for more information.
A
networkTags*" ,Network tags associated with this resource.
f
project" WThe project that this resource belongs to, in the form of `projects/{project_number}`.
:
q

cloudassetgetSearchAllResourcesResultFgcp:cloudasset/getSearchAllResourcesResult:getSearchAllResourcesResultš
—,
	assetType" The type of this resource.
\

createTime" JThe create timestamp of this resource, at which the resource was created.
x
description" eOne or more paragraphs of text description of this resource. Maximum length could be up to 1M bytes.
6
displayName" #The display name of this resource.
³
folders*" ¡The folder(s) that this resource belongs to, in the form of `folders/{FOLDER_NUMBER}`. This field is available when the resource belongs to one or more folders.
’
kmsKeys*" €The Cloud KMS CryptoKey names or CryptoKeyVersion names. This field is available only when the resource's Protobuf contains it.
6
labels2" &Labels associated with this resource.
`
location" PLocation can be `global`, regional like `us-east1`, or zonal like `us-west1-b`.
ª
name" The full resource name of this resource.. See [Resource Names](https://cloud.google.com/apis/design/resource_names#full_resource_name) for more information.
A
networkTags*" ,Network tags associated with this resource.
Á
organization" ¬The organization that this resource belongs to, in the form of `organizations/{ORGANIZATION_NUMBER}`. This field is available when the resource belongs to an organization.
V
parentAssetType" ?The type of this resource's immediate parent, if there is one.
_
parentFullResourceName" AThe full resource name of this resource's parent, if it has one.
f
project" WThe project that this resource belongs to, in the form of `projects/{project_number}`.
)
state" The state of this resource.
r

updateTime" `The last update timestamp of this resource, at which the resource was last modified or deleted.
:—
˜

cloudbuild(BitbucketServerConfigConnectedRepository`gcp:cloudbuild/BitbucketServerConfigConnectedRepository:BitbucketServerConfigConnectedRepositoryz
xE

projectKey" 3Identifier for the project storing the repository.
/
repoSlug" Identifier for the repository.
:­
t

cloudbuildBitbucketServerConfigSecretsHgcp:cloudbuild/BitbucketServerConfigSecrets:BitbucketServerConfigSecrets´
±b
adminAccessTokenVersionName" ?The resource name for the admin access token's secret version.
`
readAccessTokenVersionName" >The resource name for the read access token's secret version.
è
webhookSecretVersionName" ÇImmutable. The resource name for the webhook secret's secret version. Once this field has been set, it cannot be changed.
Changing this field will result in deleting/ recreating the resource.

- - -
:–
_

cloudbuildTriggerApprovalConfig:gcp:cloudbuild/TriggerApprovalConfig:TriggerApprovalConfig²
¯¬
approvalRequiredB
 ‘Whether or not approval is needed. If this is set on a build, it will become pending when run,
and will need to be explicitly approved to start.
:î	
‰

cloudbuild#TriggerBitbucketServerTriggerConfigVgcp:cloudbuild/TriggerBitbucketServerTriggerConfig:TriggerBitbucketServerTriggerConfigß
Ül
bitbucketServerConfigResource" GThe Bitbucket server config resource that this trigger config maps to.
˜

projectKey" …Key of the project that the repo is in. For example: The key for https://mybitbucket.server/projects/TEST/repos/test-repo is "TEST".
Ž
pullRequest³B°:­
ª

cloudbuild.TriggerBitbucketServerTriggerConfigPullRequestlgcp:cloudbuild/TriggerBitbucketServerTriggerConfigPullRequest:TriggerBitbucketServerTriggerConfigPullRequestIFilter to match changes in pull requests.
Structure is documented below.
ý
pushžB›:˜
•

cloudbuild'TriggerBitbucketServerTriggerConfigPush^gcp:cloudbuild/TriggerBitbucketServerTriggerConfigPush:TriggerBitbucketServerTriggerConfigPushTFilter to match changes in refs like branches, tags.
Structure is documented below.
¿
repoSlug" ®Slug of the repository. A repository slug is a URL-friendly version of a repository name, automatically generated by Bitbucket for use in the URL.
For example, if the repository name is 'test repo', in the URL it would become 'test-repo' as in https://mybitbucket.server/projects/TEST/repos/test-repo.
:¯
ª

cloudbuild.TriggerBitbucketServerTriggerConfigPullRequestlgcp:cloudbuild/TriggerBitbucketServerTriggerConfigPullRequest:TriggerBitbucketServerTriggerConfigPullRequestÿ
ü³
branch" ¤Regex of branches to match.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
æ
commentControlB" ÍConfigure builds to run whether a repository owner or collaborator need to comment /gcbrun.
Possible values are: `COMMENTS_DISABLED`, `COMMENTS_ENABLED`, `COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY`.
[
invertRegexB
 FIf true, branches that do NOT match the git_ref will trigger a build.
:©
•

cloudbuild'TriggerBitbucketServerTriggerConfigPush^gcp:cloudbuild/TriggerBitbucketServerTriggerConfigPush:TriggerBitbucketServerTriggerConfigPushŽ
‹P
branchB" @Regex of branches to match.  Specify only one of branch or tag.
l
invertRegexB
 WWhen true, only trigger a build if the revision regex does NOT match the gitRef regex.
I
tagB" <Regex of tags to match.  Specify only one of branch or tag.
:ø
D

cloudbuildTriggerBuild(gcp:cloudbuild/TriggerBuild:TriggerBuild¯
¬û
	artifactseBc:a
_

cloudbuildTriggerBuildArtifacts:gcp:cloudbuild/TriggerBuildArtifacts:TriggerBuildArtifacts†Artifacts produced by the build that should be uploaded upon successful completion of all build steps.
Structure is documented below.
Ù
availableSecretszBx:v
t

cloudbuildTriggerBuildAvailableSecretsHgcp:cloudbuild/TriggerBuildAvailableSecrets:TriggerBuildAvailableSecretsISecrets and secret environment variables.
Structure is documented below.
Î
imagesB*" »A list of images to be pushed upon the successful completion of all build steps.
The images are pushed using the builder service account's credentials.
The digests of the pushed images will be stored in the Build resource's results field.
If any of the images fail to be pushed, the build status is marked FAILURE.
˜

logsBucketB" ƒGoogle Cloud Storage bucket where logs should be written.
Logs file names will be of the format ${logsBucket}/log-${build_id}.txt.
«
options_B]:[
Y

cloudbuildTriggerBuildOptions6gcp:cloudbuild/TriggerBuildOptions:TriggerBuildOptions?Special options for this build.
Structure is documented below.
¯
queueTtlB" œTTL in queue for this build. If provided and the build is enqueued longer than this value,
the build will expire and the build status will be EXPIRED.
The TTL starts ticking from createTime.
A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".
Á
secrets^B\*Z:X
V

cloudbuildTriggerBuildSecret4gcp:cloudbuild/TriggerBuildSecret:TriggerBuildSecretVSecrets to decrypt using Cloud Key Management Service.
Structure is documented below.
ì
source\BZ:X
V

cloudbuildTriggerBuildSource4gcp:cloudbuild/TriggerBuildSource:TriggerBuildSourceƒThe location of the source files to build.
One of `storageSource` or `repoSource` must be provided.
Structure is documented below.
±
stepsV*T:R
P

cloudbuildTriggerBuildStep0gcp:cloudbuild/TriggerBuildStep:TriggerBuildStepPThe operations to be performed on the workspace.
Structure is documented below.
@
substitutionsB2" 'Substitutions data for Build resource.
K
tagsB*" ;Tags for annotation of a Build. These are not docker tags.

timeoutB" ûAmount of time that this build should be allowed to run, to second granularity.
If this amount of time elapses, work on the build will cease and the build status will be TIMEOUT.
This timeout must be equal to or greater than the sum of the timeouts for build steps within the build.
The expected format is the number of seconds followed by s.
Default time is ten minutes (600s).
:²
_

cloudbuildTriggerBuildArtifacts:gcp:cloudbuild/TriggerBuildArtifacts:TriggerBuildArtifactsÎ
ËË
imagesB*" ¸A list of images to be pushed upon the successful completion of all build steps.
The images will be pushed using the builder service account's credentials.
The digests of the pushed images will be stored in the Build resource's results field.
If any of the images fail to be pushed, the build is marked FAILURE.
Ï
mavenArtifacts’B*Œ:‰
†

cloudbuild"TriggerBuildArtifactsMavenArtifactTgcp:cloudbuild/TriggerBuildArtifactsMavenArtifact:TriggerBuildArtifactsMavenArtifact§A Maven artifact to upload to Artifact Registry upon successful completion of all build steps.
The location and generation of the uploaded objects will be stored in the Build resource's results field.
If any objects fail to be pushed, the build is marked FAILURE.
Structure is documented below.
¼
npmPackages‡B„*:
}

cloudbuildTriggerBuildArtifactsNpmPackageNgcp:cloudbuild/TriggerBuildArtifactsNpmPackage:TriggerBuildArtifactsNpmPackage¢Npm package to upload to Artifact Registry upon successful completion of all build steps.
The location and generation of the uploaded objects will be stored in the Build resource's results field.
If any objects fail to be pushed, the build is marked FAILURE.
Structure is documented below.
Ç
objectszBx:v
t

cloudbuildTriggerBuildArtifactsObjectsHgcp:cloudbuild/TriggerBuildArtifactsObjects:TriggerBuildArtifactsObjects¿A list of objects to be uploaded to Cloud Storage upon successful completion of all build steps.
Files in the workspace matching specified paths globs will be uploaded to the
Cloud Storage location using the builder service account's credentials.
The location and generation of the uploaded objects will be stored in the Build resource's results field.
If any objects fail to be pushed, the build is marked FAILURE.
Structure is documented below.
Ÿ
pythonPackages’B*Œ:‰
†

cloudbuild"TriggerBuildArtifactsPythonPackageTgcp:cloudbuild/TriggerBuildArtifactsPythonPackage:TriggerBuildArtifactsPythonPackage÷Python package to upload to Artifact Registry upon successful completion of all build steps. A package can encapsulate multiple objects to be uploaded to a single repository.
The location and generation of the uploaded objects will be stored in the Build resource's results field.
If any objects fail to be pushed, the build is marked FAILURE.
Structure is documented below.
:§
†

cloudbuild"TriggerBuildArtifactsMavenArtifactTgcp:cloudbuild/TriggerBuildArtifactsMavenArtifact:TriggerBuildArtifactsMavenArtifact›
˜b

artifactIdB" NMaven artifactId value used when uploading the artifact to Artifact Registry.
\
groupIdB" KMaven groupId value used when uploading the artifact to Artifact Registry.
Œ
pathB" ýPath to an artifact in the build's workspace to be uploaded to Artifact Registry. This can be either an absolute path, e.g. /workspace/my-app/target/my-app-1.0.SNAPSHOT.jar or a relative path from /workspace, e.g. my-app/target/my-app-1.0.SNAPSHOT.jar.
æ

repositoryB" ÑArtifact Registry repository, in the form "https://$REGION-maven.pkg.dev/$PROJECT/$REPOSITORY"
Artifact in the workspace specified by path will be uploaded to Artifact Registry with this location as a prefix.
\
versionB" KMaven version value used when uploading the artifact to Artifact Registry.
:Ê
}

cloudbuildTriggerBuildArtifactsNpmPackageNgcp:cloudbuild/TriggerBuildArtifactsNpmPackage:TriggerBuildArtifactsNpmPackageÈ
ÅN
packagePathB" 9Path to the package.json. e.g. workspace/path/to/package
ò

repositoryB" ÝArtifact Registry repository, in the form "https://$REGION-npm.pkg.dev/$PROJECT/$REPOSITORY"
Npm package in the workspace specified by path will be zipped and uploaded to Artifact Registry with this location as a prefix.
:þ
t

cloudbuildTriggerBuildArtifactsObjectsHgcp:cloudbuild/TriggerBuildArtifactsObjects:TriggerBuildArtifactsObjects…
‚ã
locationB" ÐCloud Storage bucket and optional object path, in the form "gs://bucket/path/to/somewhere/".
Files in the workspace matching any path pattern will be uploaded to Cloud Storage with
this location as a prefix.
J
pathsB*" 9Path globs used to match files in the build's workspace.
Í
timings’B*Œ:‰
†

cloudbuild"TriggerBuildArtifactsObjectsTimingTgcp:cloudbuild/TriggerBuildArtifactsObjectsTiming:TriggerBuildArtifactsObjectsTiming¬(Output)
Output only. Stores timing information for pushing all artifact objects.
Structure is documented below.


<a name="nested_timing"></a>The `timing` block contains:
:¿
†

cloudbuild"TriggerBuildArtifactsObjectsTimingTgcp:cloudbuild/TriggerBuildArtifactsObjectsTiming:TriggerBuildArtifactsObjectsTiming³
°Ó
endTimeB" ÁEnd of time span.

A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to
nine fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
×
	startTimeB" ÃStart of time span.

A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to
nine fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
: 
†

cloudbuild"TriggerBuildArtifactsPythonPackageTgcp:cloudbuild/TriggerBuildArtifactsPythonPackage:TriggerBuildArtifactsPythonPackage”
‘Ÿ
pathsB*" Path globs used to match files in the build's workspace. For Python/ Twine, this is usually dist/*, and sometimes additionally an .asc file.
ì

repositoryB" ×Artifact Registry repository, in the form "https://$REGION-python.pkg.dev/$PROJECT/$REPOSITORY"
Files in the workspace matching any path pattern will be uploaded to Artifact Registry with this location as a prefix.
:£
t

cloudbuildTriggerBuildAvailableSecretsHgcp:cloudbuild/TriggerBuildAvailableSecrets:TriggerBuildAvailableSecretsª
§¤
secretManagers¤*¡:ž
›

cloudbuild)TriggerBuildAvailableSecretsSecretManagerbgcp:cloudbuild/TriggerBuildAvailableSecretsSecretManager:TriggerBuildAvailableSecretsSecretManagerkPairs a secret environment variable with a SecretVersion in Secret Manager.
Structure is documented below.
:É
›

cloudbuild)TriggerBuildAvailableSecretsSecretManagerbgcp:cloudbuild/TriggerBuildAvailableSecretsSecretManager:TriggerBuildAvailableSecretsSecretManager¨
¥¾
env" ²Environment variable name to associate with the secret. Secret environment
variables must be unique across all of a build's secrets, and must be used
by at least one build step.
b
versionName" OResource name of the SecretVersion. In format: projects/*/secrets/*/versions/*
:‘
Y

cloudbuildTriggerBuildOptions6gcp:cloudbuild/TriggerBuildOptions:TriggerBuildOptions³
°µ

diskSizeGbB  Requested disk size for the VM that runs the build. Note that this is NOT "disk free";
some of the space will be used by the operating system and build utilities.
Also note that this is the minimum disk size that will be allocated for the build --
the build may run with a larger disk than requested. At present, the maximum disk size
is 1000GB; builds that request more than the maximum are rejected with an error.
ç
dynamicSubstitutionsB
 ÈOption to specify whether or not to apply bash style string operations to the substitutions.
NOTE this is always enabled for triggered builds and cannot be overridden in the build configuration file.
Ì
envsB*" »A list of global environment variable definitions that will exist for all build steps
in this build. If a variable is defined in both globally and in a build step,
the variable will use the build step value.
The elements are of the form "KEY=VALUE" for the environment variable "KEY" being given the value "VALUE".
¦
logStreamingOptionB" ‰Option to define build log streaming behavior to Google Cloud Storage.
Possible values are: `STREAM_DEFAULT`, `STREAM_ON`, `STREAM_OFF`.
ß
loggingB" ÍOption to specify the logging mode, which determines if and where build logs are stored.
Possible values are: `LOGGING_UNSPECIFIED`, `LEGACY`, `GCS_ONLY`, `STACKDRIVER_ONLY`, `CLOUD_LOGGING_ONLY`, `NONE`.
L
machineTypeB" 7Compute Engine machine type on which to run the build.
q
requestedVerifyOptionB" RRequested verifiability options.
Possible values are: `NOT_VERIFIED`, `VERIFIED`.
þ

secretEnvsB*" çA list of global environment variables, which are encrypted using a Cloud Key Management
Service crypto key. These values must be specified in the build's Secret. These variables
will be available to all build steps in this build.
z
sourceProvenanceHashesB*" XRequested hash for SourceProvenance.
Each value may be one of: `NONE`, `SHA256`, `MD5`.
“
substitutionOptionB" öOption to specify behavior when there is an error in the substitution checks.
NOTE this is always set to ALLOW_LOOSE for triggered builds and cannot be overridden
in the build configuration file.
Possible values are: `MUST_MATCH`, `ALLOW_LOOSE`.
É
volumessBq*o:m
k

cloudbuildTriggerBuildOptionsVolumeBgcp:cloudbuild/TriggerBuildOptionsVolume:TriggerBuildOptionsVolumeÈGlobal list of volumes to mount for ALL build steps
Each volume is created as an empty volume prior to starting the build process.
Upon completion of the build, volumes and their contents are discarded. Global
volume names and paths cannot conflict with the volumes defined a build step.
Using a global volume in a build with only one step is not valid as it is indicative
of a build request with an incorrect configuration.
Structure is documented below.
‘

workerPoolB" }Option to specify a WorkerPool for the build. Format projects/{project}/workerPools/{workerPool}
This field is experimental.
:ë
k

cloudbuildTriggerBuildOptionsVolumeBgcp:cloudbuild/TriggerBuildOptionsVolume:TriggerBuildOptionsVolumeû
ø¿
nameB" °Name of the volume to mount.
Volume names must be unique per build step and must be valid names for Docker volumes.
Each named volume must be used by at least two build steps.
³
pathB" ¤Path at which to mount the volume.
Paths must be absolute and cannot conflict with other volume paths on the same
build step or with certain reserved volume paths.
:Ü
V

cloudbuildTriggerBuildSecret4gcp:cloudbuild/TriggerBuildSecret:TriggerBuildSecret
þC

kmsKeyName" 1Cloud KMS key name to use to decrypt these envs.
¶
	secretEnvB2"  Map of environment variable name to its encrypted value.
Secret environment variables must be unique across all of a build's secrets,
and must be used by at least one build step. Values can be at most 64 KB in size.
There can be at most 100 secret values across all of a build's secrets.
:Ã
V

cloudbuildTriggerBuildSource4gcp:cloudbuild/TriggerBuildSource:TriggerBuildSourceè
åå

repoSourcezBx:v
t

cloudbuildTriggerBuildSourceRepoSourceHgcp:cloudbuild/TriggerBuildSourceRepoSource:TriggerBuildSourceRepoSource[Location of the source in a Google Cloud Source Repository.
Structure is documented below.
ú
storageSource„B:
}

cloudbuildTriggerBuildSourceStorageSourceNgcp:cloudbuild/TriggerBuildSourceStorageSource:TriggerBuildSourceStorageSourcebLocation of the source in an archive file in Google Cloud Storage.
Structure is documented below.
:á

t

cloudbuildTriggerBuildSourceRepoSourceHgcp:cloudbuild/TriggerBuildSourceRepoSource:TriggerBuildSourceRepoSourceè	
å	‚

branchNameB" íRegex matching branches to build. Exactly one a of branch name, tag, or commit SHA must be provided.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and
described at https://github.com/google/re2/wiki/Syntax
t
	commitShaB" aExplicit commit SHA to build. Exactly one a of branch name, tag, or commit SHA must be provided.
Ö
dirB" ÈDirectory, relative to the source root, in which to run the build.
This must be a relative path. If a step's dir is specified and is an absolute path,
this value is ignored for that step's execution.
c
invertRegexB
 NOnly trigger a build if the revision regex does NOT match the revision regex.
ˆ
	projectIdB" uID of the project that owns the Cloud Source Repository.
If omitted, the project ID requesting the build is assumed.
5
repoName" %Name of the Cloud Source Repository.
j
substitutionsB2" QSubstitutions to use in a triggered build. Should only be used with triggers.run
û
tagNameB" éRegex matching tags to build. Exactly one a of branch name, tag, or commit SHA must be provided.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and
described at https://github.com/google/re2/wiki/Syntax
:æ
}

cloudbuildTriggerBuildSourceStorageSourceNgcp:cloudbuild/TriggerBuildSourceStorageSource:TriggerBuildSourceStorageSourceä
áA
bucket" 3Google Cloud Storage bucket containing the source.
…

generationB" qGoogle Cloud Storage generation for the object.
If the generation is omitted, the latest generation will be used
“
object" „Google Cloud Storage object containing the source.
This object must be a gzipped archive file (.tar.gz) containing source to build.
:–!
P

cloudbuildTriggerBuildStep0gcp:cloudbuild/TriggerBuildStep:TriggerBuildStepÁ 
¾ Ü
allowExitCodesB* ÁAllow this build step to fail without failing the entire build if and
only if the exit code is one of the specified codes.
If `allowFailure` is also specified, this field will take precedence.
×
allowFailureB
 ÀAllow this build step to fail without failing the entire build.
If false, the entire build will fail if this step fails. Otherwise, the
build will succeed, but this step will still have a failure status.
Error information will be reported in the `failureDetail` field.
`allowExitCodes` takes precedence over this field.
Þ
argsB*" ÍA list of arguments that will be presented to the step when it is started.
If the image used to run the step's container has an entrypoint, the args
are used as arguments to that entrypoint. If the image does not define an
entrypoint, the first element in args is used as the entrypoint, and the
remainder will be used as arguments.
š
dirB" ŒWorking directory to use when running this step's container.
If this value is a relative path, it is relative to the build's working
directory. If this value is absolute, it may be outside the build's working
directory, in which case the contents of the path may not be persisted
across build step executions, unless a `volume` for that path is specified.
If the build specifies a `RepoSource` with `dir` and a step with a
`dir`,
which specifies an absolute path, the `RepoSource` `dir` is ignored
for the step's execution.
‘

entrypointB" }Entrypoint to be used instead of the build step image's
default entrypoint.
If unset, the image's default entrypoint is used
Ç
envsB*" ¶A list of environment variable definitions to be used when
running a step.
The elements are of the form "KEY=VALUE" for the environment variable
"KEY" being given the value "VALUE".
t
idB" hUnique identifier for this build step, used in `wait_for` to
reference this build step as a dependency.
·
name" ªThe name of the container image that will run this particular build step.
If the image is available in the host's Docker daemon's cache, it will be
run directly. If not, the host will attempt to pull the image first, using
the builder service account's credentials if necessary.
The Docker daemon's cache will already have the latest versions of all of
the officially supported build steps (see https://github.com/GoogleCloudPlatform/cloud-builders
for images and examples).
The Docker daemon will also have cached many of the layers for some popular
images, like "ubuntu", "debian", but they will be refreshed at the time
you attempt to use them.
If you built an image in a previous build step, it will be stored in the
host's Docker daemon's cache and is available to use as the name for a
later build step.
„
scriptB" tA shell script to be executed in the step.
When script is provided, the user cannot specify the entrypoint or args.
´

secretEnvsB*" A list of environment variables which are encrypted using
a Cloud Key
Management Service crypto key. These values must be specified in
the build's `Secret`.
Ç
timeoutB" µTime limit for executing this build step. If not defined,
the step has no
time limit and will be allowed to continue to run until either it
completes or the build itself times out.
V
timingB" FOutput only. Stores timing information for executing this
build step.
Ø
volumesjBh*f:d
b

cloudbuildTriggerBuildStepVolume<gcp:cloudbuild/TriggerBuildStepVolume:TriggerBuildStepVolumeàList of volumes to mount into the build step.
Each volume is created as an empty volume prior to execution of the
build step. Upon completion of the build, volumes and their contents
are discarded.
Using a named volume in only one step is not valid as it is
indicative of a build request with an incorrect configuration.
Structure is documented below.
»
waitForsB*" ¦The ID(s) of the step(s) that this build step depends on.
This build step will not start until all the build steps in `wait_for`
have completed successfully. If `wait_for` is empty, this build step
will start when all previous build steps in the `Build.Steps` list
have completed successfully.
:Þ
b

cloudbuildTriggerBuildStepVolume<gcp:cloudbuild/TriggerBuildStepVolume:TriggerBuildStepVolume÷
ô½
name" °Name of the volume to mount.
Volume names must be unique per build step and must be valid names for Docker volumes.
Each named volume must be used by at least two build steps.
±
path" ¤Path at which to mount the volume.
Paths must be absolute and cannot conflict with other volume paths on the same
build step or with certain reserved volume paths.
:“
\

cloudbuildTriggerGitFileSource8gcp:cloudbuild/TriggerGitFileSource:TriggerGitFileSource²
¯¤
bitbucketServerConfigB" „The full resource name of the bitbucket server config.
Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.
Ø
githubEnterpriseConfigB" ·The full resource name of the github enterprise config.
Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.
N
path" BThe path of the file, with the repo root as the root of the path.

repoType" ÿThe type of the repo, since it may not be explicit from the repo field (e.g from a URL).
Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER
Possible values are: `UNKNOWN`, `CLOUD_SOURCE_REPOSITORIES`, `GITHUB`, `BITBUCKET_SERVER`.
˜

repositoryB" ƒThe fully qualified resource name of the Repo API repository. The fully qualified resource name of the Repo API repository.
If unspecified, the repo from which the trigger invocation originated is assumed to be the repo from which to read the specified path.
ô
revisionB" áThe branch, tag, arbitrary ref, or SHA version of the repo to use when resolving the
filename (optional). This field respects the same syntax/resolution as described here: https://git-scm.com/docs/gitrevisions
If unspecified, the revision from which the trigger invocation originated is assumed to be the revision from which to read the specified path.
µ
uriB" §The URI of the repo (optional). If unspecified, the repo from which the trigger
invocation originated is assumed to be the repo from which to read the specified path.
:Ã
G

cloudbuildTriggerGithub*gcp:cloudbuild/TriggerGithub:TriggerGithub÷
ôç
enterpriseConfigResourceNameB" ÀThe resource name of the github enterprise config that should be applied to this installation.
For example: "projects/{$projectId}/locations/{$locationId}/githubEnterpriseConfigs/{$configId}"
‹
nameB" }Name of the repository. For example: The name for
https://github.com/googlecloudplatform/cloud-builders is "cloud-builders".
”
ownerB" „Owner of the repository. For example: The owner for
https://github.com/googlecloudplatform/cloud-builders is "googlecloudplatform".
ö
pullRequestnBl:j
h

cloudbuildTriggerGithubPullRequest@gcp:cloudbuild/TriggerGithubPullRequest:TriggerGithubPullRequestwfilter to match changes in pull requests. Specify only one of `pull_request` or `push`.
Structure is documented below.
é
pushYBW:U
S

cloudbuildTriggerGithubPush2gcp:cloudbuild/TriggerGithubPush:TriggerGithubPush…filter to match changes in refs, like branches or tags. Specify only one of `pull_request` or `push`.
Structure is documented below.
:ì
h

cloudbuildTriggerGithubPullRequest@gcp:cloudbuild/TriggerGithubPullRequest:TriggerGithubPullRequestÿ
ü³
branch" ¤Regex of branches to match.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
æ
commentControlB" ÍConfigure builds to run whether a repository owner or collaborator need to comment /gcbrun.
Possible values are: `COMMENTS_DISABLED`, `COMMENTS_ENABLED`, `COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY`.
[
invertRegexB
 FIf true, branches that do NOT match the git_ref will trigger a build.
:æ
S

cloudbuildTriggerGithubPush2gcp:cloudbuild/TriggerGithubPush:TriggerGithubPushŽ
‹P
branchB" @Regex of branches to match.  Specify only one of branch or tag.
l
invertRegexB
 WWhen true, only trigger a build if the revision regex does NOT match the gitRef regex.
I
tagB" <Regex of tags to match.  Specify only one of branch or tag.
:Ö
Y

cloudbuildTriggerPubsubConfig6gcp:cloudbuild/TriggerPubsubConfig:TriggerPubsubConfigø
õN
serviceAccountEmailB" 1Service account that will make the push request.

stateB" r(Output)
Potential issues with the underlying Pub/Sub subscription configuration.
Only populated on get requests.
F
subscriptionB" 0(Output)
Output only. Name of the subscription.
W
topic" JThe name of the topic from which this subscription is receiving messages.
:±
t

cloudbuildTriggerRepositoryEventConfigHgcp:cloudbuild/TriggerRepositoryEventConfig:TriggerRepositoryEventConfig¸
µ†
pullRequestžB›:˜
•

cloudbuild'TriggerRepositoryEventConfigPullRequest^gcp:cloudbuild/TriggerRepositoryEventConfigPullRequest:TriggerRepositoryEventConfigPullRequestVContains filter properties for matching Pull Requests.
Structure is documented below.
ç
push‰B†:ƒ
€

cloudbuild TriggerRepositoryEventConfigPushPgcp:cloudbuild/TriggerRepositoryEventConfigPush:TriggerRepositoryEventConfigPushSContains filter properties for matching git pushes.
Structure is documented below.
@

repositoryB" ,The resource name of the Repo API resource.
:œ
•

cloudbuild'TriggerRepositoryEventConfigPullRequest^gcp:cloudbuild/TriggerRepositoryEventConfigPullRequest:TriggerRepositoryEventConfigPullRequest
þµ
branchB" ¤Regex of branches to match.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
æ
commentControlB" ÍConfigure builds to run whether a repository owner or collaborator need to comment /gcbrun.
Possible values are: `COMMENTS_DISABLED`, `COMMENTS_ENABLED`, `COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY`.
[
invertRegexB
 FIf true, branches that do NOT match the git_ref will trigger a build.
:”
€

cloudbuild TriggerRepositoryEventConfigPushPgcp:cloudbuild/TriggerRepositoryEventConfigPush:TriggerRepositoryEventConfigPushŽ
‹P
branchB" @Regex of branches to match.  Specify only one of branch or tag.
l
invertRegexB
 WWhen true, only trigger a build if the revision regex does NOT match the gitRef regex.
I
tagB" <Regex of tags to match.  Specify only one of branch or tag.
:ò
\

cloudbuildTriggerSourceToBuild8gcp:cloudbuild/TriggerSourceToBuild:TriggerSourceToBuild‘
Ž¤
bitbucketServerConfigB" „The full resource name of the bitbucket server config.
Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.
Ø
githubEnterpriseConfigB" ·The full resource name of the github enterprise config.
Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.
I
ref" >The branch or tag to use. Must start with "refs/" (required).

repoType" ÿThe type of the repo, since it may not be explicit from the repo field (e.g from a URL).
Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER
Possible values are: `UNKNOWN`, `CLOUD_SOURCE_REPOSITORIES`, `GITHUB`, `BITBUCKET_SERVER`.
‡

repositoryB" sThe qualified resource name of the Repo API repository.
Either uri or repository can be specified and is required.
"
uriB" The URI of the repo.
:¿
b

cloudbuildTriggerTriggerTemplate<gcp:cloudbuild/TriggerTriggerTemplate:TriggerTriggerTemplateØ
Õ™

branchNameB" „Name of the branch to build. Exactly one a of branch name, tag, or commit SHA must be provided.
This field is a regular expression.
t
	commitShaB" aExplicit commit SHA to build. Exactly one of a branch name, tag, or commit SHA must be provided.
Ö
dirB" ÈDirectory, relative to the source root, in which to run the build.
This must be a relative path. If a step's dir is specified and
is an absolute path, this value is ignored for that step's
execution.
c
invertRegexB
 NOnly trigger a build if the revision regex does NOT match the revision regex.
ˆ
	projectIdB" uID of the project that owns the Cloud Source Repository. If
omitted, the project ID requesting the build is assumed.
b
repoNameB" PName of the Cloud Source Repository. If omitted, the name "default" is assumed.
“
tagNameB" Name of the tag to build. Exactly one of a branch name, tag, or commit SHA must be provided.
This field is a regular expression.
:²
\

cloudbuildTriggerWebhookConfig8gcp:cloudbuild/TriggerWebhookConfig:TriggerWebhookConfigÑ
ÎH
secret" :Resource name for the secret required as a URL parameter.

stateB" r(Output)
Potential issues with the underlying Pub/Sub subscription configuration.
Only populated on get requests.
:ú
e

cloudbuildWorkerPoolNetworkConfig>gcp:cloudbuild/WorkerPoolNetworkConfig:WorkerPoolNetworkConfig
ž
peeredNetwork" ˆImmutable. The network definition that the workers are peered to. If this section is left empty, the workers will be peered to `WorkerPool.project_id` on the service producer network. Must be in the format `projects/{project}/global/networks/{network}`, where `{project}` is a project number, such as `12345`, and `{network}` is the name of a VPC network in the project. See (https://cloud.google.com/cloud-build/docs/custom-workers/set-up-custom-worker-pool-environment#understanding_the_network_configuration_options)
é
peeredNetworkIpRangeB" ÊImmutable. Subnet IP range within the peered network. This is specified in CIDR notation with a slash and the subnet prefix size. You can optionally specify an IP address before the subnet prefix value. e.g. `192.168.0.0/29` would specify an IP range starting at 192.168.0.0 with a prefix size of 29 bits. `/16` would specify a prefix size of 16 bits, with an automatically determined IP within the peered VPC. If unspecified, a value of `/24` will be used.
:ä
}

cloudbuildWorkerPoolPrivateServiceConnectNgcp:cloudbuild/WorkerPoolPrivateServiceConnect:WorkerPoolPrivateServiceConnectâ
ßú
networkAttachment" àRequired. Immutable. The network attachment that the worker network interface is connected to. Must be in the format `projects/{project}/regions/{region}/networkAttachments/{networkAttachment}`. The region of network attachment must be the same as the worker pool. See [Network Attachments](https://cloud.google.com/vpc/docs/about-network-attachments)
ß
routeAllTrafficB
 ÅImmutable. Route all traffic through PSC interface. Enable this if you want full control of traffic in the private pool. Configure Cloud NAT for the subnet of network attachment if you need to access public Internet. If false, Only route private IPs, e.g. 10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16 through PSC interface.
:ò
b

cloudbuildWorkerPoolWorkerConfig<gcp:cloudbuild/WorkerPoolWorkerConfig:WorkerPoolWorkerConfig‹
ˆ”

diskSizeGbB ÿSize of the disk attached to the worker, in GB. See [diskSizeGb](https://cloud.google.com/build/docs/private-pools/private-pool-config-file-schema#disksizegb). Specify a value of up to 1000. If `0` is specified, Cloud Build will use a standard disk size.
ð
machineTypeB" ÚMachine type of a worker, such as `n1-standard-1`. See [machineType](https://cloud.google.com/build/docs/private-pools/private-pool-config-file-schema#machinetype). If left blank, Cloud Build will use `n1-standard-1`.
|
noExternalIpB
 fIf true, workers are created without any public address, which prevents network egress to public IPs.
:
h

cloudbuildgetTriggerApprovalConfig@gcp:cloudbuild/getTriggerApprovalConfig:getTriggerApprovalConfig°
­ª
approvalRequired
 ‘Whether or not approval is needed. If this is set on a build, it will become pending when run,
and will need to be explicitly approved to start.
:Î	
’

cloudbuild&getTriggerBitbucketServerTriggerConfig\gcp:cloudbuild/getTriggerBitbucketServerTriggerConfig:getTriggerBitbucketServerTriggerConfig¶
³l
bitbucketServerConfigResource" GThe Bitbucket server config resource that this trigger config maps to.
˜

projectKey" …Key of the project that the repo is in. For example: The key for https://mybitbucket.server/projects/TEST/repos/test-repo is "TEST".
ù
pullRequests¼*¹:¶
³

cloudbuild1getTriggerBitbucketServerTriggerConfigPullRequestrgcp:cloudbuild/getTriggerBitbucketServerTriggerConfigPullRequest:getTriggerBitbucketServerTriggerConfigPullRequest*Filter to match changes in pull requests.
é
pushes§*¤:¡
ž

cloudbuild*getTriggerBitbucketServerTriggerConfigPushdgcp:cloudbuild/getTriggerBitbucketServerTriggerConfigPush:getTriggerBitbucketServerTriggerConfigPush5Filter to match changes in refs like branches, tags.
¿
repoSlug" ®Slug of the repository. A repository slug is a URL-friendly version of a repository name, automatically generated by Bitbucket for use in the URL.
For example, if the repository name is 'test repo', in the URL it would become 'test-repo' as in https://mybitbucket.server/projects/TEST/repos/test-repo.
:±
³

cloudbuild1getTriggerBitbucketServerTriggerConfigPullRequestrgcp:cloudbuild/getTriggerBitbucketServerTriggerConfigPullRequest:getTriggerBitbucketServerTriggerConfigPullRequestø
õ³
branch" ¤Regex of branches to match.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and described at https://github.com/google/re2/wiki/Syntax
á
commentControl" ÊConfigure builds to run whether a repository owner or collaborator need to comment /gcbrun. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]
Y
invertRegex
 FIf true, branches that do NOT match the git_ref will trigger a build.
:¬
ž

cloudbuild*getTriggerBitbucketServerTriggerConfigPushdgcp:cloudbuild/getTriggerBitbucketServerTriggerConfigPush:getTriggerBitbucketServerTriggerConfigPushˆ
…N
branch" @Regex of branches to match.  Specify only one of branch or tag.
j
invertRegex
 WWhen true, only trigger a build if the revision regex does NOT match the gitRef regex.
G
tag" <Regex of tags to match.  Specify only one of branch or tag.
:ç
M

cloudbuildgetTriggerBuild.gcp:cloudbuild/getTriggerBuild:getTriggerBuild•
’á
	artifactsk*i:g
e

cloudbuildgetTriggerBuildArtifact>gcp:cloudbuild/getTriggerBuildArtifact:getTriggerBuildArtifactgArtifacts produced by the build that should be uploaded upon successful completion of all build steps.
Á
availableSecrets€*~:|
z

cloudbuildgetTriggerBuildAvailableSecretLgcp:cloudbuild/getTriggerBuildAvailableSecret:getTriggerBuildAvailableSecret*Secrets and secret environment variables.
Ì
images*" »A list of images to be pushed upon the successful completion of all build steps.
The images are pushed using the builder service account's credentials.
The digests of the pushed images will be stored in the Build resource's results field.
If any of the images fail to be pushed, the build status is marked FAILURE.
–

logsBucket" ƒGoogle Cloud Storage bucket where logs should be written.
Logs file names will be of the format ${logsBucket}/log-${build_id}.txt.
’
optionse*c:a
_

cloudbuildgetTriggerBuildOption:gcp:cloudbuild/getTriggerBuildOption:getTriggerBuildOption Special options for this build.
­
queueTtl" œTTL in queue for this build. If provided and the build is enqueued longer than this value,
the build will expire and the build status will be EXPIRED.
The TTL starts ticking from createTime.
A duration in seconds with up to nine fractional digits, terminated by 's'. Example: "3.5s".
©
secretse*c:a
_

cloudbuildgetTriggerBuildSecret:gcp:cloudbuild/getTriggerBuildSecret:getTriggerBuildSecret7Secrets to decrypt using Cloud Key Management Service.
×
sourcese*c:a
_

cloudbuildgetTriggerBuildSource:gcp:cloudbuild/getTriggerBuildSource:getTriggerBuildSourceeThe location of the source files to build.

One of 'storageSource' or 'repoSource' must be provided.
›
steps_*]:[
Y

cloudbuildgetTriggerBuildStep6gcp:cloudbuild/getTriggerBuildStep:getTriggerBuildStep1The operations to be performed on the workspace.
>
substitutions2" 'Substitutions data for Build resource.
I
tags*" ;Tags for annotation of a Build. These are not docker tags.
‹
timeout" ûAmount of time that this build should be allowed to run, to second granularity.
If this amount of time elapses, work on the build will cease and the build status will be TIMEOUT.
This timeout must be equal to or greater than the sum of the timeouts for build steps within the build.
The expected format is the number of seconds followed by s.
Default time is ten minutes (600s).
:Ô
e

cloudbuildgetTriggerBuildArtifact>gcp:cloudbuild/getTriggerBuildArtifact:getTriggerBuildArtifactê
çÌ
images*" »A list of images to be pushed upon the successful completion of all build steps.

The images will be pushed using the builder service account's credentials.

The digests of the pushed images will be stored in the Build resource's results field.

If any of the images fail to be pushed, the build is marked FAILURE.
µ
mavenArtifacts•*’:
Œ

cloudbuild$getTriggerBuildArtifactMavenArtifactXgcp:cloudbuild/getTriggerBuildArtifactMavenArtifact:getTriggerBuildArtifactMavenArtifactŠA Maven artifact to upload to Artifact Registry upon successful completion of all build steps.

The location and generation of the uploaded objects will be stored in the Build resource's results field.

If any objects fail to be pushed, the build is marked FAILURE.
¤
npmPackagesŒ*‰:†
ƒ

cloudbuild!getTriggerBuildArtifactNpmPackageRgcp:cloudbuild/getTriggerBuildArtifactNpmPackage:getTriggerBuildArtifactNpmPackage…Npm package to upload to Artifact Registry upon successful completion of all build steps.

The location and generation of the uploaded objects will be stored in the Build resource's results field.

If any objects fail to be pushed, the build is marked FAILURE.
®
objects}*{:y
w

cloudbuildgetTriggerBuildArtifactObjectJgcp:cloudbuild/getTriggerBuildArtifactObject:getTriggerBuildArtifactObject£A list of objects to be uploaded to Cloud Storage upon successful completion of all build steps.

Files in the workspace matching specified paths globs will be uploaded to the
Cloud Storage location using the builder service account's credentials.

The location and generation of the uploaded objects will be stored in the Build resource's results field.

If any objects fail to be pushed, the build is marked FAILURE.
…
pythonPackages•*’:
Œ

cloudbuild$getTriggerBuildArtifactPythonPackageXgcp:cloudbuild/getTriggerBuildArtifactPythonPackage:getTriggerBuildArtifactPythonPackageÚPython package to upload to Artifact Registry upon successful completion of all build steps. A package can encapsulate multiple objects to be uploaded to a single repository.

The location and generation of the uploaded objects will be stored in the Build resource's results field.

If any objects fail to be pushed, the build is marked FAILURE.
:¤
Œ

cloudbuild$getTriggerBuildArtifactMavenArtifactXgcp:cloudbuild/getTriggerBuildArtifactMavenArtifact:getTriggerBuildArtifactMavenArtifact’
`

artifactId" NMaven artifactId value used when uploading the artifact to Artifact Registry.
Z
groupId" KMaven groupId value used when uploading the artifact to Artifact Registry.
Š
path" ýPath to an artifact in the build's workspace to be uploaded to Artifact Registry. This can be either an absolute path, e.g. /workspace/my-app/target/my-app-1.0.SNAPSHOT.jar or a relative path from /workspace, e.g. my-app/target/my-app-1.0.SNAPSHOT.jar.
å

repository" ÒArtifact Registry repository, in the form "https://$REGION-maven.pkg.dev/$PROJECT/$REPOSITORY"

Artifact in the workspace specified by path will be uploaded to Artifact Registry with this location as a prefix.
Z
version" KMaven version value used when uploading the artifact to Artifact Registry.
:Î
ƒ

cloudbuild!getTriggerBuildArtifactNpmPackageRgcp:cloudbuild/getTriggerBuildArtifactNpmPackage:getTriggerBuildArtifactNpmPackageÅ
ÂL
packagePath" 9Path to the package.json. e.g. workspace/path/to/package
ñ

repository" ÞArtifact Registry repository, in the form "https://$REGION-npm.pkg.dev/$PROJECT/$REPOSITORY"

Npm package in the workspace specified by path will be zipped and uploaded to Artifact Registry with this location as a prefix.
:ø
w

cloudbuildgetTriggerBuildArtifactObjectJgcp:cloudbuild/getTriggerBuildArtifactObject:getTriggerBuildArtifactObjectü
ùA
location" 1The Cloud Build location for the trigger.

- - -
H
paths*" 9Path globs used to match files in the build's workspace.
é
timings’*:Œ
‰

cloudbuild#getTriggerBuildArtifactObjectTimingVgcp:cloudbuild/getTriggerBuildArtifactObjectTiming:getTriggerBuildArtifactObjectTimingIOutput only. Stores timing information for pushing all artifact objects.
:¾
‰

cloudbuild#getTriggerBuildArtifactObjectTimingVgcp:cloudbuild/getTriggerBuildArtifactObjectTiming:getTriggerBuildArtifactObjectTiming¯
¬Ñ
endTime" ÁEnd of time span.

A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to
nine fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
Õ
	startTime" ÃStart of time span.

A timestamp in RFC3339 UTC "Zulu" format, with nanosecond resolution and up to
nine fractional digits. Examples: "2014-10-02T15:01:23Z" and "2014-10-02T15:01:23.045123456Z".
:£
Œ

cloudbuild$getTriggerBuildArtifactPythonPackageXgcp:cloudbuild/getTriggerBuildArtifactPythonPackage:getTriggerBuildArtifactPythonPackage‘
Ž
paths*" Path globs used to match files in the build's workspace. For Python/ Twine, this is usually dist/*, and sometimes additionally an .asc file.
ë

repository" ØArtifact Registry repository, in the form "https://$REGION-python.pkg.dev/$PROJECT/$REPOSITORY"

Files in the workspace matching any path pattern will be uploaded to Artifact Registry with this location as a prefix.
:
z

cloudbuildgetTriggerBuildAvailableSecretLgcp:cloudbuild/getTriggerBuildAvailableSecret:getTriggerBuildAvailableSecret‘
Ž‹
secretManagersª*§:¤
¡

cloudbuild+getTriggerBuildAvailableSecretSecretManagerfgcp:cloudbuild/getTriggerBuildAvailableSecretSecretManager:getTriggerBuildAvailableSecretSecretManagerLPairs a secret environment variable with a SecretVersion in Secret Manager.
:Ï
¡

cloudbuild+getTriggerBuildAvailableSecretSecretManagerfgcp:cloudbuild/getTriggerBuildAvailableSecretSecretManager:getTriggerBuildAvailableSecretSecretManager¨
¥¾
env" ²Environment variable name to associate with the secret. Secret environment
variables must be unique across all of a build's secrets, and must be used
by at least one build step.
b
versionName" OResource name of the SecretVersion. In format: projects/*/secrets/*/versions/*
:Ø
_

cloudbuildgetTriggerBuildOption:gcp:cloudbuild/getTriggerBuildOption:getTriggerBuildOptionô
ñ³

diskSizeGb  Requested disk size for the VM that runs the build. Note that this is NOT "disk free";
some of the space will be used by the operating system and build utilities.
Also note that this is the minimum disk size that will be allocated for the build --
the build may run with a larger disk than requested. At present, the maximum disk size
is 1000GB; builds that request more than the maximum are rejected with an error.
æ
dynamicSubstitutions
 ÉOption to specify whether or not to apply bash style string operations to the substitutions.

NOTE this is always enabled for triggered builds and cannot be overridden in the build configuration file.
Ë
envs*" ¼A list of global environment variable definitions that will exist for all build steps
in this build. If a variable is defined in both globally and in a build step,
the variable will use the build step value.

The elements are of the form "KEY=VALUE" for the environment variable "KEY" being given the value "VALUE".
¡
logStreamingOption" †Option to define build log streaming behavior to Google Cloud Storage. Possible values: ["STREAM_DEFAULT", "STREAM_ON", "STREAM_OFF"]
Ú
logging" ÊOption to specify the logging mode, which determines if and where build logs are stored. Possible values: ["LOGGING_UNSPECIFIED", "LEGACY", "GCS_ONLY", "STACKDRIVER_ONLY", "CLOUD_LOGGING_ONLY", "NONE"]
J
machineType" 7Compute Engine machine type on which to run the build.
l
requestedVerifyOption" ORequested verifiability options. Possible values: ["NOT_VERIFIED", "VERIFIED"]
ü

secretEnvs*" çA list of global environment variables, which are encrypted using a Cloud Key Management
Service crypto key. These values must be specified in the build's Secret. These variables
will be available to all build steps in this build.
p
sourceProvenanceHashes*" PRequested hash for SourceProvenance. Possible values: ["NONE", "SHA256", "MD5"]

substitutionOption" ôOption to specify behavior when there is an error in the substitution checks.

NOTE this is always set to ALLOW_LOOSE for triggered builds and cannot be overridden
in the build configuration file. Possible values: ["MUST_MATCH", "ALLOW_LOOSE"]
°
volumesw*u:s
q

cloudbuildgetTriggerBuildOptionVolumeFgcp:cloudbuild/getTriggerBuildOptionVolume:getTriggerBuildOptionVolume«Global list of volumes to mount for ALL build steps

Each volume is created as an empty volume prior to starting the build process.
Upon completion of the build, volumes and their contents are discarded. Global
volume names and paths cannot conflict with the volumes defined a build step.

Using a global volume in a build with only one step is not valid as it is indicative
of a build request with an incorrect configuration.


workerPool" ~Option to specify a WorkerPool for the build. Format projects/{project}/workerPools/{workerPool}

This field is experimental.
:ï
q

cloudbuildgetTriggerBuildOptionVolumeFgcp:cloudbuild/getTriggerBuildOptionVolume:getTriggerBuildOptionVolumeù
ö¾
name" ±Name of the volume to mount.

Volume names must be unique per build step and must be valid names for Docker volumes.
Each named volume must be used by at least two build steps.
²
path" ¥Path at which to mount the volume.

Paths must be absolute and cannot conflict with other volume paths on the same
build step or with certain reserved volume paths.
:ã
_

cloudbuildgetTriggerBuildSecret:gcp:cloudbuild/getTriggerBuildSecret:getTriggerBuildSecretÿ
üC

kmsKeyName" 1Cloud KMS key name to use to decrypt these envs.
´
	secretEnv2"  Map of environment variable name to its encrypted value.
Secret environment variables must be unique across all of a build's secrets,
and must be used by at least one build step. Values can be at most 64 KB in size.
There can be at most 100 secret values across all of a build's secrets.
:¦
_

cloudbuildgetTriggerBuildSource:gcp:cloudbuild/getTriggerBuildSource:getTriggerBuildSourceÂ
¿Ò
repoSources„*:
}

cloudbuildgetTriggerBuildSourceRepoSourceNgcp:cloudbuild/getTriggerBuildSourceRepoSource:getTriggerBuildSourceRepoSource<Location of the source in a Google Cloud Source Repository.
ç
storageSources*Œ:‰
†

cloudbuild"getTriggerBuildSourceStorageSourceTgcp:cloudbuild/getTriggerBuildSourceStorageSource:getTriggerBuildSourceStorageSourceCLocation of the source in an archive file in Google Cloud Storage.
:Ü

}

cloudbuildgetTriggerBuildSourceRepoSourceNgcp:cloudbuild/getTriggerBuildSourceRepoSource:getTriggerBuildSourceRepoSourceÚ	
×	€

branchName" íRegex matching branches to build. Exactly one a of branch name, tag, or commit SHA must be provided.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and
described at https://github.com/google/re2/wiki/Syntax
r
	commitSha" aExplicit commit SHA to build. Exactly one a of branch name, tag, or commit SHA must be provided.
Ô
dir" ÈDirectory, relative to the source root, in which to run the build.
This must be a relative path. If a step's dir is specified and is an absolute path,
this value is ignored for that step's execution.
a
invertRegex
 NOnly trigger a build if the revision regex does NOT match the revision regex.
†
	projectId" uID of the project that owns the Cloud Source Repository.
If omitted, the project ID requesting the build is assumed.
5
repoName" %Name of the Cloud Source Repository.
h
substitutions2" QSubstitutions to use in a triggered build. Should only be used with triggers.run
ù
tagName" éRegex matching tags to build. Exactly one a of branch name, tag, or commit SHA must be provided.
The syntax of the regular expressions accepted is the syntax accepted by RE2 and
described at https://github.com/google/re2/wiki/Syntax
:î
†

cloudbuild"getTriggerBuildSourceStorageSourceTgcp:cloudbuild/getTriggerBuildSourceStorageSource:getTriggerBuildSourceStorageSourceâ
ßA
bucket" 3Google Cloud Storage bucket containing the source.
ƒ

generation" qGoogle Cloud Storage generation for the object.
If the generation is omitted, the latest generation will be used
“
object" „Google Cloud Storage object containing the source.
This object must be a gzipped archive file (.tar.gz) containing source to build.
:û 
Y

cloudbuildgetTriggerBuildStep6gcp:cloudbuild/getTriggerBuildStep:getTriggerBuildStep 
š Û
allowExitCodes* ÂAllow this build step to fail without failing the entire build if and
only if the exit code is one of the specified codes.

If 'allowFailure' is also specified, this field will take precedence.
Ö
allowFailure
 ÁAllow this build step to fail without failing the entire build.
If false, the entire build will fail if this step fails. Otherwise, the
build will succeed, but this step will still have a failure status.
Error information will be reported in the 'failureDetail' field.

'allowExitCodes' takes precedence over this field.
Ý
args*" ÎA list of arguments that will be presented to the step when it is started.

If the image used to run the step's container has an entrypoint, the args
are used as arguments to that entrypoint. If the image does not define an
entrypoint, the first element in args is used as the entrypoint, and the
remainder will be used as arguments.
š
dir" ŽWorking directory to use when running this step's container.

If this value is a relative path, it is relative to the build's working
directory. If this value is absolute, it may be outside the build's working
directory, in which case the contents of the path may not be persisted
across build step executions, unless a 'volume' for that path is specified.

If the build specifies a 'RepoSource' with 'dir' and a step with a
'dir',
which specifies an absolute path, the 'RepoSource' 'dir' is ignored
for the step's execution.


entrypoint" }Entrypoint to be used instead of the build step image's
default entrypoint.
If unset, the image's default entrypoint is used
Æ
envs*" ·A list of environment variable definitions to be used when
running a step.

The elements are of the form "KEY=VALUE" for the environment variable
"KEY" being given the value "VALUE".
r
id" hUnique identifier for this build step, used in 'wait_for' to
reference this build step as a dependency.
º
name" ­The name of the container image that will run this particular build step.

If the image is available in the host's Docker daemon's cache, it will be
run directly. If not, the host will attempt to pull the image first, using
the builder service account's credentials if necessary.

The Docker daemon's cache will already have the latest versions of all of
the officially supported build steps (see https://github.com/GoogleCloudPlatform/cloud-builders
for images and examples).
The Docker daemon will also have cached many of the layers for some popular
images, like "ubuntu", "debian", but they will be refreshed at the time
you attempt to use them.

If you built an image in a previous build step, it will be stored in the
host's Docker daemon's cache and is available to use as the name for a
later build step.
‚
script" tA shell script to be executed in the step.
When script is provided, the user cannot specify the entrypoint or args.
²

secretEnvs*" A list of environment variables which are encrypted using
a Cloud Key
Management Service crypto key. These values must be specified in
the build's 'Secret'.
Å
timeout" µTime limit for executing this build step. If not defined,
the step has no
time limit and will be allowed to continue to run until either it
completes or the build itself times out.
T
timing" FOutput only. Stores timing information for executing this
build step.
Â
volumesq*o:m
k

cloudbuildgetTriggerBuildStepVolumeBgcp:cloudbuild/getTriggerBuildStepVolume:getTriggerBuildStepVolumeÃList of volumes to mount into the build step.

Each volume is created as an empty volume prior to execution of the
build step. Upon completion of the build, volumes and their contents
are discarded.

Using a named volume in only one step is not valid as it is
indicative of a build request with an incorrect configuration.
º
waitFors*" §The ID(s) of the step(s) that this build step depends on.

This build step will not start until all the build steps in 'wait_for'
have completed successfully. If 'wait_for' is empty, this build step
will start when all previous build steps in the 'Build.Steps' list
have completed successfully.
:é
k

cloudbuildgetTriggerBuildStepVolumeBgcp:cloudbuild/getTriggerBuildStepVolume:getTriggerBuildStepVolumeù
ö¾
name" ±Name of the volume to mount.

Volume names must be unique per build step and must be valid names for
Docker volumes. Each named volume must be used by at least two build steps.
²
path" ¥Path at which to mount the volume.

Paths must be absolute and cannot conflict with other volume paths on
the same build step or with certain reserved volume paths.
:
e

cloudbuildgetTriggerGitFileSource>gcp:cloudbuild/getTriggerGitFileSource:getTriggerGitFileSource¥
¢¢
bitbucketServerConfig" „The full resource name of the bitbucket server config.
Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.
Ö
githubEnterpriseConfig" ·The full resource name of the github enterprise config.
Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.
N
path" BThe path of the file, with the repo root as the root of the path.

repoType" üThe type of the repo, since it may not be explicit from the repo field (e.g from a URL).
Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER Possible values: ["UNKNOWN", "CLOUD_SOURCE_REPOSITORIES", "GITHUB", "BITBUCKET_SERVER"]
–

repository" ƒThe fully qualified resource name of the Repo API repository. The fully qualified resource name of the Repo API repository.
If unspecified, the repo from which the trigger invocation originated is assumed to be the repo from which to read the specified path.
ò
revision" áThe branch, tag, arbitrary ref, or SHA version of the repo to use when resolving the
filename (optional). This field respects the same syntax/resolution as described here: https://git-scm.com/docs/gitrevisions
If unspecified, the revision from which the trigger invocation originated is assumed to be the revision from which to read the specified path.
³
uri" §The URI of the repo (optional). If unspecified, the repo from which the trigger
invocation originated is assumed to be the repo from which to read the specified path.
:œ
P

cloudbuildgetTriggerGithub0gcp:cloudbuild/getTriggerGithub:getTriggerGithubÇ
Äå
enterpriseConfigResourceName" ÀThe resource name of the github enterprise config that should be applied to this installation.
For example: "projects/{$projectId}/locations/{$locationId}/githubEnterpriseConfigs/{$configId}"
‰
name" }Name of the repository. For example: The name for
https://github.com/googlecloudplatform/cloud-builders is "cloud-builders".
’
owner" „Owner of the repository. For example: The owner for
https://github.com/googlecloudplatform/cloud-builders is "googlecloudplatform".
á
pullRequestsw*u:s
q

cloudbuildgetTriggerGithubPullRequestFgcp:cloudbuild/getTriggerGithubPullRequest:getTriggerGithubPullRequestXfilter to match changes in pull requests. Specify only one of 'pull_request' or 'push'.
Ô
pushesb*`:^
\

cloudbuildgetTriggerGithubPush8gcp:cloudbuild/getTriggerGithubPush:getTriggerGithubPushffilter to match changes in refs, like branches or tags. Specify only one of 'pull_request' or 'push'.
:à
q

cloudbuildgetTriggerGithubPullRequestFgcp:cloudbuild/getTriggerGithubPullRequest:getTriggerGithubPullRequestê
ç*
branch" Regex of branches to match.
Ý
commentControl" ÆWhether to block builds on a "/gcbrun" comment from a repository owner or collaborator. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]
Y
invertRegex
 FIf true, branches that do NOT match the git_ref will trigger a build.
:ê
\

cloudbuildgetTriggerGithubPush8gcp:cloudbuild/getTriggerGithubPush:getTriggerGithubPush‰
†N
branch" @Regex of branches to match.  Specify only one of branch or tag.
k
invertRegex
 XWhen true, only trigger a build if the revision regex does NOT match the git_ref regex.
G
tag" <Regex of tags to match.  Specify only one of branch or tag.
:Æ
b

cloudbuildgetTriggerPubsubConfig<gcp:cloudbuild/getTriggerPubsubConfig:getTriggerPubsubConfigß
ÜL
serviceAccountEmail" 1Service account that will make the push request.
v
state" iPotential issues with the underlying Pub/Sub subscription configuration.
Only populated on get requests.
;
subscription" 'Output only. Name of the subscription.
W
topic" JThe name of the topic from which this subscription is receiving messages.
:
}

cloudbuildgetTriggerRepositoryEventConfigNgcp:cloudbuild/getTriggerRepositoryEventConfig:getTriggerRepositoryEventConfig
Šñ
pullRequests§*¤:¡
ž

cloudbuild*getTriggerRepositoryEventConfigPullRequestdgcp:cloudbuild/getTriggerRepositoryEventConfigPullRequest:getTriggerRepositoryEventConfigPullRequest7Contains filter properties for matching Pull Requests.
Ó
pushes’*:Œ
‰

cloudbuild#getTriggerRepositoryEventConfigPushVgcp:cloudbuild/getTriggerRepositoryEventConfigPush:getTriggerRepositoryEventConfigPush4Contains filter properties for matching git pushes.
>

repository" ,The resource name of the Repo API resource.
:Ÿ
ž

cloudbuild*getTriggerRepositoryEventConfigPullRequestdgcp:cloudbuild/getTriggerRepositoryEventConfigPullRequest:getTriggerRepositoryEventConfigPullRequestû
ø´
branch" ¥Regex of branches to match.

The syntax of the regular expressions accepted is the syntax accepted by
RE2 and described at https://github.com/google/re2/wiki/Syntax
ã
commentControl" ÌConfigure builds to run whether a repository owner or collaborator need to comment '/gcbrun'. Possible values: ["COMMENTS_DISABLED", "COMMENTS_ENABLED", "COMMENTS_ENABLED_FOR_EXTERNAL_CONTRIBUTORS_ONLY"]
Y
invertRegex
 FIf true, branches that do NOT match the git_ref will trigger a build.
:ä
‰

cloudbuild#getTriggerRepositoryEventConfigPushVgcp:cloudbuild/getTriggerRepositoryEventConfigPush:getTriggerRepositoryEventConfigPushÕ
Ò´
branch" ¥Regex of branches to match.

The syntax of the regular expressions accepted is the syntax accepted by
RE2 and described at https://github.com/google/re2/wiki/Syntax
i
invertRegex
 VIf true, only trigger a build if the revision regex does NOT match the git_ref regex.
­
tag" ¡Regex of tags to match.

The syntax of the regular expressions accepted is the syntax accepted by
RE2 and described at https://github.com/google/re2/wiki/Syntax
:ð
e

cloudbuildgetTriggerSourceToBuild>gcp:cloudbuild/getTriggerSourceToBuild:getTriggerSourceToBuild†
ƒ¢
bitbucketServerConfig" „The full resource name of the bitbucket server config.
Format: projects/{project}/locations/{location}/bitbucketServerConfigs/{id}.
Ö
githubEnterpriseConfig" ·The full resource name of the github enterprise config.
Format: projects/{project}/locations/{location}/githubEnterpriseConfigs/{id}. projects/{project}/githubEnterpriseConfigs/{id}.
I
ref" >The branch or tag to use. Must start with "refs/" (required).

repoType" üThe type of the repo, since it may not be explicit from the repo field (e.g from a URL).
Values can be UNKNOWN, CLOUD_SOURCE_REPOSITORIES, GITHUB, BITBUCKET_SERVER Possible values: ["UNKNOWN", "CLOUD_SOURCE_REPOSITORIES", "GITHUB", "BITBUCKET_SERVER"]
…

repository" sThe qualified resource name of the Repo API repository.
Either uri or repository can be specified and is required.
 
uri" The URI of the repo.
:»
k

cloudbuildgetTriggerTriggerTemplateBgcp:cloudbuild/getTriggerTriggerTemplate:getTriggerTriggerTemplateË
È—

branchName" „Name of the branch to build. Exactly one a of branch name, tag, or commit SHA must be provided.
This field is a regular expression.
r
	commitSha" aExplicit commit SHA to build. Exactly one of a branch name, tag, or commit SHA must be provided.
Õ
dir" ÉDirectory, relative to the source root, in which to run the build.

This must be a relative path. If a step's dir is specified and
is an absolute path, this value is ignored for that step's
execution.
a
invertRegex
 NOnly trigger a build if the revision regex does NOT match the revision regex.
†
	projectId" uID of the project that owns the Cloud Source Repository. If
omitted, the project ID requesting the build is assumed.
`
repoName" PName of the Cloud Source Repository. If omitted, the name "default" is assumed.
‘
tagName" Name of the tag to build. Exactly one of a branch name, tag, or commit SHA must be provided.
This field is a regular expression.
:¯
e

cloudbuildgetTriggerWebhookConfig>gcp:cloudbuild/getTriggerWebhookConfig:getTriggerWebhookConfigÅ
ÂH
secret" :Resource name for the secret required as a URL parameter.
v
state" iPotential issues with the underlying Pub/Sub subscription configuration.
Only populated on get requests.
:è

~
cloudbuildv2ConnectionBitbucketCloudConfigNgcp:cloudbuildv2/ConnectionBitbucketCloudConfig:ConnectionBitbucketCloudConfigå	
â	ô
authorizerCredentialÀ:½
º
cloudbuildv22ConnectionBitbucketCloudConfigAuthorizerCredentialvgcp:cloudbuildv2/ConnectionBitbucketCloudConfigAuthorizerCredential:ConnectionBitbucketCloudConfigAuthorizerCredential˜Required. An access token with the `webhook`, `repository`, `repository:admin` and `pullrequest` scope access. It can be either a workspace, project or repository access token. It's recommended to use a system account to generate these credentials.
Structure is documented below.
Ë
readAuthorizerCredentialÌ:É
Æ
cloudbuildv26ConnectionBitbucketCloudConfigReadAuthorizerCredential~gcp:cloudbuildv2/ConnectionBitbucketCloudConfigReadAuthorizerCredential:ConnectionBitbucketCloudConfigReadAuthorizerCredentialßRequired. An access token with the `repository` access. It can be either a workspace, project or repository access token. It's recommended to use a system account to generate the credentials.
Structure is documented below.
¼
webhookSecretSecretVersion" ™Required. Immutable. SecretManager resource containing the webhook secret used to verify webhook events, formatted as `projects/*/secrets/*/versions/*`.
\
	workspace" KThe Bitbucket Cloud Workspace ID to be connected to Google Cloud Platform.
:Ê
º
cloudbuildv22ConnectionBitbucketCloudConfigAuthorizerCredentialvgcp:cloudbuildv2/ConnectionBitbucketCloudConfigAuthorizerCredential:ConnectionBitbucketCloudConfigAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:Ö
Æ
cloudbuildv26ConnectionBitbucketCloudConfigReadAuthorizerCredential~gcp:cloudbuildv2/ConnectionBitbucketCloudConfigReadAuthorizerCredential:ConnectionBitbucketCloudConfigReadAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:Ý

cloudbuildv2#ConnectionBitbucketDataCenterConfigXgcp:cloudbuildv2/ConnectionBitbucketDataCenterConfig:ConnectionBitbucketDataCenterConfigÊ
ÇÌ
authorizerCredentialÐ:Í
Ê
cloudbuildv27ConnectionBitbucketDataCenterConfigAuthorizerCredential€gcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigAuthorizerCredential:ConnectionBitbucketDataCenterConfigAuthorizerCredentialaRequired. A http access token with the `REPO_ADMIN` scope access.
Structure is documented below.
Q
hostUri" BThe URI of the Bitbucket Data Center host this connection is for.
Õ
readAuthorizerCredentialÜ:Ù
Ö
cloudbuildv2;ConnectionBitbucketDataCenterConfigReadAuthorizerCredentialˆgcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigReadAuthorizerCredential:ConnectionBitbucketDataCenterConfigReadAuthorizerCredentialZRequired. A http access token with the `REPO_READ` access.
Structure is documented below.
m
serverVersionB" V(Output)
Output only. Version of the Bitbucket Data Center running on the `host_uri`.
É
serviceDirectoryConfigÙBÖ:Ó
Ð
cloudbuildv29ConnectionBitbucketDataCenterConfigServiceDirectoryConfig„gcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigServiceDirectoryConfig:ConnectionBitbucketDataCenterConfigServiceDirectoryConfigÒConfiguration for using Service Directory to privately connect to a Bitbucket Data Center. This should only be set if the Bitbucket Data Center is hosted on-premises and not reachable by public internet. If this field is left empty, calls to the Bitbucket Data Center will be made over the public internet.
Structure is documented below.
Q
sslCaB" BSSL certificate to use for requests to the Bitbucket Data Center.
¼
webhookSecretSecretVersion" ™Required. Immutable. SecretManager resource containing the webhook secret used to verify webhook events, formatted as `projects/*/secrets/*/versions/*`.
:Ú
Ê
cloudbuildv27ConnectionBitbucketDataCenterConfigAuthorizerCredential€gcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigAuthorizerCredential:ConnectionBitbucketDataCenterConfigAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:æ
Ö
cloudbuildv2;ConnectionBitbucketDataCenterConfigReadAuthorizerCredentialˆgcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigReadAuthorizerCredential:ConnectionBitbucketDataCenterConfigReadAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:õ
Ð
cloudbuildv29ConnectionBitbucketDataCenterConfigServiceDirectoryConfig„gcp:cloudbuildv2/ConnectionBitbucketDataCenterConfigServiceDirectoryConfig:ConnectionBitbucketDataCenterConfigServiceDirectoryConfigŸ
œ™
service" ‰Required. The Service Directory service name. Format: projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}.
:â
f
cloudbuildv2ConnectionGithubConfig>gcp:cloudbuildv2/ConnectionGithubConfig:ConnectionGithubConfig÷
ô7
appInstallationIdB GitHub App installation id.
¸
authorizerCredential«B¨:¥
¢
cloudbuildv2*ConnectionGithubConfigAuthorizerCredentialfgcp:cloudbuildv2/ConnectionGithubConfigAuthorizerCredential:ConnectionGithubConfigAuthorizerCredentialñOAuth credential of the account that authorized the Cloud Build GitHub App. It is recommended to use a robot account instead of a human user account. The OAuth token must be tied to the Cloud Build GitHub App.
Structure is documented below.
:¬
¢
cloudbuildv2*ConnectionGithubConfigAuthorizerCredentialfgcp:cloudbuildv2/ConnectionGithubConfigAuthorizerCredential:ConnectionGithubConfigAuthorizerCredential„
­
oauthTokenSecretVersionB" ‹A SecretManager resource containing the OAuth token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:ø

„
cloudbuildv2 ConnectionGithubEnterpriseConfigRgcp:cloudbuildv2/ConnectionGithubEnterpriseConfig:ConnectionGithubEnterpriseConfigî	
ë	?
appIdB 0Id of the GitHub App created from the manifest.
E
appInstallationIdB *ID of the installation of the GitHub App.
:
appSlugB" )The URL-friendly name of the GitHub App.
W
hostUri" HRequired. The URI of the GitHub Enterprise host this connection is for.
–
privateKeySecretVersionB" uSecretManager resource containing the private key of the GitHub App, formatted as `projects/*/secrets/*/versions/*`.
È
serviceDirectoryConfigÏBÌ:É
Æ
cloudbuildv26ConnectionGithubEnterpriseConfigServiceDirectoryConfig~gcp:cloudbuildv2/ConnectionGithubEnterpriseConfigServiceDirectoryConfig:ConnectionGithubEnterpriseConfigServiceDirectoryConfigÛConfiguration for using Service Directory to privately connect to a GitHub Enterprise server. This should only be set if the GitHub Enterprise server is hosted on-premises and not reachable by public internet. If this field is left empty, calls to the GitHub Enterprise server will be made over the public internet.
Structure is documented below.
I
sslCaB" :SSL certificate to use for requests to GitHub Enterprise.
œ
webhookSecretSecretVersionB" xSecretManager resource containing the webhook secret of the GitHub App, formatted as `projects/*/secrets/*/versions/*`.
:ë
Æ
cloudbuildv26ConnectionGithubEnterpriseConfigServiceDirectoryConfig~gcp:cloudbuildv2/ConnectionGithubEnterpriseConfigServiceDirectoryConfig:ConnectionGithubEnterpriseConfigServiceDirectoryConfigŸ
œ™
service" ‰Required. The Service Directory service name. Format: projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}.
:˜
f
cloudbuildv2ConnectionGitlabConfig>gcp:cloudbuildv2/ConnectionGitlabConfig:ConnectionGitlabConfig­
ª¨
authorizerCredential¨:¥
¢
cloudbuildv2*ConnectionGitlabConfigAuthorizerCredentialfgcp:cloudbuildv2/ConnectionGitlabConfigAuthorizerCredential:ConnectionGitlabConfigAuthorizerCredentialeRequired. A GitLab personal access token with the `api` scope access.
Structure is documented below.
Š
hostUriB" yThe URI of the GitLab Enterprise host this connection is for. If not specified, the default value is https://gitlab.com.
Å
readAuthorizerCredential´:±
®
cloudbuildv2.ConnectionGitlabConfigReadAuthorizerCredentialngcp:cloudbuildv2/ConnectionGitlabConfigReadAuthorizerCredential:ConnectionGitlabConfigReadAuthorizerCredentialrRequired. A GitLab personal access token with the minimum `read_api` scope access.
Structure is documented below.
p
serverVersionB" Y(Output)
Output only. Version of the GitLab Enterprise server running on the `host_uri`.
ª
serviceDirectoryConfig±B®:«
¨
cloudbuildv2,ConnectionGitlabConfigServiceDirectoryConfigjgcp:cloudbuildv2/ConnectionGitlabConfigServiceDirectoryConfig:ConnectionGitlabConfigServiceDirectoryConfigÛConfiguration for using Service Directory to privately connect to a GitLab Enterprise server. This should only be set if the GitLab Enterprise server is hosted on-premises and not reachable by public internet. If this field is left empty, calls to the GitLab Enterprise server will be made over the public internet.
Structure is documented below.
I
sslCaB" :SSL certificate to use for requests to GitLab Enterprise.
½
webhookSecretSecretVersion" šRequired. Immutable. SecretManager resource containing the webhook secret of a GitLab Enterprise project, formatted as `projects/*/secrets/*/versions/*`.
:²
¢
cloudbuildv2*ConnectionGitlabConfigAuthorizerCredentialfgcp:cloudbuildv2/ConnectionGitlabConfigAuthorizerCredential:ConnectionGitlabConfigAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:¾
®
cloudbuildv2.ConnectionGitlabConfigReadAuthorizerCredentialngcp:cloudbuildv2/ConnectionGitlabConfigReadAuthorizerCredential:ConnectionGitlabConfigReadAuthorizerCredentialŠ
‡³
userTokenSecretVersion" ”Required. A SecretManager resource containing the user token that authorizes the Cloud Build connection. Format: `projects/*/secrets/*/versions/*`.
O
usernameB" =(Output)
Output only. The username associated to this token.
:Í
¨
cloudbuildv2,ConnectionGitlabConfigServiceDirectoryConfigjgcp:cloudbuildv2/ConnectionGitlabConfigServiceDirectoryConfig:ConnectionGitlabConfigServiceDirectoryConfigŸ
œ™
service" ‰Required. The Service Directory service name. Format: projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}.
:µ
{
cloudbuildv2ConnectionIAMBindingConditionLgcp:cloudbuildv2/ConnectionIAMBindingCondition:ConnectionIAMBindingCondition6
4
descriptionB" 

expression" 
title" :²
x
cloudbuildv2ConnectionIAMMemberConditionJgcp:cloudbuildv2/ConnectionIAMMemberCondition:ConnectionIAMMemberCondition6
4
descriptionB" 

expression" 
title" :ö
u
cloudbuildv2ConnectionInstallationStateHgcp:cloudbuildv2/ConnectionInstallationState:ConnectionInstallationStateü
ù
	actionUriB" l(Output)
Output only. Link to follow for next action. Empty string if the installation is already complete.
¤
messageB" ’(Output)
Output only. Message of what the user should do next to continue the installation. Empty string if the installation is already complete.
O
stageB" @(Output)
Output only. Current step of the installation process.
:¨
L
clouddeployAutomationRule-gcp:clouddeploy/AutomationRule:AutomationRule×
Ô—
advanceRolloutRule‹Bˆ:…
‚
clouddeploy AutomationRuleAdvanceRolloutRuleQgcp:clouddeploy/AutomationRuleAdvanceRolloutRule:AutomationRuleAdvanceRolloutRulesOptional. The `AdvanceRolloutRule` will automatically advance a successful Rollout.
Structure is documented below.
·
promoteReleaseRule‹Bˆ:…
‚
clouddeploy AutomationRulePromoteReleaseRuleQgcp:clouddeploy/AutomationRulePromoteReleaseRule:AutomationRulePromoteReleaseRule’Optional. `PromoteReleaseRule` will automatically promote a release from the current target to a specified target.
Structure is documented below.
:°
‚
clouddeploy AutomationRuleAdvanceRolloutRuleQgcp:clouddeploy/AutomationRuleAdvanceRolloutRule:AutomationRuleAdvanceRolloutRule¨
¥
id" …Required. ID of the rule. This id must be unique in the `Automation` resource to which this rule belongs. The format is `a-z{0,62}`.
Ç
sourcePhasesB*" ®Optional. Proceeds only after phase name matched any one in the list. This value must consist of lower-case letters, numbers, and hyphens, start with a letter and end with a letter or a number, and have a max length of 63 characters. In other words, it must match the following regex: `^a-z?$`.

- - -
F
waitB" 8Optional. How long to wait after a rollout is finished.
:Ê
‚
clouddeploy AutomationRulePromoteReleaseRuleQgcp:clouddeploy/AutomationRulePromoteReleaseRule:AutomationRulePromoteReleaseRuleÂ
¿}
destinationPhaseB" cOptional. The starting phase of the rollout created by this operation. Default to the first phase.
À
destinationTargetIdB" ¢Optional. The ID of the stage in the pipeline to which this `Release` is deploying. If unspecified, default it to the next stage in the promotion flow. The value of this field could be one of the following: * The last segment of a target name. It only needs the ID to determine if the target is one of the stages in the promotion sequence defined in the pipeline. * "@next", the next target in the promotion sequence.

id" …Required. ID of the rule. This id must be unique in the `Automation` resource to which this rule belongs. The format is `a-z{0,62}`.
h
waitB" ZOptional. How long the release need to be paused until being promoted to the next target.
:£
X
clouddeployAutomationSelector5gcp:clouddeploy/AutomationSelector:AutomationSelectorÆ
ÃÀ
targetsp*n:l
j
clouddeployAutomationSelectorTargetAgcp:clouddeploy/AutomationSelectorTarget:AutomationSelectorTargetCContains attributes about a target.
Structure is documented below.
:û
j
clouddeployAutomationSelectorTargetAgcp:clouddeploy/AutomationSelectorTarget:AutomationSelectorTargetŒ
‰ã
idB" ÖID of the `Target`. The value of this field could be one of the following: * The last segment of a target name. It only needs the ID to determine which target is being referred to * "*", all targets in a location.
!
labelsB2" Target labels.
:ÿ
y
clouddeployCustomTargetTypeCustomActionsKgcp:clouddeploy/CustomTargetTypeCustomActions:CustomTargetTypeCustomActions
þR
deployAction" >The Skaffold custom action responsible for deploy operations.
ó
includeSkaffoldModulesÄBÁ*¾:»
¸
clouddeploy2CustomTargetTypeCustomActionsIncludeSkaffoldModuleugcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModule:CustomTargetTypeCustomActionsIncludeSkaffoldModule‘List of Skaffold modules Cloud Deploy will include in the Skaffold Config as required before performing diagnose.
Structure is documented below.
±
renderActionB" šThe Skaffold custom action responsible for render operations. If not provided then Cloud Deploy will perform the render operations via `skaffold render`.
:¶

¸
clouddeploy2CustomTargetTypeCustomActionsIncludeSkaffoldModuleugcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModule:CustomTargetTypeCustomActionsIncludeSkaffoldModuleø
õQ
configsB*" >The Skaffold Config modules to use from the specified source.
±
gitÊBÇ:Ä
Á
clouddeploy5CustomTargetTypeCustomActionsIncludeSkaffoldModuleGit{gcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGit:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGit]Remote git repository containing the Skaffold Config modules.
Structure is documented below.
ÿ
googleCloudBuildRepoþBû:ø
õ
clouddeployFCustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepogcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepo:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepofCloud Build 2nd gen repository containing the Skaffold Config modules.
Structure is documented below.
é
googleCloudStorageøBõ:ò
ï
clouddeployDCustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorage™gcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorage:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorageXCloud Storage bucket containing Skaffold Config modules.
Structure is documented below.
:‘
Á
clouddeploy5CustomTargetTypeCustomActionsIncludeSkaffoldModuleGit{gcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGit:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGitÊ
ÇK
pathB" =Relative path from the repository root to the Skaffold file.
8
refB" +Git ref the package should be cloned from.
>
repo" 2Git repository the package should be cloned from.
:°
õ
clouddeployFCustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepogcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepo:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudBuildRepoµ
²K
pathB" =Relative path from the repository root to the Skaffold file.
?
refB" 2Branch or tag to use when cloning the repository.
¡

repository" ŽCloud Build 2nd gen repository in the format of 'projects/<project>/locations/<location>/connections/<connection>/repositories/<repository>'.
:œ
ï
clouddeployDCustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorage™gcp:clouddeploy/CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorage:CustomTargetTypeCustomActionsIncludeSkaffoldModuleGoogleCloudStorage§
¤B
pathB" 4Relative path from the source to the Skaffold file.
Ý
source" ÎCloud Storage source paths to copy recursively. For example, providing `gs://my-bucket/dir/configs/*` will result in Skaffold copying all files within the `dir/configs` directory in the bucket `my-bucket`.
:Æ
‹
clouddeploy#CustomTargetTypeIamBindingConditionWgcp:clouddeploy/CustomTargetTypeIamBindingCondition:CustomTargetTypeIamBindingCondition6
4
descriptionB" 

expression" 
title" :Ã
ˆ
clouddeploy"CustomTargetTypeIamMemberConditionUgcp:clouddeploy/CustomTargetTypeIamMemberCondition:CustomTargetTypeIamMemberCondition6
4
descriptionB" 

expression" 
title" :º
m
clouddeployDeliveryPipelineConditionCgcp:clouddeploy/DeliveryPipelineCondition:DeliveryPipelineConditionÈ
Å‡
pipelineReadyConditions»B¸*µ:²
¯
clouddeploy/DeliveryPipelineConditionPipelineReadyConditionogcp:clouddeploy/DeliveryPipelineConditionPipelineReadyCondition:DeliveryPipelineConditionPipelineReadyCondition.Details around the Pipeline's overall status.

targetsPresentConditions¾B»*¸:µ
²
clouddeploy0DeliveryPipelineConditionTargetsPresentConditionqgcp:clouddeploy/DeliveryPipelineConditionTargetsPresentCondition:DeliveryPipelineConditionTargetsPresentCondition3Details around targets enumerated in the pipeline.
¥
targetsTypeConditionsµB²*¯:¬
©
clouddeploy-DeliveryPipelineConditionTargetsTypeConditionkgcp:clouddeploy/DeliveryPipelineConditionTargetsTypeCondition:DeliveryPipelineConditionTargetsTypeConditionTDetails on the whether the targets enumerated in the pipeline are of the same type.
:–
¯
clouddeploy/DeliveryPipelineConditionPipelineReadyConditionogcp:clouddeploy/DeliveryPipelineConditionPipelineReadyCondition:DeliveryPipelineConditionPipelineReadyConditioná
Þ„
statusB
 óTrue if the Pipeline is in a valid state. Otherwise at least one condition in `PipelineCondition` is in an invalid state. Iterate over those conditions and see which condition(s) has status = false to find out what is wrong with the Pipeline.
U

updateTimeB" AOutput only. Most recent time at which the pipeline was updated.
:ê
²
clouddeploy0DeliveryPipelineConditionTargetsPresentConditionqgcp:clouddeploy/DeliveryPipelineConditionTargetsPresentCondition:DeliveryPipelineConditionTargetsPresentCondition²
¯™
missingTargetsB*" The list of Target names that are missing. For example, projects/{project_id}/locations/{location_name}/targets/{target_name}.
:
statusB
 *True if there aren't any missing Targets.
U

updateTimeB" AOutput only. Most recent time at which the pipeline was updated.
:¶
©
clouddeploy-DeliveryPipelineConditionTargetsTypeConditionkgcp:clouddeploy/DeliveryPipelineConditionTargetsTypeCondition:DeliveryPipelineConditionTargetsTypeCondition‡
„4
errorDetailsB" Human readable error message.
Ë
statusB
 ºTrue if the targets are all a comparable type. For example this is true if all targets are GKE clusters. This is false if some targets are Cloud Run targets and others are GKE clusters.
:Æ
‹
clouddeploy#DeliveryPipelineIamBindingConditionWgcp:clouddeploy/DeliveryPipelineIamBindingCondition:DeliveryPipelineIamBindingCondition6
4
descriptionB" 

expression" 
title" :Ã
ˆ
clouddeploy"DeliveryPipelineIamMemberConditionUgcp:clouddeploy/DeliveryPipelineIamMemberCondition:DeliveryPipelineIamMemberCondition6
4
descriptionB" 

expression" 
title" :”
|
clouddeployDeliveryPipelineSerialPipelineMgcp:clouddeploy/DeliveryPipelineSerialPipeline:DeliveryPipelineSerialPipeline“

stages—B”*‘:Ž
‹
clouddeploy#DeliveryPipelineSerialPipelineStageWgcp:clouddeploy/DeliveryPipelineSerialPipelineStage:DeliveryPipelineSerialPipelineStageiEach stage specifies configuration for a `Target`. The ordering of this list defines the promotion flow.
:“	
‹
clouddeploy#DeliveryPipelineSerialPipelineStageWgcp:clouddeploy/DeliveryPipelineSerialPipelineStage:DeliveryPipelineSerialPipelineStage‚
ÿ 
deployParametersÄBÁ*¾:»
¸
clouddeploy2DeliveryPipelineSerialPipelineStageDeployParameterugcp:clouddeploy/DeliveryPipelineSerialPipelineStageDeployParameter:DeliveryPipelineSerialPipelineStageDeployParameterEOptional. The deploy parameters to use for the target in this stage.
d
profilesB*" PSkaffold profiles to use when rendering the manifest for this stage's `Target`.
ø
strategy¬B©:¦
£
clouddeploy+DeliveryPipelineSerialPipelineStageStrategyggcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategy:DeliveryPipelineSerialPipelineStageStrategy=Optional. The strategy to use for a `Rollout` to this stage.
ø
targetIdB" åThe target_id to which this stage points. This field refers exclusively to the last segment of a target name. For example, this field would just be `my-target` (rather than `projects/project/locations/location/targets/my-target`). The location of the `Target` is inferred to be the same as the location of the `DeliveryPipeline` that contains this `Stage`.
:ß
¸
clouddeploy2DeliveryPipelineSerialPipelineStageDeployParameterugcp:clouddeploy/DeliveryPipelineSerialPipelineStageDeployParameter:DeliveryPipelineSerialPipelineStageDeployParameter¡
žÎ
matchTargetLabelsB2" °Optional. Deploy parameters are applied to targets with match labels. If unspecified, deploy parameters are applied to all targets (including child targets of a multi-target).
K
values2" ;Required. Values are deploy parameters in key-value pairs.
:…
£
clouddeploy+DeliveryPipelineSerialPipelineStageStrategyggcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategy:DeliveryPipelineSerialPipelineStageStrategyÜ
Ù¥
canary¾B»:¸
µ
clouddeploy1DeliveryPipelineSerialPipelineStageStrategyCanarysgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanary:DeliveryPipelineSerialPipelineStageStrategyCanaryZCanary deployment strategy provides progressive percentage based deployments to a Target.
®
standardÄBÁ:¾
»
clouddeploy3DeliveryPipelineSerialPipelineStageStrategyStandardwgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandard:DeliveryPipelineSerialPipelineStageStrategyStandard[Standard deployment strategy executes a single deploy and allows verifying the deployment.
:€
µ
clouddeploy1DeliveryPipelineSerialPipelineStageStrategyCanarysgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanary:DeliveryPipelineSerialPipelineStageStrategyCanaryÅ	
Â	À
canaryDeploymentïBì:é
æ
clouddeployADeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeployment“gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeployment:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeployment:Configures the progressive based deployment for a Target.
À
customCanaryDeploymentBþ:û
ø
clouddeployGDeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentŸgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeployment:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeployment¡Configures the progressive based deployment for a Target, but allows customizing at the phase level where a phase represents each of the percentage deployments.
¹
runtimeConfigæBã:à
Ý
clouddeploy>DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfiggcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfig:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfig¾Optional. Runtime specific configurations for the deployment strategy. The runtime configuration is used to determine how Cloud Deploy will split traffic to enable a progressive deployment.
:¶

æ
clouddeployADeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeployment“gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeployment:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentÊ
Ç³
percentages* Required. The percentage based deployments that will occur as a part of a `Rollout`. List is expected in ascending order and each integer n is 0 <= n < 100.
 

postdeployBŠ:‡
„
clouddeployKDeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeploy§gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeployOptional. Configuration for the postdeploy job of the last phase. If this is not configured, postdeploy job will not be present.
›
	predeployŠB‡:„

clouddeployJDeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeploy¥gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeploy€Optional. Configuration for the predeploy job of the first phase. If this is not configured, predeploy job will not be present.
N
verifyB
 >Whether to run verify tests after each percentage deployment.
:‚
„
clouddeployKDeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeploy§gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPostdeployy
wu
actionsB*" bOptional. A sequence of skaffold custom actions to invoke during execution of the postdeploy job.
:þ

clouddeployJDeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeploy¥gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCanaryDeploymentPredeployx
vt
actionsB*" aOptional. A sequence of skaffold custom actions to invoke during execution of the predeploy job.
:
ø
clouddeployGDeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentŸgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeployment:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeployment’
Œ
phaseConfigs¢*Ÿ:œ
™
clouddeployRDeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigµgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfig:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigWRequired. Configuration for each phase in the canary deployment in the order executed.
:Æ
™
clouddeployRDeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigµgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfig:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfig§
¤A

percentage /Required. Percentage deployment for the phase.
¤
phaseId" ”Required. The ID to assign to the `Rollout` phase. This value must consist of lower-case letters, numbers, and hyphens, start with a letter and end with a letter or a number, and have a max length of 63 characters. In other words, it must match the following regex: `^a-z?$`.
Þ

postdeployÀB½:º
·
clouddeploy\DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeployÉgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeployŒOptional. Configuration for the postdeploy job of this phase. If this is not configured, postdeploy job will not be present for this phase.
Ø
	predeploy½Bº:·
´
clouddeploy[DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeployÇgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeployŠOptional. Configuration for the predeploy job of this phase. If this is not configured, predeploy job will not be present for this phase.
°
profilesB*" ›Skaffold profiles to use when rendering the manifest for this phase. These are in addition to the profiles list specified in the `DeliveryPipeline` stage.
I
verifyB
 9Whether to run verify tests after the deployment.

- - -
:µ
·
clouddeploy\DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeployÉgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPostdeployy
wu
actionsB*" bOptional. A sequence of skaffold custom actions to invoke during execution of the postdeploy job.
:±
´
clouddeploy[DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeployÇgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeploy:DeliveryPipelineSerialPipelineStageStrategyCanaryCustomCanaryDeploymentPhaseConfigPredeployx
vt
actionsB*" aOptional. A sequence of skaffold custom actions to invoke during execution of the predeploy job.
:Ñ
Ý
clouddeploy>DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfiggcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfig:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigî
ë®
cloudRunþBû:ø
õ
clouddeployFDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRungcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRun:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRun!Cloud Run runtime configuration.
·

kubernetes„B:þ
û
clouddeployHDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes¡gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes"Kubernetes runtime configuration.
:—
õ
clouddeployFDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRungcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRun:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigCloudRunœ
™‚
automaticTrafficControlB
 àWhether Cloud Deploy should update the traffic stanza in a Cloud Run Service on the user's behalf to facilitate traffic splitting. This is required to be true for CanaryDeployments, but optional for CustomCanaryDeployments.
„
canaryRevisionTagsB*" fOptional. A list of tags that are added to the canary revision while the canary phase is in progress.
‚
priorRevisionTagsB*" eOptional. A list of tags that are added to the prior revision while the canary phase is in progress.
…
stableRevisionTagsB*" gOptional. A list of tags that are added to the final stable revision when the stable phase is applied.
:Œ
û
clouddeployHDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes¡gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetes‹
ˆ†
gatewayServiceMeshºB·:´
±
clouddeployZDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshÅgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMesh:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMesh3Kubernetes Gateway API service mesh configuration.
ü
serviceNetworking·B´:±
®
clouddeployYDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworkingÃgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworking:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworking-Kubernetes Service networking configuration.
:ñ
±
clouddeployZDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshÅgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMesh:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshº
·

deployment" mRequired. Name of the Kubernetes Deployment whose traffic is managed by the specified HTTPRoute and Service.
>
	httpRoute" -Required. Name of the Gateway API HTTPRoute.
ª
podSelectorLabelB" Optional. The label to use when selecting Pods for the Deployment and Service resources. This label must already be present in both resources.
È
routeDestinationsíBê:ç
ä
clouddeploykDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinationsçgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinations:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinationsÂOptional. Route destinations allow configuring the Gateway API HTTPRoute to be deployed to additional clusters. This option is available for multi-cluster service mesh set ups that require the route to exist in the clusters that call the service. If unspecified, the HTTPRoute will only be deployed to the Target cluster.
½
routeUpdateWaitTimeB" ŸOptional. The time to wait for route updates to propagate. The maximum configurable time is 3 hours, in seconds format. If unspecified, there is no wait time.
9
service" *Required. Name of the Kubernetes Service.
€
stableCutbackDurationB" àOptional. The amount of time to migrate traffic back from the canary Service to the original Service during the stable phase deployment. If specified, must be between 15s and 3600s. If unspecified, there is no cutback time.
:Ã
ä
clouddeploykDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinationsçgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinations:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesGatewayServiceMeshRouteDestinationsÙ
Öí
destinationIds*" ÔRequired. The clusters where the Gateway API HTTPRoute resource will be deployed to. Valid entries include the associated entities IDs configured in the Target resource and "@self" to include the Target cluster.
ã
propagateServiceB
 ÈOptional. Whether to propagate the Kubernetes Service to the route destination clusters. The Service will always be deployed to the Target cluster even if the HTTPRoute is not. This option may be used to facilitiate successful DNS lookup in the route destination clusters. Can only be set to true if destinations are specified.
:”
®
clouddeployYDeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworkingÃgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworking:DeliveryPipelineSerialPipelineStageStrategyCanaryRuntimeConfigKubernetesServiceNetworkingà
Ýq

deployment" _Required. Name of the Kubernetes Deployment whose traffic is managed by the specified Service.
Œ
disablePodOverprovisioningB
 çOptional. Whether to disable Pod overprovisioning. If Pod overprovisioning is disabled then Cloud Deploy will limit the number of total Pods used for the deployment strategy to the number of Pods the Deployment has on the cluster.

podSelectorLabelB" ‚Optional. The label to use when selecting Pods for the Deployment resource. This label must already be present in the Deployment.
9
service" *Required. Name of the Kubernetes Service.
:¼
»
clouddeploy3DeliveryPipelineSerialPipelineStageStrategyStandardwgcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandard:DeliveryPipelineSerialPipelineStageStrategyStandardû
øã

postdeployãBà:Ý
Ú
clouddeploy=DeliveryPipelineSerialPipelineStageStrategyStandardPostdeploy‹gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandardPostdeploy:DeliveryPipelineSerialPipelineStageStrategyStandardPostdeployoOptional. Configuration for the postdeploy job. If this is not configured, postdeploy job will not be present.
Ý
	predeployàBÝ:Ú
×
clouddeploy<DeliveryPipelineSerialPipelineStageStrategyStandardPredeploy‰gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandardPredeploy:DeliveryPipelineSerialPipelineStageStrategyStandardPredeploymOptional. Configuration for the predeploy job. If this is not configured, predeploy job will not be present.
0
verifyB
  Whether to verify a deployment.
:Ø
Ú
clouddeploy=DeliveryPipelineSerialPipelineStageStrategyStandardPostdeploy‹gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandardPostdeploy:DeliveryPipelineSerialPipelineStageStrategyStandardPostdeployy
wu
actionsB*" bOptional. A sequence of skaffold custom actions to invoke during execution of the postdeploy job.
:Ô
×
clouddeploy<DeliveryPipelineSerialPipelineStageStrategyStandardPredeploy‰gcp:clouddeploy/DeliveryPipelineSerialPipelineStageStrategyStandardPredeploy:DeliveryPipelineSerialPipelineStageStrategyStandardPredeployx
vt
actionsB*" aOptional. A sequence of skaffold custom actions to invoke during execution of the predeploy job.
:©
[
clouddeployTargetAnthosCluster7gcp:clouddeploy/TargetAnthosCluster:TargetAnthosClusterÉ
ÆÃ

membershipB" ®Membership of the GKE Hub-registered cluster to which to apply the Skaffold configuration. Format is `projects/{project}/locations/{location}/memberships/{membership_name}`.
:­
d
clouddeployTargetAssociatedEntity=gcp:clouddeploy/TargetAssociatedEntity:TargetAssociatedEntityÄ
Áõ
anthosClusters—B”*‘:Ž
‹
clouddeploy#TargetAssociatedEntityAnthosClusterWgcp:clouddeploy/TargetAssociatedEntityAnthosCluster:TargetAssociatedEntityAnthosClusterIOptional. Information specifying Anthos clusters as associated entities.
^
entityId" NThe name for the key in the map for which this object is mapped to in the API
æ
gkeClustersŽB‹*ˆ:…
‚
clouddeploy TargetAssociatedEntityGkeClusterQgcp:clouddeploy/TargetAssociatedEntityGkeCluster:TargetAssociatedEntityGkeClusterFOptional. Information specifying GKE clusters as associated entities.
:ä
‹
clouddeploy#TargetAssociatedEntityAnthosClusterWgcp:clouddeploy/TargetAssociatedEntityAnthosCluster:TargetAssociatedEntityAnthosClusterÓ
ÐÍ

membershipB" ¸Optional. Membership of the GKE Hub-registered cluster to which to apply the Skaffold configuration. Format is `projects/{project}/locations/{location}/memberships/{membership_name}`.
:À
‚
clouddeploy TargetAssociatedEntityGkeClusterQgcp:clouddeploy/TargetAssociatedEntityGkeCluster:TargetAssociatedEntityGkeCluster¸
µ“
clusterB" Optional. Information specifying a GKE Cluster. Format is `projects/{project_id}/locations/{location_id}/clusters/{cluster_id}`.
á

internalIpB
 ÌOptional. If true, `cluster` is accessed using the private IP address of the control plane endpoint. Otherwise, the default IP address of the control plane endpoint is used. The default IP address is the private IP address for clusters with private control-plane endpoints and the public IP address otherwise. Only specify this option when `cluster` is a [private GKE cluster](https://cloud.google.com/kubernetes-engine/docs/concepts/private-cluster-concept).
¸
proxyUrlB" ¥Optional. If set, used to configure a [proxy](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#proxy) to the Kubernetes server.
:‰
X
clouddeployTargetCustomTarget5gcp:clouddeploy/TargetCustomTarget:TargetCustomTarget¬
©¦
customTargetType" Required. The name of the CustomTargetType. Format must be `projects/{project}/locations/{location}/customTargetTypes/{custom_target_type}`.
:«	
a
clouddeployTargetExecutionConfig;gcp:clouddeploy/TargetExecutionConfig:TargetExecutionConfigÅ
ÂŽ
artifactStorageB" ôOptional. Cloud Storage location in which to store execution outputs. This can either be a bucket ("gs://my-bucket") or a path within a bucket ("gs://my-bucket/my-dir"). If unspecified, a default bucket located in the same region will be used.
¹
executionTimeoutB" žOptional. Execution timeout for a Cloud Build Execution. This must be between 10m and 24h in seconds format. If unspecified, a default timeout of 1h is used.
¸
serviceAccountB" ŸOptional. Google service account to use for execution. If unspecified, the project execution service account (-compute@developer.gserviceaccount.com) is used.
L
usages*" <Required. Usages when this configuration should be applied.
z
verboseB
 iOptional. If true, additional logging will be enabled when running builds in this execution environment.
í

workerPoolB" ØOptional. The resource name of the `WorkerPool`, with the format `projects/{project}/locations/{location}/workerPools/{worker_pool}`. If this optional field is unspecified, the default Cloud Build pool will be used.
:î
=
clouddeploy	TargetGke#gcp:clouddeploy/TargetGke:TargetGke¬
©‡
clusterB" vInformation specifying a GKE Cluster. Format is `projects/{project_id}/locations/{location_id}/clusters/{cluster_id}.
á

internalIpB
 ÌOptional. If true, `cluster` is accessed using the private IP address of the control plane endpoint. Otherwise, the default IP address of the control plane endpoint is used. The default IP address is the private IP address for clusters with private control-plane endpoints and the public IP address otherwise. Only specify this option when `cluster` is a [private GKE cluster](https://cloud.google.com/kubernetes-engine/docs/concepts/private-cluster-concept).
¸
proxyUrlB" ¥Optional. If set, used to configure a [proxy](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#proxy) to the Kubernetes server.
:§
m
clouddeployTargetIamBindingConditionCgcp:clouddeploy/TargetIamBindingCondition:TargetIamBindingCondition6
4
descriptionB" 

expression" 
title" :¤
j
clouddeployTargetIamMemberConditionAgcp:clouddeploy/TargetIamMemberCondition:TargetIamMemberCondition6
4
descriptionB" 

expression" 
title" :ž
U
clouddeployTargetMultiTarget3gcp:clouddeploy/TargetMultiTarget:TargetMultiTargetE
CA
	targetIds*" .Required. The target_ids of this multiTarget.
:Ó
=
clouddeploy	TargetRun#gcp:clouddeploy/TargetRun:TargetRun‘
Ž‹
location" {Required. The location where the Cloud Run Service should be located. Format is `projects/{project}/locations/{location}`.
:è
u
clouddomainsRegistrationContactSettingsHgcp:clouddomains/RegistrationContactSettings:RegistrationContactSettingsî
ëÚ
adminContactŸ:œ
™
clouddomains'RegistrationContactSettingsAdminContact`gcp:clouddomains/RegistrationContactSettingsAdminContact:RegistrationContactSettingsAdminContact§Caution: Anyone with access to this email address, phone number, and/or postal address can take control of the domain.
Warning: For new Registrations, the registrant receives an email confirmation that they must complete within 15 days to
avoid domain suspension.
Structure is documented below.
­
privacy" Required. Privacy setting for the contacts associated with the Registration.
Values are PUBLIC_CONTACT_DATA, PRIVATE_CONTACT_DATA, and REDACTED_CONTACT_DATA
î
registrantContact®:«
¨
clouddomains,RegistrationContactSettingsRegistrantContactjgcp:clouddomains/RegistrationContactSettingsRegistrantContact:RegistrationContactSettingsRegistrantContact§Caution: Anyone with access to this email address, phone number, and/or postal address can take control of the domain.
Warning: For new Registrations, the registrant receives an email confirmation that they must complete within 15 days to
avoid domain suspension.
Structure is documented below.
ê
technicalContact«:¨
¥
clouddomains+RegistrationContactSettingsTechnicalContacthgcp:clouddomains/RegistrationContactSettingsTechnicalContact:RegistrationContactSettingsTechnicalContact§Caution: Anyone with access to this email address, phone number, and/or postal address can take control of the domain.
Warning: For new Registrations, the registrant receives an email confirmation that they must complete within 15 days to
avoid domain suspension.
Structure is documented below.
:Ú
™
clouddomains'RegistrationContactSettingsAdminContact`gcp:clouddomains/RegistrationContactSettingsAdminContact:RegistrationContactSettingsAdminContact»
¸5
email" (Required. Email address of the contact.
f
	faxNumberB" SFax number of the contact in international format. For example, "+1-800-555-0123".
r
phoneNumber" _Required. Phone number of the contact in international format. For example, "+1-800-555-0123".
¢
postalAddressÆ:Ã
À
clouddomains4RegistrationContactSettingsAdminContactPostalAddresszgcp:clouddomains/RegistrationContactSettingsAdminContactPostalAddress:RegistrationContactSettingsAdminContactPostalAddressHRequired. Postal address of the contact.
Structure is documented below.
:Î
À
clouddomains4RegistrationContactSettingsAdminContactPostalAddresszgcp:clouddomains/RegistrationContactSettingsAdminContactPostalAddress:RegistrationContactSettingsAdminContactPostalAddressˆ
…ø
addressLinesB*" ßUnstructured address lines describing the lower levels of an address.
Because values in addressLines do not have type information and may sometimes contain multiple values in a single
field (e.g. "Austin, TX"), it is important that the line order is clear. The order of address lines should be
"envelope order" for the country/region of the address. In places where this can vary (e.g. Japan), address_language
is used to make it explicit (e.g. "ja" for large-to-small ordering and "ja-Latn" or "en" for small-to-large). This way,
the most specific line of an address can be selected based on the language.
µ
administrativeAreaB" ˜Highest administrative subdivision which is used for postal addresses of a country or region. For example, this can be a state,
a province, an oblast, or a prefecture. Specifically, for Spain this is the province and not the autonomous community
(e.g. "Barcelona" and not "Catalonia"). Many countries don't use an administrative area in postal addresses. E.g. in Switzerland
this should be left unpopulated.
Š
localityB" ÷Generally refers to the city/town portion of the address. Examples: US city, IT comune, UK post town. In regions of the world
where localities are not well defined or do not fit into this structure well, leave locality empty and use addressLines.
C
organizationB" -The name of the organization at the address.
ù

postalCodeB" äPostal code of the address. Not all countries use or require postal codes to be present, but where they are used,
they may trigger additional validation with other parts of the address (e.g. state/zip validation in the U.S.A.).
½

recipientsB*" ¦The recipient at the address. This field may, under certain circumstances, contain multiline information. For example,
it might contain "care of" information.

- - -
Á

regionCode" ®Required. CLDR region code of the country/region of the address. This is never inferred and it is up to the user to
ensure the value is correct. See https://cldr.unicode.org/ and
https://www.unicode.org/cldr/charts/30/supplemental/territory_information.html for details. Example: "CH" for Switzerland.
:ù
¨
clouddomains,RegistrationContactSettingsRegistrantContactjgcp:clouddomains/RegistrationContactSettingsRegistrantContact:RegistrationContactSettingsRegistrantContactË
È5
email" (Required. Email address of the contact.
f
	faxNumberB" SFax number of the contact in international format. For example, "+1-800-555-0123".
r
phoneNumber" _Required. Phone number of the contact in international format. For example, "+1-800-555-0123".
²
postalAddressÖ:Ó
Ð
clouddomains9RegistrationContactSettingsRegistrantContactPostalAddress„gcp:clouddomains/RegistrationContactSettingsRegistrantContactPostalAddress:RegistrationContactSettingsRegistrantContactPostalAddressHRequired. Postal address of the contact.
Structure is documented below.
:Þ
Ð
clouddomains9RegistrationContactSettingsRegistrantContactPostalAddress„gcp:clouddomains/RegistrationContactSettingsRegistrantContactPostalAddress:RegistrationContactSettingsRegistrantContactPostalAddressˆ
…ø
addressLinesB*" ßUnstructured address lines describing the lower levels of an address.
Because values in addressLines do not have type information and may sometimes contain multiple values in a single
field (e.g. "Austin, TX"), it is important that the line order is clear. The order of address lines should be
"envelope order" for the country/region of the address. In places where this can vary (e.g. Japan), address_language
is used to make it explicit (e.g. "ja" for large-to-small ordering and "ja-Latn" or "en" for small-to-large). This way,
the most specific line of an address can be selected based on the language.
µ
administrativeAreaB" ˜Highest administrative subdivision which is used for postal addresses of a country or region. For example, this can be a state,
a province, an oblast, or a prefecture. Specifically, for Spain this is the province and not the autonomous community
(e.g. "Barcelona" and not "Catalonia"). Many countries don't use an administrative area in postal addresses. E.g. in Switzerland
this should be left unpopulated.
Š
localityB" ÷Generally refers to the city/town portion of the address. Examples: US city, IT comune, UK post town. In regions of the world
where localities are not well defined or do not fit into this structure well, leave locality empty and use addressLines.
C
organizationB" -The name of the organization at the address.
ù

postalCodeB" äPostal code of the address. Not all countries use or require postal codes to be present, but where they are used,
they may trigger additional validation with other parts of the address (e.g. state/zip validation in the U.S.A.).
½

recipientsB*" ¦The recipient at the address. This field may, under certain circumstances, contain multiline information. For example,
it might contain "care of" information.

- - -
Á

regionCode" ®Required. CLDR region code of the country/region of the address. This is never inferred and it is up to the user to
ensure the value is correct. See https://cldr.unicode.org/ and
https://www.unicode.org/cldr/charts/30/supplemental/territory_information.html for details. Example: "CH" for Switzerland.
:ó
¥
clouddomains+RegistrationContactSettingsTechnicalContacthgcp:clouddomains/RegistrationContactSettingsTechnicalContact:RegistrationContactSettingsTechnicalContactÈ
Å5
email" (Required. Email address of the contact.
f
	faxNumberB" SFax number of the contact in international format. For example, "+1-800-555-0123".
r
phoneNumber" _Required. Phone number of the contact in international format. For example, "+1-800-555-0123".
¯
postalAddressÓ:Ð
Í
clouddomains8RegistrationContactSettingsTechnicalContactPostalAddress‚gcp:clouddomains/RegistrationContactSettingsTechnicalContactPostalAddress:RegistrationContactSettingsTechnicalContactPostalAddressHRequired. Postal address of the contact.
Structure is documented below.
:Û
Í
clouddomains8RegistrationContactSettingsTechnicalContactPostalAddress‚gcp:clouddomains/RegistrationContactSettingsTechnicalContactPostalAddress:RegistrationContactSettingsTechnicalContactPostalAddressˆ
…ø
addressLinesB*" ßUnstructured address lines describing the lower levels of an address.
Because values in addressLines do not have type information and may sometimes contain multiple values in a single
field (e.g. "Austin, TX"), it is important that the line order is clear. The order of address lines should be
"envelope order" for the country/region of the address. In places where this can vary (e.g. Japan), address_language
is used to make it explicit (e.g. "ja" for large-to-small ordering and "ja-Latn" or "en" for small-to-large). This way,
the most specific line of an address can be selected based on the language.
µ
administrativeAreaB" ˜Highest administrative subdivision which is used for postal addresses of a country or region. For example, this can be a state,
a province, an oblast, or a prefecture. Specifically, for Spain this is the province and not the autonomous community
(e.g. "Barcelona" and not "Catalonia"). Many countries don't use an administrative area in postal addresses. E.g. in Switzerland
this should be left unpopulated.
Š
localityB" ÷Generally refers to the city/town portion of the address. Examples: US city, IT comune, UK post town. In regions of the world
where localities are not well defined or do not fit into this structure well, leave locality empty and use addressLines.
C
organizationB" -The name of the organization at the address.
ù

postalCodeB" äPostal code of the address. Not all countries use or require postal codes to be present, but where they are used,
they may trigger additional validation with other parts of the address (e.g. state/zip validation in the U.S.A.).
½

recipientsB*" ¦The recipient at the address. This field may, under certain circumstances, contain multiline information. For example,
it might contain "care of" information.

- - -
Á

regionCode" ®Required. CLDR region code of the country/region of the address. This is never inferred and it is up to the user to
ensure the value is correct. See https://cldr.unicode.org/ and
https://www.unicode.org/cldr/charts/30/supplemental/territory_information.html for details. Example: "CH" for Switzerland.
:ä
i
clouddomainsRegistrationDnsSettings@gcp:clouddomains/RegistrationDnsSettings:RegistrationDnsSettingsö
óé
	customDnsBŠ:‡
„
clouddomains RegistrationDnsSettingsCustomDnsRgcp:clouddomains/RegistrationDnsSettingsCustomDns:RegistrationDnsSettingsCustomDnsLConfiguration for an arbitrary DNS provider.
Structure is documented below.
„
glueRecords“B*:Š
‡
clouddomains!RegistrationDnsSettingsGlueRecordTgcp:clouddomains/RegistrationDnsSettingsGlueRecord:RegistrationDnsSettingsGlueRecord_The list of glue records for this Registration. Commonly empty.
Structure is documented below.
:Ù
„
clouddomains RegistrationDnsSettingsCustomDnsRgcp:clouddomains/RegistrationDnsSettingsCustomDns:RegistrationDnsSettingsCustomDnsÏ
Ì‹
	dsRecords¨B¥*¢:Ÿ
œ
clouddomains(RegistrationDnsSettingsCustomDnsDsRecordbgcp:clouddomains/RegistrationDnsSettingsCustomDnsDsRecord:RegistrationDnsSettingsCustomDnsDsRecordÒThe list of DS records for this domain, which are used to enable DNSSEC. The domain's DNS provider can provide
the values to set here. If this field is empty, DNSSEC is disabled.
Structure is documented below.
»
nameServers*" ¥Required. A list of name servers that store the DNS zone for this domain. Each name server is a domain
name, with Unicode domain names expressed in Punycode format.
:ß
œ
clouddomains(RegistrationDnsSettingsCustomDnsDsRecordbgcp:clouddomains/RegistrationDnsSettingsCustomDnsDsRecord:RegistrationDnsSettingsCustomDnsDsRecord½
ºI
	algorithmB" 6The algorithm used to generate the referenced DNSKEY.
A
digestB" 1The digest generated from the referenced DNSKEY.
\

digestTypeB" HThe hash function used to generate the digest of the referenced DNSKEY.
L
keyTagB <The key tag of the record. Must be set in range 0 -- 65535.
:Ô
‡
clouddomains!RegistrationDnsSettingsGlueRecordTgcp:clouddomains/RegistrationDnsSettingsGlueRecord:RegistrationDnsSettingsGlueRecordÇ
ÄF
hostName" 6Required. Domain name of the host in Punycode format.
»
ipv4AddressesB*" ¡List of IPv4 addresses corresponding to this host in the standard decimal format (e.g. 198.51.100.1).
At least one of ipv4_address and ipv6_address must be set.
»
ipv6AddressesB*" ¡List of IPv4 addresses corresponding to this host in the standard decimal format (e.g. 198.51.100.1).
At least one of ipv4_address and ipv6_address must be set.
:Œ
~
clouddomainsRegistrationManagementSettingsNgcp:clouddomains/RegistrationManagementSettings:RegistrationManagementSettings‰
†¤
preferredRenewalMethodB" ƒThe desired renewal method for this Registration. The actual renewalMethod is automatically updated to reflect this choice.
If unset or equal to RENEWAL_METHOD_UNSPECIFIED, the actual renewalMethod is treated as if it were set to AUTOMATIC_RENEWAL.
You cannot use RENEWAL_DISABLED during resource creation, and you can update the renewal status only when the Registration
resource has state ACTIVE or SUSPENDED.
When preferredRenewalMethod is set to AUTOMATIC_RENEWAL, the actual renewalMethod can be set to RENEWAL_DISABLED in case of
problems with the billing account or reported domain abuse. In such cases, check the issues field on the Registration. After
the problem is resolved, the renewalMethod is automatically updated to preferredRenewalMethod in a few hours.
Û
renewalMethodB" Ã(Output)
Output only. The actual renewal method for this Registration. When preferredRenewalMethod is set to AUTOMATIC_RENEWAL,
the actual renewalMethod can be equal to RENEWAL_DISABLEDâ€”for example, when there are problems with the billing account
or reported domain abuse. In such cases, check the issues field on the Registration. After the problem is resolved, the
renewalMethod is automatically updated to preferredRenewalMethod in a few hours.

transferLockStateB" dControls whether the domain can be transferred to another registrar. Values are UNLOCKED or LOCKED.
:±
i
clouddomainsRegistrationYearlyPrice@gcp:clouddomains/RegistrationYearlyPrice:RegistrationYearlyPriceÃ
ÀJ
currencyCodeB" 4The three-letter currency code defined in ISO 4217.
r
unitsB" cThe whole units of the amount. For example if currencyCode is "USD", then 1 unit is one US dollar.
:û
d
cloudfunctionsFunctionEventTrigger<gcp:cloudfunctions/FunctionEventTrigger:FunctionEventTrigger’
ñ
	eventType" ßThe type of event to observe. For example: `"google.storage.object.finalize"`.
See the documentation on [calling Cloud Functions](https://cloud.google.com/functions/docs/calling/) for a
full reference of accepted triggers.
ï
failurePolicy”B‘:Ž
‹
cloudfunctions!FunctionEventTriggerFailurePolicyVgcp:cloudfunctions/FunctionEventTriggerFailurePolicy:FunctionEventTriggerFailurePolicyGSpecifies policy for failed executions. Structure is documented below.
¦
resource" •Required. The name or partial URI of the resource from
which to observe events. For example, `"myBucket"` or `"projects/my-project/topics/my-topic"`
:é
‹
cloudfunctions!FunctionEventTriggerFailurePolicyVgcp:cloudfunctions/FunctionEventTriggerFailurePolicy:FunctionEventTriggerFailurePolicyY
WU
retry
 HWhether the function should be retried on failure. Defaults to `false`.
:³
y
cloudfunctionsFunctionIamBindingConditionJgcp:cloudfunctions/FunctionIamBindingCondition:FunctionIamBindingCondition6
4
descriptionB" 

expression" 
title" :°
v
cloudfunctionsFunctionIamMemberConditionHgcp:cloudfunctions/FunctionIamMemberCondition:FunctionIamMemberCondition6
4
descriptionB" 

expression" 
title" :£
‹
cloudfunctions!FunctionSecretEnvironmentVariableVgcp:cloudfunctions/FunctionSecretEnvironmentVariable:FunctionSecretEnvironmentVariable’
-
key" "Name of the environment variable.
¢
	projectIdB" ŽProject identifier (due to a known limitation, only project number is supported by this field) of the project that contains the secret. If not set, it will be populated with the function's project, assuming that the secret exists in the same project as of the function.
O
secret" AID of the secret in secret manager (not the full resource name).
ç
version" ×Version of the secret (version number or the string "latest"). It is recommended to use a numeric version for secret environment variables as any updates to the secret value is not reflected until new clones start.
:á	
d
cloudfunctionsFunctionSecretVolume<gcp:cloudfunctions/FunctionSecretVolume:FunctionSecretVolumeø
õ›
	mountPath" ‰The path within the container to mount the secret volume. For example, setting the mount_path as "/etc/secrets" would mount the secret value files under the "/etc/secrets" directory. This directory will also be completely shadowed and unavailable to mount any other secrets. Recommended mount paths: "/etc/secrets" Restricted mount paths: "/cloudsql", "/dev/log", "/pod", "/proc", "/var/log".
¢
	projectIdB" ŽProject identifier (due to a known limitation, only project number is supported by this field) of the project that contains the secret. If not set, it will be populated with the function's project, assuming that the secret exists in the same project as of the function.
O
secret" AID of the secret in secret manager (not the full resource name).
Þ
versionsB*}:{
y
cloudfunctionsFunctionSecretVolumeVersionJgcp:cloudfunctions/FunctionSecretVolumeVersion:FunctionSecretVolumeVersionÍList of secret versions to mount for this secret. If empty, the "latest" version of the secret will be made available in a file named after the secret under the mount point. Structure is documented below.
:Þ
y
cloudfunctionsFunctionSecretVolumeVersionJgcp:cloudfunctions/FunctionSecretVolumeVersion:FunctionSecretVolumeVersionà
Ý˜
path" ‹Relative path of the file under the mount path where the secret value for this version will be fetched and made available. For example, setting the mount_path as "/etc/secrets" and path as "/secret_foo" would mount the secret value file at "/etc/secrets/secret_foo".
¿
version" ¯Version of the secret (version number or the string "latest"). It is preferable to use "latest" version with secret volumes as secret value changes are reflected immediately.
:¶
p
cloudfunctionsFunctionSourceRepositoryDgcp:cloudfunctions/FunctionSourceRepository:FunctionSourceRepositoryÁ
¾y
deployedUrlB" dThe URL pointing to the hosted repository where the function was defined at the time of deployment.
À
url" ´The URL pointing to the hosted repository where the function is defined. There are supported Cloud Source Repository URLs in the following formats:

* To refer to a specific commit: `https://source.developers.google.com/projects/*/repos/*/revisions/*/paths/*`
* To refer to a moveable alias (branch): `https://source.developers.google.com/projects/*/repos/*/moveable-aliases/*/paths/*`. To refer to HEAD, use the `master` moveable alias.
* To refer to a specific fixed alias (tag): `https://source.developers.google.com/projects/*/repos/*/fixed-aliases/*/paths/*`
:Â
m
cloudfunctionsgetFunctionEventTriggerBgcp:cloudfunctions/getFunctionEventTrigger:getFunctionEventTriggerÐ
Íñ
	eventType" ßThe type of event to observe. For example: `"google.storage.object.finalize"`.
See the documentation on [calling Cloud Functions](https://cloud.google.com/functions/docs/calling/)
for a full reference of accepted triggers.
ð
failurePolicies*š:—
”
cloudfunctions$getFunctionEventTriggerFailurePolicy\gcp:cloudfunctions/getFunctionEventTriggerFailurePolicy:getFunctionEventTriggerFailurePolicy=Policy for failed executions. Structure is documented below.
d
resource" TThe name of the resource whose events are being observed, for example, `"myBucket"`
:Ý
”
cloudfunctions$getFunctionEventTriggerFailurePolicy\gcp:cloudfunctions/getFunctionEventTriggerFailurePolicy:getFunctionEventTriggerFailurePolicyD
B@
retry
 3Whether the function should be retried on failure.
:ª
”
cloudfunctions$getFunctionSecretEnvironmentVariable\gcp:cloudfunctions/getFunctionSecretEnvironmentVariable:getFunctionSecretEnvironmentVariable
-
key" "Name of the environment variable.
 
	projectId" ŽProject identifier (due to a known limitation, only project number is supported by this field) of the project that contains the secret. If not set, it will be populated with the function's project, assuming that the secret exists in the same project as of the function.
O
secret" AID of the secret in secret manager (not the full resource name).
ç
version" ×Version of the secret (version number or the string "latest"). It is recommended to use a numeric version for secret environment variables as any updates to the secret value is not reflected until new clones start.
:Ó	
m
cloudfunctionsgetFunctionSecretVolumeBgcp:cloudfunctions/getFunctionSecretVolume:getFunctionSecretVolumeá
Þ›
	mountPath" ‰The path within the container to mount the secret volume. For example, setting the mount_path as "/etc/secrets" would mount the secret value files under the "/etc/secrets" directory. This directory will also be completely shadowed and unavailable to mount any other secrets. Recommended mount paths: "/etc/secrets" Restricted mount paths: "/cloudsql", "/dev/log", "/pod", "/proc", "/var/log".
 
	projectId" ŽProject identifier (due to a known limitation, only project number is supported by this field) of the project that contains the secret. If not set, it will be populated with the function's project, assuming that the secret exists in the same project as of the function.
O
secret" AID of the secret in secret manager (not the full resource name).
É
versions‹*ˆ:…
‚
cloudfunctionsgetFunctionSecretVolumeVersionPgcp:cloudfunctions/getFunctionSecretVolumeVersion:getFunctionSecretVolumeVersion®List of secret versions to mount for this secret. If empty, the "latest" version of the secret will be made available in a file named after the secret under the mount point.
:è
‚
cloudfunctionsgetFunctionSecretVolumeVersionPgcp:cloudfunctions/getFunctionSecretVolumeVersion:getFunctionSecretVolumeVersionà
Ý˜
path" ‹Relative path of the file under the mount path where the secret value for this version will be fetched and made available. For example, setting the mount_path as "/etc/secrets" and path as "/secret_foo" would mount the secret value file at "/etc/secrets/secret_foo".
¿
version" ¯Version of the secret (version number or the string "latest"). It is preferable to use "latest" version with secret volumes as secret value changes are reflected immediately.
:Ð
y
cloudfunctionsgetFunctionSourceRepositoryJgcp:cloudfunctions/getFunctionSourceRepository:getFunctionSourceRepositoryÒ
Ïw
deployedUrl" dThe URL pointing to the hosted repository where the function was defined at the time of deployment.
T
url" IThe URL pointing to the hosted repository where the function is defined.
:Ö
e
cloudfunctionsv2FunctionBuildConfig<gcp:cloudfunctionsv2/FunctionBuildConfig:FunctionBuildConfigì
é´
automaticUpdatePolicy­Bª:§
¤
cloudfunctionsv2(FunctionBuildConfigAutomaticUpdatePolicyfgcp:cloudfunctionsv2/FunctionBuildConfigAutomaticUpdatePolicy:FunctionBuildConfigAutomaticUpdatePolicykSecurity patches are applied automatically to the runtime without requiring
the function to be redeployed.
b
buildB" S(Output)
The Cloud Build name of the latest successful
deployment of the function.
‚
dockerRepositoryB" hUser managed repository created in Artifact Registry optionally with a customer managed encryption key.
ö

entryPointB" áThe name of the function (as defined in source code) that will be executed.
Defaults to the resource name suffix, if not specified. For backward
compatibility, if function with given name is not found, then the system
will try to use function named "function". For Node.js this is name of a
function exported by the module specified in source_location.
a
environmentVariablesB2" AUser-provided build-time environment variables for the function.
¥
onDeployUpdatePolicyªB§:¤
¡
cloudfunctionsv2'FunctionBuildConfigOnDeployUpdatePolicydgcp:cloudfunctionsv2/FunctionBuildConfigOnDeployUpdatePolicy:FunctionBuildConfigOnDeployUpdatePolicy`Security patches are only applied when a function is redeployed.
Structure is documented below.

runtimeB" The runtime in which to run the function. Required when deploying a new
function, optional when updating an existing function.
o
serviceAccountB" WThe fully-qualified name of the service account to be used for building the container.
Ò
source}B{:y
w
cloudfunctionsv2FunctionBuildConfigSourceHgcp:cloudfunctionsv2/FunctionBuildConfigSource:FunctionBuildConfigSourceIThe location of the function source code.
Structure is documented below.
j

workerPoolB" VName of the Cloud Build Custom Worker Pool that should be used to build the function.
:«
¤
cloudfunctionsv2(FunctionBuildConfigAutomaticUpdatePolicyfgcp:cloudfunctionsv2/FunctionBuildConfigAutomaticUpdatePolicy:FunctionBuildConfigAutomaticUpdatePolicy
 :‘
¡
cloudfunctionsv2'FunctionBuildConfigOnDeployUpdatePolicydgcp:cloudfunctionsv2/FunctionBuildConfigOnDeployUpdatePolicy:FunctionBuildConfigOnDeployUpdatePolicyk
ig
runtimeVersionB" O(Output)
The runtime version which was used during latest function deployment.
:Â
w
cloudfunctionsv2FunctionBuildConfigSourceHgcp:cloudfunctionsv2/FunctionBuildConfigSource:FunctionBuildConfigSourceÆ
Ã›

repoSourcežB›:˜
•
cloudfunctionsv2#FunctionBuildConfigSourceRepoSource\gcp:cloudfunctionsv2/FunctionBuildConfigSourceRepoSource:FunctionBuildConfigSourceRepoSourcelIf provided, get the source from this location in a Cloud Source Repository.
Structure is documented below.
¢
storageSource§B¤:¡
ž
cloudfunctionsv2&FunctionBuildConfigSourceStorageSourcebgcp:cloudfunctionsv2/FunctionBuildConfigSourceStorageSource:FunctionBuildConfigSourceStorageSourcegIf provided, get the source from this location in Google Cloud Storage.
Structure is documented below.
:µ
•
cloudfunctionsv2#FunctionBuildConfigSourceRepoSource\gcp:cloudfunctionsv2/FunctionBuildConfigSourceRepoSource:FunctionBuildConfigSourceRepoSourceš
—6

branchNameB" "Regex matching branches to build.
1
	commitShaB" Regex matching tags to build.
P
dirB" CDirectory, relative to the source root, in which to run the build.
c
invertRegexB
 NOnly trigger a build if the revision regex does
NOT match the revision regex.
ˆ
	projectIdB" uID of the project that owns the Cloud Source Repository. If omitted, the
project ID requesting the build is assumed.
7
repoNameB" %Name of the Cloud Source Repository.
/
tagNameB" Regex matching tags to build.
:¹
ž
cloudfunctionsv2&FunctionBuildConfigSourceStorageSourcebgcp:cloudfunctionsv2/FunctionBuildConfigSourceStorageSource:FunctionBuildConfigSourceStorageSource•
’B
bucketB" 2Google Cloud Storage bucket containing the source
†

generationB rGoogle Cloud Storage generation for the object. If the generation
is omitted, the latest generation will be used.
C
objectB" 3Google Cloud Storage object containing the source.
:©
h
cloudfunctionsv2FunctionEventTrigger>gcp:cloudfunctionsv2/FunctionEventTrigger:FunctionEventTrigger¼

¹
ç
eventFilters•B’*:Œ
‰
cloudfunctionsv2FunctionEventTriggerEventFilterTgcp:cloudfunctionsv2/FunctionEventTriggerEventFilter:FunctionEventTriggerEventFilter?Criteria used to filter events.
Structure is documented below.
;
	eventTypeB" (Required. The type of event to observe.
†
pubsubTopicB" qThe name of a Pub/Sub topic in the same project that will be used
as the transport topic for the event delivery.
ó
retryPolicyB" ÝDescribes the retry policy in case of function's execution failure.
Retried execution is charged as any other execution.
Possible values are: `RETRY_POLICY_UNSPECIFIED`, `RETRY_POLICY_DO_NOT_RETRY`, `RETRY_POLICY_RETRY`.
•
serviceAccountEmailB" ÷Optional. The email of the trigger's service account. The service account
must have permission to invoke Cloud Run services. If empty, defaults to the
Compute Engine default service account: {project_number}-compute@developer.gserviceaccount.com.
R
triggerB" A(Output)
Output only. The resource name of the Eventarc trigger.
¤
triggerRegionB" ŒThe region that the trigger will be in. The trigger will only receive
events originating in this region. It can be the same
region as the function, a different region or multi-region, or the global
region. If not provided, defaults to the same region as the function.
:ü
‰
cloudfunctionsv2FunctionEventTriggerEventFilterTgcp:cloudfunctionsv2/FunctionEventTriggerEventFilter:FunctionEventTriggerEventFilterí
êß
	attribute" Í'Required. The name of a CloudEvents attribute.
Currently, only a subset of attributes are supported for filtering. Use the `gcloud eventarc providers describe` command to learn more about events and their attributes.
Do not filter for the 'type' attribute here, as this is already achieved by the resource's `event_type` attribute.
Û
operatorB" ÈOptional. The operator used for matching the events with the value of
the filter. If not specified, only events that have an exact key-value
pair specified in the filter are matched.
The only allowed value is `match-path-pattern`.
[See documentation on path patterns here](https://cloud.google.com/eventarc/docs/path-patterns)'
§
value" ™Required. The value for the attribute.
If the operator field is set as `match-path-pattern`, this value can be a path pattern instead of an exact value.
:·
}
cloudfunctionsv2FunctionIamBindingConditionLgcp:cloudfunctionsv2/FunctionIamBindingCondition:FunctionIamBindingCondition6
4
descriptionB" 

expression" 
title" :´
z
cloudfunctionsv2FunctionIamMemberConditionJgcp:cloudfunctionsv2/FunctionIamMemberCondition:FunctionIamMemberCondition6
4
descriptionB" 

expression" 
title" :Ó
k
cloudfunctionsv2FunctionServiceConfig@gcp:cloudfunctionsv2/FunctionServiceConfig:FunctionServiceConfigã
àp
allTrafficOnLatestRevisionB
 LWhether 100% of traffic is routed to the latest revision. Defaults to true.

availableCpuB" kThe number of CPUs used in a single container instance. Default value is calculated from available memory.
º
availableMemoryB"  The amount of memory available for a function.
Defaults to 256M. Supported units are k, M, G, Mi, Gi. If no unit is
supplied the value is interpreted as bytes.
i
environmentVariablesB2" IEnvironment variables that shall be available during function execution.
6
gcfUriB" &(Output)
URIs of the Service deployed
Ð
ingressSettingsB" ¶Available ingress settings. Defaults to "ALLOW_ALL" if unspecified.
Default value is `ALLOW_ALL`.
Possible values are: `ALLOW_ALL`, `ALLOW_INTERNAL_ONLY`, `ALLOW_INTERNAL_AND_GCLB`.
r
maxInstanceCountB XThe limit on the maximum number of function instances that may coexist at a
given time.
…
maxInstanceRequestConcurrencyB ^Sets the maximum number of concurrent requests that each instance can receive. Defaults to 1.
r
minInstanceCountB XThe limit on the minimum number of function instances that may coexist at a
given time.
®
secretEnvironmentVariablesÂB¿*¼:¹
¶
cloudfunctionsv2.FunctionServiceConfigSecretEnvironmentVariablergcp:cloudfunctionsv2/FunctionServiceConfigSecretEnvironmentVariable:FunctionServiceConfigSecretEnvironmentVariableKSecret environment variables configuration.
Structure is documented below.
ì
secretVolumes›B˜*•:’

cloudfunctionsv2!FunctionServiceConfigSecretVolumeXgcp:cloudfunctionsv2/FunctionServiceConfigSecretVolume:FunctionServiceConfigSecretVolume=Secret volumes configuration.
Structure is documented below.
A
serviceB" 0Name of the service associated with a Function.
Q
serviceAccountEmailB" 4The email of the service account for this function.
É
timeoutSecondsB °The function execution timeout. Execution is considered failed and
can be terminated if the function is not completed at the end of the
timeout period. Defaults to 60 seconds.
3
uriB" &(Output)
URI of the Service deployed.
c
vpcConnectorB" MThe Serverless VPC Access connector that this cloud function can connect to.
¨
vpcConnectorEgressSettingsB" ƒAvailable egress settings.
Possible values are: `VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED`, `PRIVATE_RANGES_ONLY`, `ALL_TRAFFIC`.
:¿
¶
cloudfunctionsv2.FunctionServiceConfigSecretEnvironmentVariablergcp:cloudfunctionsv2/FunctionServiceConfigSecretEnvironmentVariable:FunctionServiceConfigSecretEnvironmentVariableƒ
€-
key" "Name of the environment variable.
Ž
	projectId" üProject identifier (preferably project number but can also be the project ID) of the project that contains the secret. If not set, it will be populated with the function's project assuming that the secret exists in the same project as of the function.
Q
secret" CName of the secret in secret manager (not the full resource name).
ê
version" ÚVersion of the secret (version number or the string 'latest'). It is recommended to use a numeric version for secret environment variables as any updates to the secret value is not reflected until new instances start.
:Ó	

cloudfunctionsv2!FunctionServiceConfigSecretVolumeXgcp:cloudfunctionsv2/FunctionServiceConfigSecretVolume:FunctionServiceConfigSecretVolume¾
»Å
	mountPath" ³The path within the container to mount the secret volume. For example, setting the mountPath as /etc/secrets would mount the secret value files under the /etc/secrets directory. This directory will also be completely shadowed and unavailable to mount any other secrets. Recommended mount path: /etc/secrets
Ž
	projectId" üProject identifier (preferably project number but can also be the project ID) of the project that contains the secret. If not set, it will be populated with the function's project assuming that the secret exists in the same project as of the function.
Q
secret" CName of the secret in secret manager (not the full resource name).
Œ
versions°B­*ª:§
¤
cloudfunctionsv2(FunctionServiceConfigSecretVolumeVersionfgcp:cloudfunctionsv2/FunctionServiceConfigSecretVolumeVersion:FunctionServiceConfigSecretVolumeVersionÌList of secret versions to mount for this secret. If empty, the latest version of the secret will be made available in a file named after the secret under the mount point.'
Structure is documented below.
:‚
¤
cloudfunctionsv2(FunctionServiceConfigSecretVolumeVersionfgcp:cloudfunctionsv2/FunctionServiceConfigSecretVolumeVersion:FunctionServiceConfigSecretVolumeVersionØ
Õ’
path" …Relative path of the file under the mount path where the secret value for this version will be fetched and made available. For example, setting the mountPath as '/etc/secrets' and path as secret_foo would mount the secret value file at /etc/secrets/secret_foo.
½
version" ­Version of the secret (version number or the string 'latest'). It is preferable to use latest version with secret volumes as secret value changes are reflected immediately.
:®
n
cloudfunctionsv2getFunctionBuildConfigBgcp:cloudfunctionsv2/getFunctionBuildConfig:getFunctionBuildConfig»
¸¿
automaticUpdatePolicies¶*³:°
­
cloudfunctionsv2+getFunctionBuildConfigAutomaticUpdatePolicylgcp:cloudfunctionsv2/getFunctionBuildConfigAutomaticUpdatePolicy:getFunctionBuildConfigAutomaticUpdatePolicykSecurity patches are applied automatically to the runtime without requiring
the function to be redeployed.
W
build" JThe Cloud Build name of the latest successful
deployment of the function.
€
dockerRepository" hUser managed repository created in Artifact Registry optionally with a customer managed encryption key.
ô

entryPoint" áThe name of the function (as defined in source code) that will be executed.
Defaults to the resource name suffix, if not specified. For backward
compatibility, if function with given name is not found, then the system
will try to use function named "function". For Node.js this is name of a
function exported by the module specified in source_location.
_
environmentVariables2" AUser-provided build-time environment variables for the function.
‘
onDeployUpdatePolicies³*°:­
ª
cloudfunctionsv2*getFunctionBuildConfigOnDeployUpdatePolicyjgcp:cloudfunctionsv2/getFunctionBuildConfigOnDeployUpdatePolicy:getFunctionBuildConfigOnDeployUpdatePolicyASecurity patches are only applied when a function is redeployed.
Ž
runtime" The runtime in which to run the function. Required when deploying a new
function, optional when updating an existing function.
m
serviceAccount" WThe fully-qualified name of the service account to be used for building the container.
Á
sources‰*†:ƒ
€
cloudfunctionsv2getFunctionBuildConfigSourceNgcp:cloudfunctionsv2/getFunctionBuildConfigSource:getFunctionBuildConfigSource*The location of the function source code.
h

workerPool" VName of the Cloud Build Custom Worker Pool that should be used to build the function.
:´
­
cloudfunctionsv2+getFunctionBuildConfigAutomaticUpdatePolicylgcp:cloudfunctionsv2/getFunctionBuildConfigAutomaticUpdatePolicy:getFunctionBuildConfigAutomaticUpdatePolicy
 :
ª
cloudfunctionsv2*getFunctionBuildConfigOnDeployUpdatePolicyjgcp:cloudfunctionsv2/getFunctionBuildConfigOnDeployUpdatePolicy:getFunctionBuildConfigOnDeployUpdatePolicy`
^\
runtimeVersion" FThe runtime version which was used during latest function deployment.
:¢
€
cloudfunctionsv2getFunctionBuildConfigSourceNgcp:cloudfunctionsv2/getFunctionBuildConfigSource:getFunctionBuildConfigSourceœ
™†
repoSources§*¤:¡
ž
cloudfunctionsv2&getFunctionBuildConfigSourceRepoSourcebgcp:cloudfunctionsv2/getFunctionBuildConfigSourceRepoSource:getFunctionBuildConfigSourceRepoSourceMIf provided, get the source from this location in a Cloud Source Repository.

storageSources°*­:ª
§
cloudfunctionsv2)getFunctionBuildConfigSourceStorageSourcehgcp:cloudfunctionsv2/getFunctionBuildConfigSourceStorageSource:getFunctionBuildConfigSourceStorageSourceHIf provided, get the source from this location in Google Cloud Storage.
:°
ž
cloudfunctionsv2&getFunctionBuildConfigSourceRepoSourcebgcp:cloudfunctionsv2/getFunctionBuildConfigSourceRepoSource:getFunctionBuildConfigSourceRepoSourceŒ
‰4

branchName" "Regex matching branches to build.
/
	commitSha" Regex matching tags to build.
N
dir" CDirectory, relative to the source root, in which to run the build.
a
invertRegex
 NOnly trigger a build if the revision regex does
NOT match the revision regex.
†
	projectId" uID of the project that owns the Cloud Source Repository. If omitted, the
project ID requesting the build is assumed.
5
repoName" %Name of the Cloud Source Repository.
-
tagName" Regex matching tags to build.
:¼
§
cloudfunctionsv2)getFunctionBuildConfigSourceStorageSourcehgcp:cloudfunctionsv2/getFunctionBuildConfigSourceStorageSource:getFunctionBuildConfigSourceStorageSource
Œ@
bucket" 2Google Cloud Storage bucket containing the source
„

generation rGoogle Cloud Storage generation for the object. If the generation
is omitted, the latest generation will be used.
A
object" 3Google Cloud Storage object containing the source.
:
q
cloudfunctionsv2getFunctionEventTriggerDgcp:cloudfunctionsv2/getFunctionEventTrigger:getFunctionEventTrigger‹

ˆ
Î
eventFilters›*˜:•
’
cloudfunctionsv2"getFunctionEventTriggerEventFilterZgcp:cloudfunctionsv2/getFunctionEventTriggerEventFilter:getFunctionEventTriggerEventFilter Criteria used to filter events.
9
	eventType" (Required. The type of event to observe.
„
pubsubTopic" qThe name of a Pub/Sub topic in the same project that will be used
as the transport topic for the event delivery.
î
retryPolicy" ÚDescribes the retry policy in case of function's execution failure.
Retried execution is charged as any other execution. Possible values: ["RETRY_POLICY_UNSPECIFIED", "RETRY_POLICY_DO_NOT_RETRY", "RETRY_POLICY_RETRY"]
“
serviceAccountEmail" ÷Optional. The email of the trigger's service account. The service account
must have permission to invoke Cloud Run services. If empty, defaults to the
Compute Engine default service account: {project_number}-compute@developer.gserviceaccount.com.
G
trigger" 8Output only. The resource name of the Eventarc trigger.
¢
triggerRegion" ŒThe region that the trigger will be in. The trigger will only receive
events originating in this region. It can be the same
region as the function, a different region or multi-region, or the global
region. If not provided, defaults to the same region as the function.
:ƒ
’
cloudfunctionsv2"getFunctionEventTriggerEventFilterZgcp:cloudfunctionsv2/getFunctionEventTriggerEventFilter:getFunctionEventTriggerEventFilterë
èß
	attribute" Í'Required. The name of a CloudEvents attribute.
Currently, only a subset of attributes are supported for filtering. Use the 'gcloud eventarc providers describe' command to learn more about events and their attributes.
Do not filter for the 'type' attribute here, as this is already achieved by the resource's 'event_type' attribute.
Ù
operator" ÈOptional. The operator used for matching the events with the value of
the filter. If not specified, only events that have an exact key-value
pair specified in the filter are matched.
The only allowed value is 'match-path-pattern'.
[See documentation on path patterns here](https://cloud.google.com/eventarc/docs/path-patterns)'
§
value" ™Required. The value for the attribute.
If the operator field is set as 'match-path-pattern', this value can be a path pattern instead of an exact value.
:ð
t
cloudfunctionsv2getFunctionServiceConfigFgcp:cloudfunctionsv2/getFunctionServiceConfig:getFunctionServiceConfig÷
ôn
allTrafficOnLatestRevision
 LWhether 100% of traffic is routed to the latest revision. Defaults to true.

availableCpu" kThe number of CPUs used in a single container instance. Default value is calculated from available memory.
¸
availableMemory"  The amount of memory available for a function.
Defaults to 256M. Supported units are k, M, G, Mi, Gi. If no unit is
supplied the value is interpreted as bytes.
g
environmentVariables2" IEnvironment variables that shall be available during function execution.
+
gcfUri" URIs of the Service deployed
È
ingressSettings" °Available ingress settings. Defaults to "ALLOW_ALL" if unspecified. Default value: "ALLOW_ALL" Possible values: ["ALLOW_ALL", "ALLOW_INTERNAL_ONLY", "ALLOW_INTERNAL_AND_GCLB"]
p
maxInstanceCount XThe limit on the maximum number of function instances that may coexist at a
given time.
ƒ
maxInstanceRequestConcurrency ^Sets the maximum number of concurrent requests that each instance can receive. Defaults to 1.
p
minInstanceCount XThe limit on the minimum number of function instances that may coexist at a
given time.
•
secretEnvironmentVariablesÈ*Å:Â
¿
cloudfunctionsv21getFunctionServiceConfigSecretEnvironmentVariablexgcp:cloudfunctionsv2/getFunctionServiceConfigSecretEnvironmentVariable:getFunctionServiceConfigSecretEnvironmentVariable,Secret environment variables configuration.
Ó
secretVolumes¡*ž:›
˜
cloudfunctionsv2$getFunctionServiceConfigSecretVolume^gcp:cloudfunctionsv2/getFunctionServiceConfigSecretVolume:getFunctionServiceConfigSecretVolumeSecret volumes configuration.
?
service" 0Name of the service associated with a Function.
O
serviceAccountEmail" 4The email of the service account for this function.
Ç
timeoutSeconds °The function execution timeout. Execution is considered failed and
can be terminated if the function is not completed at the end of the
timeout period. Defaults to 60 seconds.
(
uri" URI of the Service deployed.
a
vpcConnector" MThe Serverless VPC Access connector that this cloud function can connect to.
£
vpcConnectorEgressSettings" €Available egress settings. Possible values: ["VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED", "PRIVATE_RANGES_ONLY", "ALL_TRAFFIC"]
:È
¿
cloudfunctionsv21getFunctionServiceConfigSecretEnvironmentVariablexgcp:cloudfunctionsv2/getFunctionServiceConfigSecretEnvironmentVariable:getFunctionServiceConfigSecretEnvironmentVariableƒ
€-
key" "Name of the environment variable.
Ž
	projectId" üProject identifier (preferably project number but can also be the project ID) of the project that contains the secret. If not set, it will be populated with the function's project assuming that the secret exists in the same project as of the function.
Q
secret" CName of the secret in secret manager (not the full resource name).
ê
version" ÚVersion of the secret (version number or the string 'latest'). It is recommended to use a numeric version for secret environment variables as any updates to the secret value is not reflected until new instances start.
:Ã	
˜
cloudfunctionsv2$getFunctionServiceConfigSecretVolume^gcp:cloudfunctionsv2/getFunctionServiceConfigSecretVolume:getFunctionServiceConfigSecretVolume¥
¢Å
	mountPath" ³The path within the container to mount the secret volume. For example, setting the mountPath as /etc/secrets would mount the secret value files under the /etc/secrets directory. This directory will also be completely shadowed and unavailable to mount any other secrets. Recommended mount path: /etc/secrets
Ž
	projectId" üProject identifier (preferably project number but can also be the project ID) of the project that contains the secret. If not set, it will be populated with the function's project assuming that the secret exists in the same project as of the function.
Q
secret" CName of the secret in secret manager (not the full resource name).
ó
versions¶*³:°
­
cloudfunctionsv2+getFunctionServiceConfigSecretVolumeVersionlgcp:cloudfunctionsv2/getFunctionServiceConfigSecretVolumeVersion:getFunctionServiceConfigSecretVolumeVersion­List of secret versions to mount for this secret. If empty, the latest version of the secret will be made available in a file named after the secret under the mount point.'
:‹
­
cloudfunctionsv2+getFunctionServiceConfigSecretVolumeVersionlgcp:cloudfunctionsv2/getFunctionServiceConfigSecretVolumeVersion:getFunctionServiceConfigSecretVolumeVersionØ
Õ’
path" …Relative path of the file under the mount path where the secret value for this version will be fetched and made available. For example, setting the mountPath as '/etc/secrets' and path as secret_foo would mount the secret value file at /etc/secrets/secret_foo.
½
version" ­Version of the secret (version number or the string 'latest'). It is preferable to use latest version with secret volumes as secret value changes are reflected immediately.
